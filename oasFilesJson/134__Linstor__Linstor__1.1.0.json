{"openapi":"3.0.2","servers":[{"url":"http://localhost:3370","description":"Local Linstor controller"}],"info":{"description":"Linstor REST API V1\n\nThe V1 rest api of Linstor should stay compatible and only additions are made to the API,\nIf there are breaking changes or redesigned a new major REST API version will be issued.\n\nServer runs per default on port `3370` on `::` ipv6 and ipv4.\n\nTo change the bind address or port you can use the following linstor client commands:\n```\nlinstor controller set-property REST/bindAddress 127.0.0.1\nlinstor controller set-property REST/port 8080\n```\n\nAfter setting this properties restart the controller and the new values should be used.\n\nChangelog:\n\n* 1.1.0\n   - Added /v1/view/snapshots for a faster all in one snapshot list\n   - Filter lists by properties:\n      - /v1/nodes\n      - /v1/resource-definitions\n      - /v1/resource-groups\n      - /v1/view/storage-pools\n      - /v1/view/resources\n* 1.0.16\n   - Added CacheResource and CacheVolume schemas\n   - AutSelectFilter arrays are now null per default\n* 1.0.15\n  - Added connections map to the DRBD resource layer data\n  - Added support for Openflex\n* 1.0.14\n  - Added /v1/controller/config, that gives you the controller config information\n* 1.0.13\n  - Fixed broken volume definition modify `flags` handling\n  - Added flags to volume groups (create/modify)\n* 1.0.12\n  - Added WritecacheResource and WritecacheVolume schemas.\n  - Removed support for swordfish\n  - Added `with_storage_pool` to PhysicalStorageCreate post request, allowing to create linstor storage pools too\n  - Added `gross` flag for volume-definition size\n  - Added flags to VolumeDefinitionModify (so that `gross` flag can be changed)\n  - Added query-max-volume-size to resource-groups\n* 1.0.11\n  - Added /v1/physical-storage endpoint, that lets you query and create lvm/zfs pools\n  - Extended Node with list of supported providers and layers as well as lists of reasons for\n    unsupported providers and layers\n* 1.0.10\n  - Added `reports` array field to Volume object, contains ApiCallRcs for problems\n  - Changed `ResourceDefinitions` can now include `VolumeDefinitions` in `volume_definitions` field\n  - Added various filter query parameters\n* 1.0.9\n  - Added supports_snapshots to StoragePool\n* 1.0.8\n  - Added /v1/resource-groups\n  - Added /v1/resource-groups/{rscgrp}/volume-groups\n  - Moved AutoSelectFilter::place_count default indirectly to create resource implementation\n  - Added diskless_on_remaining to AutoSelectFilter\n  - Changed /v1/view/resources return type to ResourceWithVolumes\n    ResourceWithVolumes is now a child type of Resource (removed volumes from Resource)\n* 1.0.7\n  - Added ext_meta_stor_pool to DrbdVolume\n  - Added is_active field to the NetInterface type\n* 1.0.6\n  - Added /v1/resource-definitions/{rscName}/resources/{nodeName}/volumes/{vlmnr} PUT\n* 1.0.5\n  - Added `reports` field to StoragePool object\n* 1.0.4\n  - Added /v1/view/storage-pools overview path\n  - Added uuid fields for objects\n* 1.0.3\n  - Added /v1/view/resources overview path\n  - documentation schema extraction\n* 1.0.2\n  - Added /v1/storage-pool-definitions object path\n  - added NVME layer object type\n* 1.0.1\n  - Documentation review and updates\n  - no functional changes\n* 1.0.0\n  - Initial REST API v1\n","version":"1.1.0","title":"Linstor REST API","contact":{"email":"rene.peinthor@linbit.com"},"license":{"name":"GPLv3","url":"https://www.gnu.org/licenses/gpl-3.0.html"}},"tags":[{"name":"developers","description":"Operations available to regular developers"}],"paths":{"/v1/storage-pool-definitions":{"get":{"tags":["developers"],"summary":"Lists storage pool definitions","operationId":"storagePoolDfnList","description":"Returns an array of all storage pool definitions","parameters":[{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/Limit"}],"responses":{"200":{"description":"Array of all storage pool definitions","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StoragePoolDefinition"}}}}}}},"post":{"tags":["developers"],"summary":"add a storage pool definition to Linstor","operationId":"storagePoolDfnAdd","description":"Adds a storage pool definition to Linstor\n","responses":{"201":{"description":"storage pool definition created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoragePoolDefinition"},"example":{"storage_pool_name":"ssd_pool"}}},"description":"Storage pool definition to add"}}},"/v1/storage-pool-definitions/{storagepool}":{"parameters":[{"name":"storagepool","in":"path","required":true,"schema":{"type":"string","description":"Storage pool definition to use"}}],"get":{"tags":["developers"],"summary":"Lists a specific storage pool definition","operationId":"storagePoolDfnGet","description":"Returns a specific storage pool definition","responses":{"200":{"description":"Specified storage pool definition","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoragePoolDefinition"}}}}}},"put":{"tags":["developers"],"summary":"modify a storage pool definition","operationId":"storPoolDfnModify","description":"Sets or modifies properties\n\nPossible properties are:\n- `MaxOversubscriptionRatio` - range[`1-1000`]\n","responses":{"200":{"description":"storage pool definition modified","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoragePoolDefinitionModify"},"example":{"override_props":{"Aux/testprop":"1"},"delete_props":["Aux/deleteprop"]}}}}},"delete":{"tags":["developers"],"summary":"delete a storage pool definition","operationId":"storagePoolDefinitionDelete","description":"Delete a storage pool definition from Linstor","responses":{"200":{"description":"storage pool definition deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/nodes":{"get":{"tags":["developers"],"summary":"Lists nodes registered to the controller","operationId":"nodeList","description":"Returns an array of all nodes registered to Linstor.\n","parameters":[{"name":"nodes","in":"query","description":"Filter only for the specified nodes, if not specified no filtering.","schema":{"type":"array","items":{"type":"string"}}},{"$ref":"#/components/parameters/Props"},{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/Limit"}],"responses":{"200":{"description":"Array of all node objects","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Node"}}}}},"400":{"$ref":"#/components/responses/InvalidInput"}}},"post":{"tags":["developers"],"summary":"add a node to Linstor","operationId":"nodeAdd","description":"Adds a node to Linstor\n\nIf only one net-interface is specified and it is does not specify\na `satellite_port` it will apply the default port and `satellite_encryption_type`\nfor this net-interface.\n","responses":{"201":{"description":"node created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Node"},"example":{"name":"nodeA","type":"SATELLITE","net_interfaces":[{"name":"default","address":"10.0.0.2","satellite_port":3366,"satellite_encryption_type":"Plain","is_active":true}]}}},"description":"Node to add to Linstor"}}},"/v1/nodes/{node}":{"parameters":[{"$ref":"#/components/parameters/Node"}],"put":{"tags":["developers"],"summary":"modify a node","operationId":"nodeModify","description":"Sets or modifies properties\n\nPossible properties are:\n- `PrefNic` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Preferred network interface to use\n\n- `StorPoolName` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Linstor storage pool name to use.\n\n- `StorPoolNameDrbdMeta` - regex[`^|.internal|[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Linstor storage pool name to use.\n\n- `DrbdMetaType` - enum\n    * external\n    * internal\n\n- `sys/fs/blkio_throttle_read` - long\n\n    Sets the /sys/fs/cgroup/blkio/blkio.throttle.read_bps_device\n\n- `sys/fs/blkio_throttle_write` - long\n\n    Sets the /sys/fs/cgroup/blkio/blkio.throttle.write_bps_device\n\n- `Writecache/PoolName` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Linstor storage pool name for writecache\n\n- `Writecache/Size` - regex[`^100%|[0-9]{1,2}([.][0-9]*)?%|[1-9][0-9]{2,}$`]\n\n    Size of the writecache in % (0-100) or KiB otherwise\n\n- `Writecache/Blocksize` - long\n\n    4096 is recommended; the maximum block size is the page size\n\n- `Writecache/Options/StartSector` - long\n\n    offset from the start of cache device in 512-byte sectors\n\n- `Writecache/Options/HighWatermark` - long\n\n    start writeback when the number of used blocks reach this watermark\n\n- `Writecache/Options/LowWatermark` - long\n\n    stop writeback when the number of used blocks drops below this watermark\n\n- `Writecache/Options/WritebackJobs` - long\n\n    limit the number of blocks that are in flight during writeback. Setting this value reduces writeback throughput, but it may improve latency of read requests\n\n- `Writecache/Options/AutocommitBlocks` - long\n\n    when the application writes this amount of blocks without issuing the FLUSH request, the blocks are automatically commited\n\n- `Writecache/Options/AutocommitTime` - long\n\n    autocommit time in milliseconds. The data is automatically commited if this time passes and no FLUSH request is received\n\n- `Writecache/Options/Fua` - enum\n\n    \"On\" results in \"fua\" as argument, whereas the value \"Off\" results in \"nofua\" argument\n\n    * On\n    * Off\n\n- `Writecache/Options/Additional` - string\n\n    Additional arguments passed through\n\n- `Cache/OpMode` - enum\n\n    Operation mode\n\n    * writeback\n    * writethrough\n    * passthrough\n\n- `Cache/MetaPool` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Name of the storage pool used for the cache metadata. If not specified, this will default to the CachePool property\n\n- `Cache/Metasize` - regex[`^100%|[0-9]{1,2}([.][0-9]*)?%|[1-9][0-9]{2,}$`]\n\n    Size of the cache in % (0-100) or KiB otherwise.\n\n- `Cache/CachePool` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Name of the storage pool used for the cache cache device\n\n- `Cache/Metasize` - regex[`^100%|[0-9]{1,2}([.][0-9]*)?%|[1-9][0-9]{2,}$`]\n\n    Size of the cache in % (0-100) or KiB otherwise.\n\n- `Cache/Blocksize` - long\n\n    Block size\n\n- `Cache/Policy` - enum\n\n    Replacemant policy\n\n    * mq\n    * smq\n    * cleaner\n\n- `StorDriver/Openflex/ApiHost` - regex[`.+`]\n- `StorDriver/Openflex/ApiPort` - regex[`[0-9]+`]\n- `StorDriver/Openflex/UserName` - regex[`.+`]\n- `StorDriver/Openflex/UserPassword` - regex[`.+`]\n- `StorDriver/Openflex/StorDev` - regex[`.+`]\n- `StorDriver/Openflex/StorDevHost` - regex[`.+`]\n- `StorDriver/Openflex/JobWaitDelay` - regex[`[0-9]+`]\n\n    Delay in milliseconds linstor waits between fetching the job status\n\n- `StorDriver/Openflex/JobWaitMaxCount` - regex[`[0-9]+`]\n","responses":{"200":{"description":"node modified","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NodeModify"},"example":{"override_props":{"Aux/testprop":"1"},"delete_props":["Aux/deleteprop"]}}}}},"delete":{"tags":["developers"],"summary":"delete a node","operationId":"nodeDelete","description":"Delete a node from Linstor","responses":{"200":{"description":"node deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/nodes/{node}/lost":{"parameters":[{"$ref":"#/components/parameters/Node"}],"delete":{"tags":["developers"],"summary":"delete an unrecoverable node","operationId":"nodeLost","description":"Delete an unrecoverable node","responses":{"200":{"description":"node deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/nodes/{node}/reconnect":{"parameters":[{"$ref":"#/components/parameters/Node"}],"put":{"tags":["developers"],"summary":"reconnect a node to the controller","operationId":"nodeReconnect","description":"Reconnect a node to the controller","responses":{"200":{"description":"node put into reconnect cycle","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/nodes/{node}/net-interfaces":{"parameters":[{"$ref":"#/components/parameters/Node"}],"get":{"tags":["developers"],"summary":"return the list of net-interfaces","operationId":"netinterfaceList","description":"Returns the list of netinterfaces for this node","parameters":[{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/Limit"}],"responses":{"200":{"description":"Array of net-interfaces","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/NetInterface"}}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}},"post":{"tags":["developers"],"summary":"create a netinterface on a node","operationId":"netinterfaceCreate","description":"Create a netinterface on a node\n\nIf satellite_port and satellite_encryption_type are given\nthe netinterface can also work as connection to the controller\n","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NetInterface"}}}},"responses":{"201":{"description":"netinterface created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/nodes/{node}/net-interfaces/{netinterface}":{"parameters":[{"$ref":"#/components/parameters/Node"},{"$ref":"#/components/parameters/NetInterface"}],"put":{"tags":["developers"],"summary":"modify a netinterface from a node","operationId":"netinterfaceModified","description":"Modify a netinterface from a node","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NetInterface"}}}},"responses":{"200":{"description":"netinterface modified","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}}},"delete":{"tags":["developers"],"summary":"delete a netinterface from a node","operationId":"netinterfaceDelete","description":"Delete a netinterface from a node","responses":{"200":{"description":"netinterface deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/nodes/{node}/storage-pools":{"parameters":[{"$ref":"#/components/parameters/Node"}],"get":{"tags":["developers"],"summary":"lists all storage pools for a node","operationId":"nodeStoragePoolList","description":"Lists all storage pools of a node","parameters":[{"name":"nodes","in":"query","description":"Filter only for the specified nodes, if not specified no filtering.","schema":{"type":"array","items":{"type":"string"}}},{"name":"storage_pools","in":"query","description":"Filter only for the specified storage pools, if not specified no filtering.","schema":{"type":"array","items":{"type":"string"}}},{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/Limit"}],"responses":{"200":{"description":"Array list of all storage pools","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StoragePool"}}}}}}},"post":{"tags":["developers"],"summary":"creates a new storage pool on this node","operationId":"nodeStoragePoolCreate","description":"Creates a new storage pool on this node.\n\n`provider_kind` has to be specified and additional to that\nthe linked `StorDriver` property that has the value to the backing pool:\n\n  * `LVM`: `StorDriver/LvmVg`\n  * `LVM_THIN`: `StorDriver/LvmVg` and `StorDriver/ThinPool`\n  * `ZFS`: `StorDriver/ZPool`\n  * `ZFS_THIN`: `StorDriver/ZPoolThin`\n  * `DISKLESS`: Does not need a property as it has no backing pool\n","responses":{"201":{"description":"storage pool created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoragePool"},"example":{"storage_pool_name":"DfltStorPool","provider_kind":"LVM_THIN","props":{"StorDriver/LvmVg":"mylvmpool","StorDriver/ThinPool":"thin"}}}}}}},"/v1/nodes/{node}/storage-pools/{storagepool}":{"parameters":[{"$ref":"#/components/parameters/Node"},{"name":"storagepool","in":"path","required":true,"schema":{"type":"string","description":"Storage pool to use"}}],"put":{"tags":["developers"],"summary":"modify a storage pool","operationId":"nodeStoragePoolModify","description":"Sets or modifies properties\n\nPossible properties are:\n- `StorDriver/LvmVg` - regex[`[a-zA-Z0-9_-]+`]\n- `StorDriver/ThinPool` - regex[`[a-zA-Z0-9_-]+`]\n- `StorDriver/ZPool` - regex[`[a-zA-Z0-9_/-]+`]\n- `StorDriver/ZPoolThin` - regex[`[a-zA-Z0-9_/-]+`]\n- `StorDriver/FileDir` - regex[`.*`]\n- `PrefNic` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Preferred network interface to use\n\n- `NVMe/PrefNic` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Preferred network interface to use\n\n- `StorDriver/LvcreateType` - enum\n    * linear\n    * striped\n    * mirror\n    * raid0\n    * raid1\n    * raid4\n    * raid5\n    * raid6\n    * raid10\n    * lzma\n    * lz4\n\n- `StorDriver/WaitTimeoutAfterCreate` - regex[`[0-9]+`]\n- `sys/fs/blkio_throttle_read` - long\n\n    Sets the /sys/fs/cgroup/blkio/blkio.throttle.read_bps_device\n\n- `sys/fs/blkio_throttle_write` - long\n\n    Sets the /sys/fs/cgroup/blkio/blkio.throttle.write_bps_device\n\n- `StorDriver/Openflex/ApiHost` - regex[`.+`]\n- `StorDriver/Openflex/ApiPort` - regex[`[0-9]+`]\n- `StorDriver/Openflex/UserName` - regex[`.+`]\n- `StorDriver/Openflex/UserPassword` - regex[`.+`]\n- `StorDriver/Openflex/StorDev` - regex[`.+`]\n- `StorDriver/Openflex/StorDevHost` - regex[`.+`]\n- `StorDriver/Openflex/StorPool` - regex[`[0-9]+`]\n","responses":{"200":{"description":"storage pool modified","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoragePoolDefinitionModify"},"example":{"override_props":{"Aux/testprop":"1"},"delete_props":["Aux/deleteprop"]}}}}},"delete":{"tags":["developers"],"summary":"delete a storage pool","operationId":"nodeStoragePoolDelete","description":"Delete a storage pool","responses":{"200":{"description":"storage pool deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}}}},"/v1/resource-definitions":{"get":{"tags":["developers"],"summary":"lists all resource-definitions","operationId":"resourceDefinitionList","description":"Lists all resource definitions.\n\nA single resource definition can be queried by adding its name\nto the resource string like:\n\n/v1/resource-definitions/rsc1\n","parameters":[{"name":"resource_definitions","in":"query","description":"Filter only for the specified resource definitions, if not specified no filtering.","schema":{"type":"array","items":{"type":"string"}}},{"$ref":"#/components/parameters/Props"},{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/Limit"}],"responses":{"200":{"description":"Array of all resource-definitions","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResourceDefinition"}}}}}}},"post":{"tags":["developers"],"summary":"add a resource-definition","operationId":"resourceDefinitionCreate","description":"Adds a resource-definition.\n\nOnly required property is the name of the resource definition.\nAll other properties are optional.\n","responses":{"201":{"description":"resource-definition created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceDefinitionCreate"},"example":{"resource_definition":{"name":"rsc1"}}}}}}},"/v1/resource-definitions/{resource}":{"parameters":[{"$ref":"#/components/parameters/Resource"}],"put":{"tags":["developers"],"summary":"modify a resource-definition","operationId":"resourceDefinitionModify","description":"Sets or modifies properties\n\nPossible properties are:\n- `StorPoolName` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Linstor storage pool name to use.\n\n- `StorPoolNameDrbdMeta` - regex[`^|.internal|[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Linstor storage pool name to use.\n\n- `DrbdMetaType` - enum\n    * external\n    * internal\n\n- `PeerSlotsNewResource` - range[`1-31`]\n\n    DRBD peer slots to allocate for newly created resources (default 7), the number of peer slots cannot be changed once the resource is created, so allow sufficient slots to increase redundancy in the future\n\n- `DrbdProxy/CompressionType` - enum\n    * zlib\n    * lzma\n    * lz4\n    * zstd\n\n- `FileSystem/Type` - enum\n\n    File system type to use\n\n    * ext4\n    * xfs\n\n- `FileSystem/MkfsParams` - string\n\n    Additional parameters for the mkfs command\n\n- `NVMe/enabled` - enum\n    * rdma\n    * tcp\n\n- `NVMe/enabled` - range[`1-65535`]\n- `StorDriver/LvcreateType` - enum\n    * linear\n    * striped\n    * mirror\n    * raid0\n    * raid1\n    * raid4\n    * raid5\n    * raid6\n    * raid10\n    * lzma\n    * lz4\n\n- `sys/fs/blkio_throttle_read` - long\n\n    Sets the /sys/fs/cgroup/blkio/blkio.throttle.read_bps_device\n\n- `sys/fs/blkio_throttle_write` - long\n\n    Sets the /sys/fs/cgroup/blkio/blkio.throttle.write_bps_device\n\n- `DrbdOptions/auto-quorum` - enum\n\n    Enables automatic setting of the 'quroum' and 'on-no-quroum' property\n\n    * io-error\n    * suspend-io\n    * disabled\n\n- `DrbdOptions/auto-add-quorum-tiebreaker` - boolean_true_false\n\n    Enables automatic management (creation and deletion) of tie breaking resource\n\n- `Writecache/PoolName` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Linstor storage pool name for writecache\n\n- `Writecache/Size` - regex[`^100%|[0-9]{1,2}([.][0-9]*)?%|[1-9][0-9]{2,}$`]\n\n    Size of the writecache in % (0-100) or KiB otherwise\n\n- `Writecache/Blocksize` - long\n\n    4096 is recommended; the maximum block size is the page size\n\n- `Writecache/Options/StartSector` - long\n\n    offset from the start of cache device in 512-byte sectors\n\n- `Writecache/Options/HighWatermark` - long\n\n    start writeback when the number of used blocks reach this watermark\n\n- `Writecache/Options/LowWatermark` - long\n\n    stop writeback when the number of used blocks drops below this watermark\n\n- `Writecache/Options/WritebackJobs` - long\n\n    limit the number of blocks that are in flight during writeback. Setting this value reduces writeback throughput, but it may improve latency of read requests\n\n- `Writecache/Options/AutocommitBlocks` - long\n\n    when the application writes this amount of blocks without issuing the FLUSH request, the blocks are automatically commited\n\n- `Writecache/Options/AutocommitTime` - long\n\n    autocommit time in milliseconds. The data is automatically commited if this time passes and no FLUSH request is received\n\n- `Writecache/Options/Fua` - enum\n\n    \"On\" results in \"fua\" as argument, whereas the value \"Off\" results in \"nofua\" argument\n\n    * On\n    * Off\n\n- `Writecache/Options/Additional` - string\n\n    Additional arguments passed through\n\n- `Cache/OpMode` - enum\n\n    Operation mode\n\n    * writeback\n    * writethrough\n    * passthrough\n\n- `Cache/MetaPool` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Name of the storage pool used for the cache metadata. If not specified, this will default to the CachePool property\n\n- `Cache/Metasize` - regex[`^100%|[0-9]{1,2}([.][0-9]*)?%|[1-9][0-9]{2,}$`]\n\n    Size of the cache in % (0-100) or KiB otherwise.\n\n- `Cache/CachePool` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Name of the storage pool used for the cache cache device\n\n- `Cache/Metasize` - regex[`^100%|[0-9]{1,2}([.][0-9]*)?%|[1-9][0-9]{2,}$`]\n\n    Size of the cache in % (0-100) or KiB otherwise.\n\n- `Cache/Blocksize` - long\n\n    Block size\n\n- `Cache/Policy` - enum\n\n    Replacemant policy\n\n    * mq\n    * smq\n    * cleaner\n\n- `DrbdOptions/Disk/on-io-error` - enum\n    * pass_on\n    * call-local-io-error\n    * detach\n\n- `DrbdOptions/Disk/disk-barrier` - boolean\n- `DrbdOptions/Disk/disk-flushes` - boolean\n- `DrbdOptions/Disk/disk-drain` - boolean\n- `DrbdOptions/Disk/md-flushes` - boolean\n- `DrbdOptions/Disk/resync-after` - string\n- `DrbdOptions/Disk/al-extents` - range[`67-65534`]\n- `DrbdOptions/Disk/al-updates` - boolean\n- `DrbdOptions/Disk/discard-zeroes-if-aligned` - boolean\n- `DrbdOptions/Disk/disable-write-same` - boolean\n- `DrbdOptions/Disk/disk-timeout` - range[`0-6000`]\n- `DrbdOptions/Disk/read-balancing` - enum\n    * prefer-local\n    * prefer-remote\n    * round-robin\n    * least-pending\n    * when-congested-remote\n    * 32K-striping\n    * 64K-striping\n    * 128K-striping\n    * 256K-striping\n    * 512K-striping\n    * 1M-striping\n\n- `DrbdOptions/Disk/rs-discard-granularity` - range[`0-1048576`]\n- `DrbdOptions/PeerDevice/resync-rate` - range[`1-8388608`]\n- `DrbdOptions/PeerDevice/c-plan-ahead` - range[`0-300`]\n- `DrbdOptions/PeerDevice/c-delay-target` - range[`1-100`]\n- `DrbdOptions/PeerDevice/c-fill-target` - range[`0-1048576`]\n- `DrbdOptions/PeerDevice/c-max-rate` - range[`250-4194304`]\n- `DrbdOptions/PeerDevice/c-min-rate` - range[`0-4194304`]\n- `DrbdOptions/PeerDevice/bitmap` - boolean\n- `DrbdOptions/Resource/cpu-mask` - string\n- `DrbdOptions/Resource/on-no-data-accessible` - enum\n    * io-error\n    * suspend-io\n\n- `DrbdOptions/Resource/auto-promote` - boolean\n- `DrbdOptions/Resource/peer-ack-window` - range[`2048-204800`]\n- `DrbdOptions/Resource/peer-ack-delay` - range[`1-10000`]\n- `DrbdOptions/Resource/twopc-timeout` - range[`50-600`]\n- `DrbdOptions/Resource/twopc-retry-timeout` - range[`1-50`]\n- `DrbdOptions/Resource/auto-promote-timeout` - range[`0-600`]\n- `DrbdOptions/Resource/max-io-depth` - range[`4-4294967295`]\n- `DrbdOptions/Resource/quorum` - enum [`1-32`]\n    * off\n    * majority\n    * all\n\n- `DrbdOptions/Resource/on-no-quorum` - enum\n    * io-error\n    * suspend-io\n\n- `DrbdOptions/Resource/quorum-minimum-redundancy` - enum [`1-32`]\n    * off\n    * majority\n    * all\n\n- `DrbdOptions/Net/transport` - string\n- `DrbdOptions/Net/protocol` - enum\n    * A\n    * B\n    * C\n\n- `DrbdOptions/Net/timeout` - range[`1-600`]\n- `DrbdOptions/Net/max-epoch-size` - range[`1-20000`]\n- `DrbdOptions/Net/connect-int` - range[`1-120`]\n- `DrbdOptions/Net/ping-int` - range[`1-120`]\n- `DrbdOptions/Net/sndbuf-size` - range[`0-10485760`]\n- `DrbdOptions/Net/rcvbuf-size` - range[`0-10485760`]\n- `DrbdOptions/Net/ko-count` - range[`0-200`]\n- `DrbdOptions/Net/allow-two-primaries` - boolean\n- `DrbdOptions/Net/cram-hmac-alg` - string\n- `DrbdOptions/Net/shared-secret` - string\n- `DrbdOptions/Net/after-sb-0pri` - enum\n    * disconnect\n    * discard-younger-primary\n    * discard-older-primary\n    * discard-zero-changes\n    * discard-least-changes\n    * discard-local\n    * discard-remote\n\n- `DrbdOptions/Net/after-sb-1pri` - enum\n    * disconnect\n    * consensus\n    * discard-secondary\n    * call-pri-lost-after-sb\n    * violently-as0p\n\n- `DrbdOptions/Net/after-sb-2pri` - enum\n    * disconnect\n    * call-pri-lost-after-sb\n    * violently-as0p\n\n- `DrbdOptions/Net/always-asbp` - boolean\n- `DrbdOptions/Net/rr-conflict` - enum\n    * disconnect\n    * call-pri-lost\n    * violently\n    * retry-connect\n\n- `DrbdOptions/Net/ping-timeout` - range[`1-300`]\n- `DrbdOptions/Net/data-integrity-alg` - string\n- `DrbdOptions/Net/tcp-cork` - boolean\n- `DrbdOptions/Net/on-congestion` - enum\n    * block\n    * pull-ahead\n    * disconnect\n\n- `DrbdOptions/Net/congestion-fill` - range[`0-20971520`]\n- `DrbdOptions/Net/congestion-extents` - range[`67-65534`]\n- `DrbdOptions/Net/csums-alg` - string\n- `DrbdOptions/Net/csums-after-crash-only` - boolean\n- `DrbdOptions/Net/verify-alg` - string\n- `DrbdOptions/Net/use-rle` - boolean\n- `DrbdOptions/Net/socket-check-timeout` - range[`0-300`]\n- `DrbdOptions/Net/fencing` - enum\n    * dont-care\n    * resource-only\n    * resource-and-stonith\n\n- `DrbdOptions/Net/max-buffers` - range[`32-131072`]\n- `DrbdOptions/Net/allow-remote-read` - boolean\n- `DrbdOptions/Handlers/after-resync-target` - string\n- `DrbdOptions/Handlers/before-resync-target` - string\n- `DrbdOptions/Handlers/before-resync-source` - string\n- `DrbdOptions/Handlers/out-of-sync` - string\n- `DrbdOptions/Handlers/quorum-lost` - string\n- `DrbdOptions/Handlers/fence-peer` - string\n- `DrbdOptions/Handlers/unfence-peer` - string\n- `DrbdOptions/Handlers/initial-split-brain` - string\n- `DrbdOptions/Handlers/local-io-error` - string\n- `DrbdOptions/Handlers/pri-lost` - string\n- `DrbdOptions/Handlers/pri-lost-after-sb` - string\n- `DrbdOptions/Handlers/pri-on-incon-degr` - string\n- `DrbdOptions/Handlers/split-brain` - string\n","responses":{"200":{"description":"resource-definition modified","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceDefinitionModify"},"example":{"override_props":{"Aux/testprop":"1"},"delete_props":["Aux/deleteprop"]}}}}},"delete":{"tags":["developers"],"summary":"delete a resource-definition","operationId":"resourceDefinitionDelete","description":"Delete a resource-definition","responses":{"200":{"description":"resource-definition deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}}}},"/v1/resource-definitions/{resource}/volume-definitions":{"parameters":[{"$ref":"#/components/parameters/Resource"}],"get":{"tags":["developers"],"summary":"lists all volume-definitions","operationId":"volumeDefinitionList","description":"Lists all volume definitions.\n\nA single volume definition can be queried by adding its name\nto the resource string like:\n\n/v1/resource-definitions/rsc1/volume-definitions/0\n","parameters":[{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/Limit"}],"responses":{"200":{"description":"Array of all volume-definitions","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VolumeDefinition"}}}}}}},"post":{"tags":["developers"],"summary":"add a volume-definition to a resource","operationId":"volumeDefinitionCreate","description":"Adds a volume-definition.\n\nRequired properties is only `size`, all other will be auto generated if not given.\n","responses":{"201":{"description":"volume-definition created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VolumeDefinitionCreate"},"example":{"volume_definition":{"size_kib":262144}}}}}}},"/v1/resource-definitions/{resource}/volume-definitions/{volume_number}":{"parameters":[{"$ref":"#/components/parameters/Resource"},{"$ref":"#/components/parameters/VolumeNumber"}],"put":{"tags":["developers"],"summary":"modify a volume-definition","operationId":"volumeDefinitionModify","description":"Sets or modifies properties\n\nPossible properties are:\n- `StorPoolName` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Linstor storage pool name to use.\n\n- `StorPoolNameDrbdMeta` - regex[`^|.internal|[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Linstor storage pool name to use.\n\n- `DrbdMetaType` - enum\n    * external\n    * internal\n\n- `OverrideVlmId` - regex[`.*`]\n\n    Overwrites the generated '<resource-name>_<5 digit volume number>' volume name for migration purposes\n\n- `AllowLargerVolumeSize` - boolean_true_false\n\n    Do not fail when the underlying volume is larger than expected\n\n- `FileSystem/Type` - enum\n\n    File system type to use\n\n    * ext4\n    * xfs\n\n- `FileSystem/MkfsParams` - string\n\n    Additional parameters for the mkfs command\n\n- `StorDriver/LvcreateType` - enum\n    * linear\n    * striped\n    * mirror\n    * raid0\n    * raid1\n    * raid4\n    * raid5\n    * raid6\n    * raid10\n    * lzma\n    * lz4\n\n- `DrbdCurrentGi` - regex[`[a-fA-F0-9]{16}`]\n- `sys/fs/blkio_throttle_read` - long\n\n    Sets the /sys/fs/cgroup/blkio/blkio.throttle.read_bps_device\n\n- `sys/fs/blkio_throttle_write` - long\n\n    Sets the /sys/fs/cgroup/blkio/blkio.throttle.write_bps_device\n\n- `Writecache/PoolName` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Linstor storage pool name for writecache\n\n- `Writecache/Size` - regex[`^100%|[0-9]{1,2}([.][0-9]*)?%|[1-9][0-9]{2,}$`]\n\n    Size of the writecache in % (0-100) or KiB otherwise\n\n- `Writecache/Blocksize` - long\n\n    4096 is recommended; the maximum block size is the page size\n\n- `Writecache/Options/StartSector` - long\n\n    offset from the start of cache device in 512-byte sectors\n\n- `Writecache/Options/HighWatermark` - long\n\n    start writeback when the number of used blocks reach this watermark\n\n- `Writecache/Options/LowWatermark` - long\n\n    stop writeback when the number of used blocks drops below this watermark\n\n- `Writecache/Options/WritebackJobs` - long\n\n    limit the number of blocks that are in flight during writeback. Setting this value reduces writeback throughput, but it may improve latency of read requests\n\n- `Writecache/Options/AutocommitBlocks` - long\n\n    when the application writes this amount of blocks without issuing the FLUSH request, the blocks are automatically commited\n\n- `Writecache/Options/AutocommitTime` - long\n\n    autocommit time in milliseconds. The data is automatically commited if this time passes and no FLUSH request is received\n\n- `Writecache/Options/Fua` - enum\n\n    \"On\" results in \"fua\" as argument, whereas the value \"Off\" results in \"nofua\" argument\n\n    * On\n    * Off\n\n- `Writecache/Options/Additional` - string\n\n    Additional arguments passed through\n\n- `Cache/OpMode` - enum\n\n    Operation mode\n\n    * writeback\n    * writethrough\n    * passthrough\n\n- `Cache/MetaPool` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Name of the storage pool used for the cache metadata. If not specified, this will default to the CachePool property\n\n- `Cache/Metasize` - regex[`^100%|[0-9]{1,2}([.][0-9]*)?%|[1-9][0-9]{2,}$`]\n\n    Size of the cache in % (0-100) or KiB otherwise.\n\n- `Cache/CachePool` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Name of the storage pool used for the cache cache device\n\n- `Cache/Metasize` - regex[`^100%|[0-9]{1,2}([.][0-9]*)?%|[1-9][0-9]{2,}$`]\n\n    Size of the cache in % (0-100) or KiB otherwise.\n\n- `Cache/Blocksize` - long\n\n    Block size\n\n- `Cache/Policy` - enum\n\n    Replacemant policy\n\n    * mq\n    * smq\n    * cleaner\n\n- `DrbdOptions/Disk/on-io-error` - enum\n    * pass_on\n    * call-local-io-error\n    * detach\n\n- `DrbdOptions/Disk/disk-barrier` - boolean\n- `DrbdOptions/Disk/disk-flushes` - boolean\n- `DrbdOptions/Disk/disk-drain` - boolean\n- `DrbdOptions/Disk/md-flushes` - boolean\n- `DrbdOptions/Disk/resync-after` - string\n- `DrbdOptions/Disk/al-extents` - range[`67-65534`]\n- `DrbdOptions/Disk/al-updates` - boolean\n- `DrbdOptions/Disk/discard-zeroes-if-aligned` - boolean\n- `DrbdOptions/Disk/disable-write-same` - boolean\n- `DrbdOptions/Disk/disk-timeout` - range[`0-6000`]\n- `DrbdOptions/Disk/read-balancing` - enum\n    * prefer-local\n    * prefer-remote\n    * round-robin\n    * least-pending\n    * when-congested-remote\n    * 32K-striping\n    * 64K-striping\n    * 128K-striping\n    * 256K-striping\n    * 512K-striping\n    * 1M-striping\n\n- `DrbdOptions/Disk/rs-discard-granularity` - range[`0-1048576`]\n","responses":{"200":{"description":"volume-definition modified","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VolumeDefinitionModify"},"example":{"override_props":{"Aux/testprop":"1"},"delete_props":["Aux/deleteprop"]}}}}},"delete":{"tags":["developers"],"summary":"delete a volume-definition","operationId":"volumeDefinitionDelete","description":"Delete a volume-definition","responses":{"200":{"description":"volume-definition deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}}}},"/v1/resource-definitions/{resource}/resources":{"parameters":[{"$ref":"#/components/parameters/Resource"}],"get":{"tags":["developers"],"summary":"lists all resources for a resource-definition","operationId":"resourceList","description":"Lists all resources for a resource-definition.\n\nA single resource can be queried by adding its name\nto the resource string like:\n\n/v1/resource-definitions/rsc1/resources/nodeA\n","parameters":[{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/Limit"}],"responses":{"200":{"description":"Array of all resources for the resource-definition","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Resource"}}}}}}},"post":{"tags":["developers"],"summary":"create one or more resources.","operationId":"resourceCreate","description":"Adds one or more resource(s).\n","responses":{"201":{"description":"resource created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResourceCreate"}},"example":[{"resource":{"name":"rsc1","node_name":"alpha"}}]}}}}},"/v1/resource-definitions/{resource}/resources/{node}":{"parameters":[{"$ref":"#/components/parameters/Resource"},{"$ref":"#/components/parameters/Node"}],"post":{"tags":["developers"],"summary":"create a resource on a node","operationId":"resourceCreateOnNode","description":"Adds a resource on a node.\n\nTo use a specific storage pool add the `StorPoolName` property\nand use the storage pool name as value.\nIf the `StorPoolName` property is not set, the `DfltStorPool` will be used.\n\nTo create a diskless resource you have to set the \"DISKLESS\" flag in the flags list.\n```\n{\n  \"resource\": {\n    \"flags\": [\"DISKLESS\"]\n  }\n}\n```\n","responses":{"201":{"description":"resource created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceCreate"},"example":{}}}}},"put":{"tags":["developers"],"summary":"modify a resource","operationId":"resourceModify","description":"Sets or modifies properties\n\nPossible properties are:\n- `StorPoolName` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Linstor storage pool name to use.\n\n- `StorPoolNameDrbdMeta` - regex[`^|.internal|[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Linstor storage pool name to use.\n\n- `DrbdMetaType` - enum\n    * external\n    * internal\n\n- `PrefNic` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Preferred network interface to use\n\n- `PeerSlots` - range[`1-31`]\n\n    DRBD peer slots present on resource\n\n- `FileSystem/Type` - enum\n\n    File system type to use\n\n    * ext4\n    * xfs\n\n- `FileSystem/MkfsParams` - string\n\n    Additional parameters for the mkfs command\n\n- `NVMe/PrefNic` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Preferred network interface to use\n\n- `sys/fs/blkio_throttle_read` - long\n\n    Sets the /sys/fs/cgroup/blkio/blkio.throttle.read_bps_device\n\n- `sys/fs/blkio_throttle_write` - long\n\n    Sets the /sys/fs/cgroup/blkio/blkio.throttle.write_bps_device\n\n","responses":{"200":{"description":"resource modified","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceModify"},"example":{"override_props":{"Aux/testprop":"1"},"delete_props":["Aux/deleteprop"]}}}}},"delete":{"tags":["developers"],"summary":"delete a resource","operationId":"resourceDelete","description":"Delete a resource on a node","responses":{"200":{"description":"resource deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}}}},"/v1/resource-definitions/{resource}/resources/{node}/volumes":{"parameters":[{"$ref":"#/components/parameters/Resource"},{"$ref":"#/components/parameters/Node"}],"get":{"tags":["developers"],"summary":"lists all volumes of a resources","operationId":"resourceVolumeList","description":"Lists all volumes for a resource-definition.\n\nA single volume can be queried by adding its volume number\nto the resource string like:\n\n/v1/resource-definitions/rsc1/resources/nodeA/volumes/0\n","parameters":[{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/Limit"}],"responses":{"200":{"description":"Array of all volume for the resource","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Volume"}}}}}}}},"/v1/resource-definitions/{resource}/resources/{node}/volumes/{volume_number}":{"parameters":[{"$ref":"#/components/parameters/Resource"},{"$ref":"#/components/parameters/Node"},{"$ref":"#/components/parameters/VolumeNumber"}],"put":{"tags":["developers"],"summary":"modify a volume","operationId":"volumeModify","description":"Sets or modifies properties\n\nPossible properties are:\n- `sys/fs/blkio_throttle_read` - number\n- `sys/fs/blkio_throttle_write` - number\n","responses":{"200":{"description":"volume modified","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VolumeModify"},"example":{"override_props":{"Aux/testprop":"1"},"delete_props":["Aux/deleteprop"]}}}}}},"/v1/resource-definitions/{resource}/resources/{node}/toggle-disk/diskless":{"parameters":[{"$ref":"#/components/parameters/Resource"},{"$ref":"#/components/parameters/Node"}],"put":{"tags":["developers"],"summary":"toggle a resource to diskless","operationId":"resourceToggleDiskless","description":"toggle a resource to a diskless resource","responses":{"200":{"description":"resource toggled to diskless","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/resource-definitions/{resource}/resources/{node}/toggle-disk/diskless/{disklesspool}":{"parameters":[{"$ref":"#/components/parameters/Resource"},{"$ref":"#/components/parameters/Node"},{"name":"disklesspool","in":"path","required":true,"schema":{"type":"string","description":"diskless pool to use."}}],"put":{"tags":["developers"],"summary":"toggle a resource to diskless resource","operationId":"resourceToggleDisklessDisklesspool","description":"toggle a resource to a diskless.\n","responses":{"200":{"description":"resource toggled to diskless resource","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/resource-definitions/{resource}/resources/{node}/toggle-disk/diskful":{"parameters":[{"$ref":"#/components/parameters/Resource"},{"$ref":"#/components/parameters/Node"}],"put":{"tags":["developers"],"summary":"toggle a resource to a diskful resource","operationId":"resourceToggleDiskful","description":"toggle a resource to a diskful resource using the default storage pool\n","responses":{"200":{"description":"resource toggled to diskful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/resource-definitions/{resource}/resources/{node}/toggle-disk/diskful/{storagepool}":{"parameters":[{"$ref":"#/components/parameters/Resource"},{"$ref":"#/components/parameters/Node"},{"name":"storagepool","in":"path","required":true,"schema":{"type":"string","description":"storage pool to use."}}],"put":{"tags":["developers"],"summary":"toggle a resource to a diskful resource","operationId":"resourceToggleDiskfulStoragepool","description":"toggle a resource to a diskful resource","responses":{"200":{"description":"resource toggled to diskful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/resource-definitions/{resource}/resources/{node}/migrate-disk/{fromnode}":{"parameters":[{"$ref":"#/components/parameters/Resource"},{"$ref":"#/components/parameters/Node"},{"name":"fromnode","in":"path","required":true,"schema":{"type":"string","description":"node that should be deleted after the successful migrate"}}],"put":{"tags":["developers"],"summary":"migrate a resource to another node","operationId":"resourceMigrateDisk","description":"migrate a resource to another node without reducing the redundancy count\n","responses":{"200":{"description":"resource migrated to another node","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/resource-definitions/{resource}/resources/{node}/migrate-disk/{fromnode}/{storagepool}":{"parameters":[{"$ref":"#/components/parameters/Resource"},{"$ref":"#/components/parameters/Node"},{"name":"fromnode","in":"path","required":true,"schema":{"type":"string","description":"node that should be deleted after the successful migrate"}},{"name":"storagepool","in":"path","required":true,"schema":{"type":"string","description":"storage pool to use."}}],"put":{"tags":["developers"],"summary":"migrate a resource to another node","operationId":"resourceMigrateDiskStoragepool","description":"migrate a resource to another node without reducing the redundency count\n","responses":{"200":{"description":"resource migrated to another node","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/resource-definitions/{resource}/autoplace":{"parameters":[{"$ref":"#/components/parameters/Resource"}],"post":{"tags":["developers"],"summary":"autoplace resource","operationId":"resourceAutoplace","description":"Auto place the resource on the specified place_count redundency.\nIf place_count isn't given 2 is the default.\n","responses":{"201":{"description":"resource created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AutoPlaceRequest"},"example":{"select_filter":{"place_count":2}}}}}}},"/v1/resource-definitions/{resource}/resource-connections":{"parameters":[{"$ref":"#/components/parameters/Resource"}],"get":{"tags":["developers"],"operationId":"resourceConnectionsList","summary":"list all resource connections for resource","description":"List all resource connections for resource","responses":{"200":{"description":"list of resource connections","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResourceConnection"}}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/resource-definitions/{resource}/resource-connections/{node_a}/{node_b}":{"parameters":[{"$ref":"#/components/parameters/Resource"},{"$ref":"#/components/parameters/NodeA"},{"$ref":"#/components/parameters/NodeB"}],"get":{"tags":["developers"],"operationId":"resourceConnectionList","summary":"show the specified resource connection","description":"show the specified resource connection","responses":{"200":{"description":"list of resource connections","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResourceConnection"}}}}},"404":{"$ref":"#/components/responses/ObjectNotFound"},"500":{"$ref":"#/components/responses/OperationFailed"}}},"put":{"tags":["developers"],"operationId":"resourceConnectionModify","summary":"modify a resource connection","description":"Sets or modifies properties\n\nPossible properties are:\n- `DrbdOptions/PeerDevice/resync-rate` - range[`1-8388608`]\n- `DrbdOptions/PeerDevice/c-plan-ahead` - range[`0-300`]\n- `DrbdOptions/PeerDevice/c-delay-target` - range[`1-100`]\n- `DrbdOptions/PeerDevice/c-fill-target` - range[`0-1048576`]\n- `DrbdOptions/PeerDevice/c-max-rate` - range[`250-4194304`]\n- `DrbdOptions/PeerDevice/c-min-rate` - range[`0-4194304`]\n- `DrbdOptions/PeerDevice/bitmap` - boolean\n- `DrbdOptions/Net/transport` - string\n- `DrbdOptions/Net/protocol` - enum\n    * A\n    * B\n    * C\n\n- `DrbdOptions/Net/timeout` - range[`1-600`]\n- `DrbdOptions/Net/max-epoch-size` - range[`1-20000`]\n- `DrbdOptions/Net/connect-int` - range[`1-120`]\n- `DrbdOptions/Net/ping-int` - range[`1-120`]\n- `DrbdOptions/Net/sndbuf-size` - range[`0-10485760`]\n- `DrbdOptions/Net/rcvbuf-size` - range[`0-10485760`]\n- `DrbdOptions/Net/ko-count` - range[`0-200`]\n- `DrbdOptions/Net/allow-two-primaries` - boolean\n- `DrbdOptions/Net/cram-hmac-alg` - string\n- `DrbdOptions/Net/shared-secret` - string\n- `DrbdOptions/Net/after-sb-0pri` - enum\n    * disconnect\n    * discard-younger-primary\n    * discard-older-primary\n    * discard-zero-changes\n    * discard-least-changes\n    * discard-local\n    * discard-remote\n\n- `DrbdOptions/Net/after-sb-1pri` - enum\n    * disconnect\n    * consensus\n    * discard-secondary\n    * call-pri-lost-after-sb\n    * violently-as0p\n\n- `DrbdOptions/Net/after-sb-2pri` - enum\n    * disconnect\n    * call-pri-lost-after-sb\n    * violently-as0p\n\n- `DrbdOptions/Net/always-asbp` - boolean\n- `DrbdOptions/Net/rr-conflict` - enum\n    * disconnect\n    * call-pri-lost\n    * violently\n    * retry-connect\n\n- `DrbdOptions/Net/ping-timeout` - range[`1-300`]\n- `DrbdOptions/Net/data-integrity-alg` - string\n- `DrbdOptions/Net/tcp-cork` - boolean\n- `DrbdOptions/Net/on-congestion` - enum\n    * block\n    * pull-ahead\n    * disconnect\n\n- `DrbdOptions/Net/congestion-fill` - range[`0-20971520`]\n- `DrbdOptions/Net/congestion-extents` - range[`67-65534`]\n- `DrbdOptions/Net/csums-alg` - string\n- `DrbdOptions/Net/csums-after-crash-only` - boolean\n- `DrbdOptions/Net/verify-alg` - string\n- `DrbdOptions/Net/use-rle` - boolean\n- `DrbdOptions/Net/socket-check-timeout` - range[`0-300`]\n- `DrbdOptions/Net/fencing` - enum\n    * dont-care\n    * resource-only\n    * resource-and-stonith\n\n- `DrbdOptions/Net/max-buffers` - range[`32-131072`]\n- `DrbdOptions/Net/allow-remote-read` - boolean\n","responses":{"200":{"description":"resource connection modified","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"404":{"$ref":"#/components/responses/ObjectNotFound"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceConnectionModify"}}}}}},"/v1/resource-definitions/{resource}/snapshots":{"parameters":[{"$ref":"#/components/parameters/Resource"}],"get":{"tags":["developers"],"summary":"list snapshots","description":"List snapshots for a resource","operationId":"resourceSnapshotsList","responses":{"200":{"description":"Snapshots for the resource","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Snapshot"}}}}}}},"post":{"tags":["developers"],"summary":"create a snapshot","description":"Create a snapshot for a resource","operationId":"resourceSnapshotCreate","responses":{"201":{"description":"Snapshot created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Snapshot"},"example":{"name":"snap1"}}}}}},"/v1/resource-definitions/{resource}/snapshots/{snapshot}":{"parameters":[{"$ref":"#/components/parameters/Resource"},{"name":"snapshot","in":"path","required":true,"schema":{"type":"string","description":"Snapshot name to use"}}],"get":{"tags":["developers"],"summary":"list a specific snapshot","description":"List the given snapshot for a resource","operationId":"resourceSnapshotList","responses":{"200":{"description":"Snapshot for the resource","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Snapshot"}}}}}},"delete":{"tags":["developers"],"summary":"delete a snapshot","description":"Delete a snapshot","operationId":"resourceSnapshotDelete","responses":{"200":{"description":"Snapshot deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/resource-definitions/{resource}/snapshot-restore-resource/{snapshot}":{"parameters":[{"$ref":"#/components/parameters/Resource"},{"name":"snapshot","in":"path","required":true,"description":"Snapshot name to use","schema":{"type":"string"}}],"post":{"tags":["developers"],"summary":"restore a snapshot","description":"Restore a snapshot to a new resource","operationId":"resourceSnapshotRestore","responses":{"200":{"description":"Snapshot restored","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SnapshotRestore"}}}}}},"/v1/resource-definitions/{resource}/snapshot-restore-volume-definition/{snapshot}":{"parameters":[{"$ref":"#/components/parameters/Resource"},{"name":"snapshot","in":"path","required":true,"description":"Snapshot name to use","schema":{"type":"string"}}],"post":{"tags":["developers"],"summary":"restore a snapshot volume definition","description":"Restore a snapshot volume definition to a new resource","operationId":"resourceSnapshotsRestoreVolumeDefinition","responses":{"200":{"description":"Snapshot restored","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SnapshotRestore"}}}}}},"/v1/resource-definitions/{resource}/snapshot-rollback/{snapshot}":{"parameters":[{"$ref":"#/components/parameters/Resource"},{"name":"snapshot","in":"path","required":true,"description":"Snapshot name to use","schema":{"type":"string"}}],"post":{"tags":["developers"],"summary":"rollback a snapshot","description":"Rollback a resource to the snapshot state","operationId":"resourceSnapshotRollback","responses":{"200":{"description":"Snapshot rollbacked","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/resource-groups":{"get":{"tags":["developers"],"summary":"lists all resource-groups","operationId":"resourceGroupList","description":"Lists all resource groups.\n\nA single resource group can be queried by adding its name\nto the resource string like:\n\n/v1/resource-groups/rscgrp1\n","parameters":[{"name":"resource_groups","in":"query","description":"Filter only for the specified resource groups, if not specified no filtering.","schema":{"type":"array","items":{"type":"string"}}},{"$ref":"#/components/parameters/Props"},{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/Limit"}],"responses":{"200":{"description":"Array of all resource-groups","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResourceGroup"}}}}}}},"post":{"tags":["developers"],"summary":"add a resource-group","operationId":"resourceGroupCreate","description":"Adds a resource-group.\n\nOnly required property is the name of the resource group.\nAll other properties are optional.\n","responses":{"201":{"description":"resource-group created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceGroup"},"example":{"resource_group":{"name":"rscgrp1"}}}}}}},"/v1/resource-groups/{resource_group}":{"parameters":[{"$ref":"#/components/parameters/ResourceGroupName"}],"put":{"tags":["developers"],"summary":"modify a resource-group","operationId":"resourceGroupModify","description":"Sets or modifies properties\n\nPossible properties are:\n- `StorPoolName` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Linstor storage pool name to use.\n\n- `PeerSlotsNewResource` - range[`1-31`]\n\n    DRBD peer slots to allocate for newly created resources (default 7), the number of peer slots cannot be changed once the resource is created, so allow sufficient slots to increase redundancy in the future\n\n- `DrbdProxy/CompressionType` - enum\n    * zlib\n    * lzma\n    * lz4\n\n- `FileSystem/Type` - enum\n\n    File system type to use\n\n    * ext4\n    * xfs\n\n- `FileSystem/MkfsParams` - string\n\n    Additional parameters for the mkfs command\n\n- `NVMe/enabled` - enum\n    * rdma\n    * tcp\n\n- `NVMe/enabled` - range[`1-65535`]\n- `DrbdOptions/Disk/read-balancing` - enum\n    * prefer-local\n    * prefer-remote\n    * round-robin\n    * least-pending\n    * when-congested-remote\n    * 32K-striping\n    * 64K-striping\n    * 128K-striping\n    * 256K-striping\n    * 512K-striping\n    * 1M-striping\n\n- `DrbdOptions/Disk/on-io-error` - enum\n    * pass_on\n    * call-local-io-error\n    * detach\n\n- `DrbdOptions/Disk/disk-drain` - boolean\n- `DrbdOptions/Disk/resync-after` - string\n- `DrbdOptions/Disk/disk-timeout` - range[`0-6000`]\n- `DrbdOptions/Disk/disable-write-same` - boolean\n- `DrbdOptions/Disk/rs-discard-granularity` - range[`0-1048576`]\n- `DrbdOptions/Disk/disk-flushes` - boolean\n- `DrbdOptions/Disk/al-extents` - range[`67-65534`]\n- `DrbdOptions/Disk/al-updates` - boolean\n- `DrbdOptions/Disk/md-flushes` - boolean\n- `DrbdOptions/Disk/disk-barrier` - boolean\n- `DrbdOptions/Disk/discard-zeroes-if-aligned` - boolean\n- `DrbdOptions/PeerDevice/c-fill-target` - range[`0-1048576`]\n- `DrbdOptions/PeerDevice/c-max-rate` - range[`250-4194304`]\n- `DrbdOptions/PeerDevice/resync-rate` - range[`1-8388608`]\n- `DrbdOptions/PeerDevice/c-delay-target` - range[`1-100`]\n- `DrbdOptions/PeerDevice/c-min-rate` - range[`0-4194304`]\n- `DrbdOptions/PeerDevice/bitmap` - boolean\n- `DrbdOptions/PeerDevice/c-plan-ahead` - range[`0-300`]\n- `DrbdOptions/Resource/peer-ack-delay` - range[`1-10000`]\n- `DrbdOptions/Resource/quorum-minimum-redundancy` - enum [`1-32`]\n    * off\n    * majority\n    * all\n\n- `DrbdOptions/Resource/max-io-depth` - range[`4-4294967295`]\n- `DrbdOptions/Resource/auto-promote-timeout` - range[`0-600`]\n- `DrbdOptions/Resource/quorum` - enum [`1-32`]\n    * off\n    * majority\n    * all\n\n- `DrbdOptions/Resource/on-no-data-accessible` - enum\n    * io-error\n    * suspend-io\n\n- `DrbdOptions/Resource/auto-promote` - boolean\n- `DrbdOptions/Resource/cpu-mask` - string\n- `DrbdOptions/Resource/twopc-timeout` - range[`50-600`]\n- `DrbdOptions/Resource/twopc-retry-timeout` - range[`1-50`]\n- `DrbdOptions/Resource/peer-ack-window` - range[`2048-204800`]\n- `DrbdOptions/Resource/on-no-quorum` - enum\n    * io-error\n    * suspend-io\n\n- `DrbdOptions/Net/max-epoch-size` - range[`1-20000`]\n- `DrbdOptions/Net/protocol` - enum\n    * A\n    * B\n    * C\n\n- `DrbdOptions/Net/allow-two-primaries` - boolean\n- `DrbdOptions/Net/after-sb-0pri` - enum\n    * disconnect\n    * discard-younger-primary\n    * discard-older-primary\n    * discard-zero-changes\n    * discard-least-changes\n    * discard-local\n    * discard-remote\n\n- `DrbdOptions/Net/ko-count` - range[`0-200`]\n- `DrbdOptions/Net/data-integrity-alg` - string\n- `DrbdOptions/Net/ping-timeout` - range[`1-300`]\n- `DrbdOptions/Net/sndbuf-size` - range[`0-10485760`]\n- `DrbdOptions/Net/transport` - string\n- `DrbdOptions/Net/rcvbuf-size` - range[`0-10485760`]\n- `DrbdOptions/Net/max-buffers` - range[`32-131072`]\n- `DrbdOptions/Net/fencing` - enum\n    * dont-care\n    * resource-only\n    * resource-and-stonith\n\n- `DrbdOptions/Net/csums-alg` - string\n- `DrbdOptions/Net/always-asbp` - boolean\n- `DrbdOptions/Net/congestion-extents` - range[`67-65534`]\n- `DrbdOptions/Net/on-congestion` - enum\n    * block\n    * pull-ahead\n    * disconnect\n\n- `DrbdOptions/Net/ping-int` - range[`1-120`]\n- `DrbdOptions/Net/rr-conflict` - enum\n    * disconnect\n    * call-pri-lost\n    * violently\n\n- `DrbdOptions/Net/tcp-cork` - boolean\n- `DrbdOptions/Net/use-rle` - boolean\n- `DrbdOptions/Net/csums-after-crash-only` - boolean\n- `DrbdOptions/Net/socket-check-timeout` - range[`0-300`]\n- `DrbdOptions/Net/congestion-fill` - range[`0-20971520`]\n- `DrbdOptions/Net/cram-hmac-alg` - string\n- `DrbdOptions/Net/verify-alg` - string\n- `DrbdOptions/Net/shared-secret` - string\n- `DrbdOptions/Net/connect-int` - range[`1-120`]\n- `DrbdOptions/Net/timeout` - range[`1-600`]\n- `DrbdOptions/Net/after-sb-2pri` - enum\n    * disconnect\n    * call-pri-lost-after-sb\n    * violently-as0p\n\n- `DrbdOptions/Net/after-sb-1pri` - enum\n    * disconnect\n    * consensus\n    * discard-secondary\n    * call-pri-lost-after-sb\n    * violently-as0p\n\n- `DrbdOptions/Handlers/after-resync-target` - string\n- `DrbdOptions/Handlers/before-resync-target` - string\n- `DrbdOptions/Handlers/before-resync-source` - string\n- `DrbdOptions/Handlers/out-of-sync` - string\n- `DrbdOptions/Handlers/quorum-lost` - string\n- `DrbdOptions/Handlers/fence-peer` - string\n- `DrbdOptions/Handlers/unfence-peer` - string\n- `DrbdOptions/Handlers/initial-split-brain` - string\n- `DrbdOptions/Handlers/local-io-error` - string\n- `DrbdOptions/Handlers/pri-lost` - string\n- `DrbdOptions/Handlers/pri-lost-after-sb` - string\n- `DrbdOptions/Handlers/pri-on-incon-degr` - string\n- `DrbdOptions/Handlers/split-brain` - string\n","responses":{"200":{"description":"resource-group modified","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceGroupModify"},"example":{"override_props":{"Aux/testprop":"1"},"delete_props":["Aux/deleteprop"]}}}}},"delete":{"tags":["developers"],"summary":"delete a resource-group","operationId":"resourceGroupDelete","description":"Delete a resource-group","responses":{"200":{"description":"resource-group deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}}}},"/v1/resource-groups/{resource_group}/spawn":{"parameters":[{"$ref":"#/components/parameters/ResourceGroupName"}],"post":{"tags":["developers"],"summary":"create a new resource-definition based on the given resource-group","operationId":"resourceGroupSpawn","description":"Creates a new resource-definition and auto-deploys if configured to do so.\n","responses":{"201":{"description":"resource-definition created and auto-deployed if configured accordingly","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceGroupSpawn"},"example":{"resource_definition_name":"res1","volume_sizes":[1048576,20971520]}}}}}},"/v1/resource-groups/{resource_group}/volume-groups":{"parameters":[{"$ref":"#/components/parameters/ResourceGroupName"}],"get":{"tags":["developers"],"summary":"lists all volume-groups","operationId":"volumeGroupList","description":"Lists all volume groups.\n\nA single volume group can be queried by adding its name\nto the resource string like:\n\n/v1/resource-groups/rscgrp1/volume-groups/0\n","parameters":[{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/Limit"}],"responses":{"200":{"description":"Array of all volume-groups","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VolumeGroup"}}}}}}},"post":{"tags":["developers"],"summary":"add a volume-group to a resource-group","operationId":"volumeGroupCreate","description":"Adds a volume-group.\n","responses":{"201":{"description":"volume-group created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VolumeGroup"}}}}}},"/v1/resource-groups/{resource_group}/volume-groups/{volume_number}":{"parameters":[{"$ref":"#/components/parameters/ResourceGroupName"},{"$ref":"#/components/parameters/VolumeNumber"}],"put":{"tags":["developers"],"summary":"modify a resource-group","operationId":"volumeGroupModify","description":"Sets or modifies properties\n\nPossible properties are:\n- `StorPoolName` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Linstor storage pool name to use.\n\n- `OverrideVlmId` - regex[`.*`]\n\n    Overwrites the generated '<resource-name>_<5 digit volume number>' volume name for migration purposes\n\n- `AllowLargerVolumeSize` - boolean_true_false\n\n    Do not fail when the underlying volume is larger than expected\n\n- `FileSystem/Type` - enum\n\n    File system type to use\n\n    * ext4\n    * xfs\n\n- `FileSystem/MkfsParams` - string\n\n    Additional parameters for the mkfs command\n\n- `StorDriver/LvcreateType` - enum\n    * linear\n    * striped\n    * mirror\n    * raid0\n    * raid1\n    * raid4\n    * raid5\n    * raid6\n    * raid10\n    * lzma\n    * lz4\n\n- `DrbdCurrentGi` - regex[`[a-fA-F0-9]{16}`]\n- `DrbdOptions/Disk/read-balancing` - enum\n    * prefer-local\n    * prefer-remote\n    * round-robin\n    * least-pending\n    * when-congested-remote\n    * 32K-striping\n    * 64K-striping\n    * 128K-striping\n    * 256K-striping\n    * 512K-striping\n    * 1M-striping\n\n- `DrbdOptions/Disk/on-io-error` - enum\n    * pass_on\n    * call-local-io-error\n    * detach\n\n- `DrbdOptions/Disk/disk-drain` - boolean\n- `DrbdOptions/Disk/resync-after` - string\n- `DrbdOptions/Disk/disk-timeout` - range[`0-6000`]\n- `DrbdOptions/Disk/disable-write-same` - boolean\n- `DrbdOptions/Disk/rs-discard-granularity` - range[`0-1048576`]\n- `DrbdOptions/Disk/disk-flushes` - boolean\n- `DrbdOptions/Disk/al-extents` - range[`67-65534`]\n- `DrbdOptions/Disk/al-updates` - boolean\n- `DrbdOptions/Disk/md-flushes` - boolean\n- `DrbdOptions/Disk/disk-barrier` - boolean\n- `DrbdOptions/Disk/discard-zeroes-if-aligned` - boolean\n","responses":{"200":{"description":"volume-group modified","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VolumeGroupModify"},"example":{"override_props":{"Aux/testprop":"1"},"delete_props":["Aux/deleteprop"]}}}}},"delete":{"tags":["developers"],"summary":"delete a volume-group","operationId":"volumeGroupDelete","description":"Delete a volume-group","responses":{"200":{"description":"volume-group deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}}}},"/v1/resource-groups/{resource_group}/query-max-volume-size":{"parameters":[{"$ref":"#/components/parameters/ResourceGroupName"}],"get":{"tags":["developers"],"operationId":"queryMaxVolumeSizeFromRscGrp","summary":"query the maximum volume size from a given resource group","description":"Query the maximum possible volume size storage pools","responses":{"200":{"description":"list of usable storage pools","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaxVolumeSizes"}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/controller/properties":{"get":{"tags":["developers"],"summary":"lists all controller properties","operationId":"controllerPropertyList","description":"Lists all controller properties.\n","responses":{"200":{"description":"A string to string map with all properties","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Properties"}}}}}},"post":{"tags":["developers"],"summary":"sets or modifies controller properties","operationId":"controllerPropertyModify","description":"Sets or modifies properties\n\nPossible properties are:\n- `TcpPortAutoRange` - regex[`[0-9]+-[0-9]+`]\n\n    Range for auto-allocation of resource TCP ports\n\n- `MinorNrAutoRange` - regex[`[0-9]+-[0-9]+`]\n\n    Range for auto-allocation of volume minor numbers\n\n- `PeerSlotsNewResource` - range[`1-31`]\n\n    DRBD peer slots to allocate for newly created resources (default 7), the number of peer slots cannot be changed once the resource is created, so allow sufficient slots to increase redundancy in the future\n\n- `StorDriver/DMStats` - boolean_true_false\n\n    Enable dmstats on lvm create\n\n- `GlobSeqApiCalls` - boolean_true_false\n\n    Globally sequentialize all ctrl -> stlt api calls\n\n- `REST/bindAddress` - string\n\n    Bind address of the REST API\n\n- `REST/port` - range[`1-65535`]\n\n    TCP Port of the REST API\n\n- `REST/enabled` - boolean_true_false\n\n    Bool if REST API should be enabled\n\n- `NVMe/enabled` - enum\n    * rdma\n    * tcp\n\n- `NVMe/enabled` - range[`1-65535`]\n- `NVMe/PrefNic` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Preferred network interface to use\n\n- `StorDriver/WaitTimeoutAfterCreate` - regex[`[0-9]+`]\n- `sys/fs/blkio_throttle_read` - long\n\n    Sets the /sys/fs/cgroup/blkio/blkio.throttle.read_bps_device\n\n- `sys/fs/blkio_throttle_write` - long\n\n    Sets the /sys/fs/cgroup/blkio/blkio.throttle.write_bps_device\n\n- `SearchDomain` - string\n\n    Search domain node names, if no FQDN is given.\n\n- `ExtCmdWaitTimeout` - long\n\n    Wait timeout for an external command in milliseconds\n\n- `DrbdOptions/auto-quorum` - enum\n\n    Enables automatic setting of the 'quroum' and 'on-no-quroum' property\n\n    * io-error\n    * suspend-io\n    * disabled\n\n- `DrbdOptions/auto-add-quorum-tiebreaker` - boolean_true_false\n\n    Enables automatic management (creation and deletion) of tie breaking resource\n\n- `Writecache/PoolName` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Linstor storage pool name for writecache\n\n- `Writecache/Size` - regex[`^100%|[0-9]{1,2}([.][0-9]*)?%|[1-9][0-9]{2,}$`]\n\n    Size of the writecache in % (0-100) or KiB otherwise\n\n- `Writecache/Blocksize` - long\n\n    4096 is recommended; the maximum block size is the page size\n\n- `Writecache/Options/StartSector` - long\n\n    offset from the start of cache device in 512-byte sectors\n\n- `Writecache/Options/HighWatermark` - long\n\n    start writeback when the number of used blocks reach this watermark\n\n- `Writecache/Options/LowWatermark` - long\n\n    stop writeback when the number of used blocks drops below this watermark\n\n- `Writecache/Options/WritebackJobs` - long\n\n    limit the number of blocks that are in flight during writeback. Setting this value reduces writeback throughput, but it may improve latency of read requests\n\n- `Writecache/Options/AutocommitBlocks` - long\n\n    when the application writes this amount of blocks without issuing the FLUSH request, the blocks are automatically commited\n\n- `Writecache/Options/AutocommitTime` - long\n\n    autocommit time in milliseconds. The data is automatically commited if this time passes and no FLUSH request is received\n\n- `Writecache/Options/Fua` - enum\n\n    \"On\" results in \"fua\" as argument, whereas the value \"Off\" results in \"nofua\" argument\n\n    * On\n    * Off\n\n- `Writecache/Options/Additional` - string\n\n    Additional arguments passed through\n\n- `Cache/OpMode` - enum\n\n    Operation mode\n\n    * writeback\n    * writethrough\n    * passthrough\n\n- `Cache/MetaPool` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Name of the storage pool used for the cache metadata. If not specified, this will default to the CachePool property\n\n- `Cache/Metasize` - regex[`^100%|[0-9]{1,2}([.][0-9]*)?%|[1-9][0-9]{2,}$`]\n\n    Size of the cache in % (0-100) or KiB otherwise.\n\n- `Cache/CachePool` - regex[`^[a-zA-Z0-9_][a-zA-Z0-9_-]{2,47}$`]\n\n    Name of the storage pool used for the cache cache device\n\n- `Cache/Metasize` - regex[`^100%|[0-9]{1,2}([.][0-9]*)?%|[1-9][0-9]{2,}$`]\n\n    Size of the cache in % (0-100) or KiB otherwise.\n\n- `Cache/Blocksize` - long\n\n    Block size\n\n- `Cache/Policy` - enum\n\n    Replacemant policy\n\n    * mq\n    * smq\n    * cleaner\n\n- `StorDriver/Openflex/ApiHost` - regex[`.+`]\n- `StorDriver/Openflex/ApiPort` - regex[`[0-9]+`]\n- `StorDriver/Openflex/UserName` - regex[`.+`]\n- `StorDriver/Openflex/UserPassword` - regex[`.+`]\n- `StorDriver/Openflex/JobWaitDelay` - regex[`[0-9]+`]\n\n    Delay in milliseconds linstor waits between fetching the job status\n\n- `StorDriver/Openflex/JobWaitMaxCount` - regex[`[0-9]+`]\n- `DrbdOptions/Disk/on-io-error` - enum\n    * pass_on\n    * call-local-io-error\n    * detach\n\n- `DrbdOptions/Disk/disk-barrier` - boolean\n- `DrbdOptions/Disk/disk-flushes` - boolean\n- `DrbdOptions/Disk/disk-drain` - boolean\n- `DrbdOptions/Disk/md-flushes` - boolean\n- `DrbdOptions/Disk/resync-after` - string\n- `DrbdOptions/Disk/al-extents` - range[`67-65534`]\n- `DrbdOptions/Disk/al-updates` - boolean\n- `DrbdOptions/Disk/discard-zeroes-if-aligned` - boolean\n- `DrbdOptions/Disk/disable-write-same` - boolean\n- `DrbdOptions/Disk/disk-timeout` - range[`0-6000`]\n- `DrbdOptions/Disk/read-balancing` - enum\n    * prefer-local\n    * prefer-remote\n    * round-robin\n    * least-pending\n    * when-congested-remote\n    * 32K-striping\n    * 64K-striping\n    * 128K-striping\n    * 256K-striping\n    * 512K-striping\n    * 1M-striping\n\n- `DrbdOptions/Disk/rs-discard-granularity` - range[`0-1048576`]\n- `DrbdOptions/PeerDevice/resync-rate` - range[`1-8388608`]\n- `DrbdOptions/PeerDevice/c-plan-ahead` - range[`0-300`]\n- `DrbdOptions/PeerDevice/c-delay-target` - range[`1-100`]\n- `DrbdOptions/PeerDevice/c-fill-target` - range[`0-1048576`]\n- `DrbdOptions/PeerDevice/c-max-rate` - range[`250-4194304`]\n- `DrbdOptions/PeerDevice/c-min-rate` - range[`0-4194304`]\n- `DrbdOptions/PeerDevice/bitmap` - boolean\n- `DrbdOptions/Resource/cpu-mask` - string\n- `DrbdOptions/Resource/on-no-data-accessible` - enum\n    * io-error\n    * suspend-io\n\n- `DrbdOptions/Resource/auto-promote` - boolean\n- `DrbdOptions/Resource/peer-ack-window` - range[`2048-204800`]\n- `DrbdOptions/Resource/peer-ack-delay` - range[`1-10000`]\n- `DrbdOptions/Resource/twopc-timeout` - range[`50-600`]\n- `DrbdOptions/Resource/twopc-retry-timeout` - range[`1-50`]\n- `DrbdOptions/Resource/auto-promote-timeout` - range[`0-600`]\n- `DrbdOptions/Resource/max-io-depth` - range[`4-4294967295`]\n- `DrbdOptions/Resource/quorum` - enum [`1-32`]\n    * off\n    * majority\n    * all\n\n- `DrbdOptions/Resource/on-no-quorum` - enum\n    * io-error\n    * suspend-io\n\n- `DrbdOptions/Resource/quorum-minimum-redundancy` - enum [`1-32`]\n    * off\n    * majority\n    * all\n\n- `DrbdOptions/Net/transport` - string\n- `DrbdOptions/Net/protocol` - enum\n    * A\n    * B\n    * C\n\n- `DrbdOptions/Net/timeout` - range[`1-600`]\n- `DrbdOptions/Net/max-epoch-size` - range[`1-20000`]\n- `DrbdOptions/Net/connect-int` - range[`1-120`]\n- `DrbdOptions/Net/ping-int` - range[`1-120`]\n- `DrbdOptions/Net/sndbuf-size` - range[`0-10485760`]\n- `DrbdOptions/Net/rcvbuf-size` - range[`0-10485760`]\n- `DrbdOptions/Net/ko-count` - range[`0-200`]\n- `DrbdOptions/Net/allow-two-primaries` - boolean\n- `DrbdOptions/Net/cram-hmac-alg` - string\n- `DrbdOptions/Net/shared-secret` - string\n- `DrbdOptions/Net/after-sb-0pri` - enum\n    * disconnect\n    * discard-younger-primary\n    * discard-older-primary\n    * discard-zero-changes\n    * discard-least-changes\n    * discard-local\n    * discard-remote\n\n- `DrbdOptions/Net/after-sb-1pri` - enum\n    * disconnect\n    * consensus\n    * discard-secondary\n    * call-pri-lost-after-sb\n    * violently-as0p\n\n- `DrbdOptions/Net/after-sb-2pri` - enum\n    * disconnect\n    * call-pri-lost-after-sb\n    * violently-as0p\n\n- `DrbdOptions/Net/always-asbp` - boolean\n- `DrbdOptions/Net/rr-conflict` - enum\n    * disconnect\n    * call-pri-lost\n    * violently\n    * retry-connect\n\n- `DrbdOptions/Net/ping-timeout` - range[`1-300`]\n- `DrbdOptions/Net/data-integrity-alg` - string\n- `DrbdOptions/Net/tcp-cork` - boolean\n- `DrbdOptions/Net/on-congestion` - enum\n    * block\n    * pull-ahead\n    * disconnect\n\n- `DrbdOptions/Net/congestion-fill` - range[`0-20971520`]\n- `DrbdOptions/Net/congestion-extents` - range[`67-65534`]\n- `DrbdOptions/Net/csums-alg` - string\n- `DrbdOptions/Net/csums-after-crash-only` - boolean\n- `DrbdOptions/Net/verify-alg` - string\n- `DrbdOptions/Net/use-rle` - boolean\n- `DrbdOptions/Net/socket-check-timeout` - range[`0-300`]\n- `DrbdOptions/Net/fencing` - enum\n    * dont-care\n    * resource-only\n    * resource-and-stonith\n\n- `DrbdOptions/Net/max-buffers` - range[`32-131072`]\n- `DrbdOptions/Net/allow-remote-read` - boolean\n- `DrbdOptions/Handlers/after-resync-target` - string\n- `DrbdOptions/Handlers/before-resync-target` - string\n- `DrbdOptions/Handlers/before-resync-source` - string\n- `DrbdOptions/Handlers/out-of-sync` - string\n- `DrbdOptions/Handlers/quorum-lost` - string\n- `DrbdOptions/Handlers/fence-peer` - string\n- `DrbdOptions/Handlers/unfence-peer` - string\n- `DrbdOptions/Handlers/initial-split-brain` - string\n- `DrbdOptions/Handlers/local-io-error` - string\n- `DrbdOptions/Handlers/pri-lost` - string\n- `DrbdOptions/Handlers/pri-lost-after-sb` - string\n- `DrbdOptions/Handlers/pri-on-incon-degr` - string\n- `DrbdOptions/Handlers/split-brain` - string\n","responses":{"201":{"description":"Controller property created/modifed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ControllerPropsModify"},"example":{"override_props":{"Aux/testprop":"myprop"}}}}}}},"/v1/controller/properties/{key}":{"parameters":[{"name":"key","in":"path","required":true,"schema":{"type":"string","description":"Controller property key to delete"}}],"delete":{"tags":["developers"],"summary":"Deletes a controller property","operationId":"controllerPropertyDelete","description":"Delete a controller property","responses":{"200":{"description":"property deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/controller/config":{"get":{"tags":["developers"],"summary":"show controller config","operationId":"ControllerConfig","description":"Show Controller config\n","responses":{"200":{"description":"Controller config","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ControllerConfig"}}}}}}},"/v1/controller/version":{"get":{"tags":["developers"],"summary":"show controller version info","operationId":"controllerVersion","description":"Show Controller version info\n","responses":{"200":{"description":"Controller version info object","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ControllerVersion"}}}}}}},"/v1/resource-definitions/{resource}/drbd-proxy":{"parameters":[{"$ref":"#/components/parameters/Resource"}],"put":{"tags":["developers"],"summary":"modify drbd proxy option properties","operationId":"resourceDrbdProxyModify","description":"Sets or modifies properties\n\nPossible properties are:\n- `DrbdOptions/Proxy/memlimit` - range[`16777216-9223372036854775807`]\n- `DrbdOptions/Proxy/read-loops` - range[`0-2147483647`]\n- `DrbdOptions/Proxy/sndbuf-size` - range[`0-10485760`]\n- `DrbdOptions/Proxy/rcvbuf-size` - range[`0-10485760`]\n- `DrbdOptions/Proxy/ping-timeout` - range[`1-300`]\n- `DrbdOptions/ProxyCompression/dict-size` - range[`4096-1610612736`]\n- `DrbdOptions/ProxyCompression/lc` - range[`0-4`]\n- `DrbdOptions/ProxyCompression/lp` - range[`0-4`]\n- `DrbdOptions/ProxyCompression/pb` - range[`0-4`]\n- `DrbdOptions/ProxyCompression/nice-len` - range[`0-273`]\n- `DrbdOptions/ProxyCompression/mf` - enum\n    * hc4\n    * hc3\n    * bt2\n    * bt3\n    * bt4\n\n- `DrbdOptions/ProxyCompression/mode` - enum\n    * fast\n    * normal\n\n- `DrbdOptions/ProxyCompression/depth` - range[`0-1000`]\n- `DrbdOptions/ProxyCompression/level` - range[`1-9`]\n- `DrbdOptions/ProxyCompression/contexts` - range[`1-253`]\n- `DrbdOptions/ProxyCompression/fallback-to-zlib` - enum\n    * off\n    * on\n\n- `DrbdOptions/ProxyCompression/numa-threshold` - range[`0-253`]\n- `DrbdOptions/ProxyCompression/level` - range[`1-9`]\n- `DrbdOptions/ProxyCompression/level` - range[`1-22`]\n","responses":{"200":{"description":"drbd proxy properties modified","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DrbdProxyModify"},"example":{"override_props":{"compression_type":"lz4"}}}}}}},"/v1/resource-definitions/{resource}/drbd-proxy/enable/{node_a}/{node_b}":{"parameters":[{"$ref":"#/components/parameters/Resource"},{"$ref":"#/components/parameters/NodeA"},{"$ref":"#/components/parameters/NodeB"}],"post":{"tags":["developers"],"summary":"enable a drbd proxy on a node connection","operationId":"resourceDrbdProxyEnable","description":"Enables a drbd proxy on a node connection","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DrbdProxyEnable"}}}},"responses":{"200":{"description":"drbd proxy configuration enabled","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/resource-definitions/{resource}/drbd-proxy/disable/{nodeA}/{nodeB}":{"parameters":[{"$ref":"#/components/parameters/Resource"},{"name":"nodeA","in":"path","required":true,"schema":{"type":"string","description":"source node of the connection"}},{"name":"nodeB","in":"path","required":true,"schema":{"type":"string","description":"target node of the connection"}}],"post":{"tags":["developers"],"summary":"disables a drbd proxy on a node connection","operationId":"resourceDrbdProxyDisable","description":"Disables a drbd proxy on a node connection","responses":{"200":{"description":"drbd proxy configuration disabled","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/encryption/passphrase":{"post":{"tags":["developers"],"summary":"create a encryption passphrase","operationId":"encryptionPassphraseCreate","responses":{"200":{"description":"encryption passphrase created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PassPhraseCreate"}}}}},"put":{"tags":["developers"],"summary":"modifies the encryption passphrase","operationId":"encryptionPassphraseModify","responses":{"200":{"description":"encryption passphrase modified","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PassPhraseCreate"}}}}},"patch":{"tags":["developers"],"summary":"enter the encryption passphrase","operationId":"encryptionPassphraseEnter","responses":{"200":{"description":"encryption passphrase accepted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PassPhraseEnter"}}}}}},"/v1/error-reports":{"get":{"tags":["developers"],"operationId":"errorReportList","summary":"list all error reports","description":"List all error reports","parameters":[{"name":"node","in":"query","description":"Only show error reports of this node","schema":{"type":"string"}},{"name":"since","in":"query","description":"Unix timestamp from the starting interval","schema":{"type":"integer","format":"int64"}},{"name":"to","in":"query","description":"Unix timestamp to the ending interval","schema":{"type":"integer","format":"int64"}},{"name":"withContent","in":"query","description":"Include error report text in response.","schema":{"type":"boolean","default":false}},{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/Limit"}],"responses":{"200":{"description":"list of error reports","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ErrorReport"}}}}},"404":{"description":"Query parameter invalid."},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/error-reports/{reportid}":{"get":{"tags":["developers"],"operationId":"errorReportShow","summary":"query the specified reportid","description":"Query the specified reportid","parameters":[{"name":"reportid","in":"path","required":true,"description":"Error id to select","schema":{"type":"string"}},{"name":"node","in":"query","description":"Only show error reports of this node","schema":{"type":"string"}},{"name":"since","in":"query","description":"Unix timestamp from the starting interval","schema":{"type":"integer","format":"int64"}},{"name":"to","in":"query","description":"Unix timestamp to the ending interval","schema":{"type":"integer","format":"int64"}},{"name":"withContent","in":"query","description":"Include error report text in response.","schema":{"type":"boolean","default":true}},{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/Limit"}],"responses":{"200":{"description":"list of error reports","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ErrorReport"}}}}},"404":{"description":"Query parameter invalid."},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/key-value-store":{"get":{"tags":["developers"],"operationId":"keyValueStoresList","summary":"list all key value stores","description":"List all known key value store instances","responses":{"200":{"description":"list of key value stores","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/KeyValueStore"}}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/key-value-store/{instance}":{"parameters":[{"name":"instance","in":"path","required":true,"schema":{"type":"string","description":"name of the key value store"}}],"get":{"tags":["developers"],"operationId":"keyValueStoreList","summary":"list all key value stores","description":"List all known key value store instances","responses":{"200":{"description":"list of key value stores","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/KeyValueStore"}}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}},"put":{"tags":["developers"],"operationId":"keyValueStoreModify","summary":"modify a key value store","description":"Modify a key value store","responses":{"200":{"description":"key value store modified","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"400":{"$ref":"#/components/responses/InvalidInput"},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/KeyValueStoreModify"}}}}},"delete":{"tags":["developers"],"operationId":"keyValueStoreDelete","summary":"delete a key value store","description":"Delete a key value store","responses":{"200":{"description":"key value store deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/query-max-volume-size":{"options":{"tags":["developers"],"operationId":"queryMaxVolumeSize","summary":"query the maximum volume size","description":"Query the maximum possible volume size storage pools","responses":{"200":{"description":"list of usable storage pools","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaxVolumeSizes"}}}},"500":{"$ref":"#/components/responses/OperationFailed"}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AutoSelectFilter"}}}}}},"/v1/view/resources":{"get":{"tags":["developers"],"operationId":"viewResources","summary":"query all resources with their volumes","description":"This REST-resource should be used if you want to get an overview of all resources with their volumes.","parameters":[{"name":"nodes","in":"query","description":"Filter only for the specified nodes, if not specified no filtering.","schema":{"type":"array","items":{"type":"string"}}},{"name":"storage_pools","in":"query","description":"Filter only for the specified storage pools, if not specified no filtering.","schema":{"type":"array","items":{"type":"string"}}},{"name":"resources","in":"query","description":"Filter only for the specified resources, if not specified no filtering.","schema":{"type":"array","items":{"type":"string"}}},{"$ref":"#/components/parameters/Props"},{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/Limit"}],"responses":{"200":{"description":"resources list with volume data","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResourceWithVolumes"}}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/view/storage-pools":{"get":{"tags":["developers"],"operationId":"viewStoragePools","summary":"query all storage pools","description":"This REST-resource should be used if you want to get an overview of all storage pools.","parameters":[{"name":"nodes","in":"query","description":"Filter only for the specified nodes, if not specified no filtering.","schema":{"type":"array","items":{"type":"string"}}},{"name":"storage_pools","in":"query","description":"Filter only for the specified storage pools, if not specified no filtering.","schema":{"type":"array","items":{"type":"string"}}},{"$ref":"#/components/parameters/Props"},{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/Limit"}],"responses":{"200":{"description":"storage pool list","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StoragePool"}}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/view/snapshots":{"get":{"tags":["developers"],"operationId":"viewSnapshots","summary":"query all snapshots known to linstor","description":"This REST-resource should be used if you want to get an overview of all snapshots.","parameters":[{"name":"nodes","in":"query","description":"Filter only for the specified nodes, if not specified, no filtering.","schema":{"type":"array","items":{"type":"string"}}},{"name":"resources","in":"query","description":"Filter only for the specified resources, if not specified, no filtering.","schema":{"type":"array","items":{"type":"string"}}},{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/Limit"}],"responses":{"200":{"description":"snapshot list","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Snapshot"}}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/physical-storage":{"get":{"tags":["developers"],"operationId":"viewPhysicaStorage","summary":"show physical storage on nodes, to be used with LINSTOR","description":"Gives a grouped list of physical storage that can be turned into a LINSTOR storage-pool","parameters":[{"$ref":"#/components/parameters/Offset"},{"$ref":"#/components/parameters/Limit"}],"responses":{"200":{"description":"physical storage list","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PhysicalStorage"}}}}},"500":{"$ref":"#/components/responses/OperationFailed"}}}},"/v1/physical-storage/{node}":{"post":{"tags":["developers"],"operationId":"createDevicePool","summary":"creates an LVM, LVM-thin or ZFS pool, optional VDO under it","description":"Creates a LVM/LVM-thin, ZFS pool on the given device and if supported VDO(optional) under it.\nlogcal_size_kib parameter is only needed if LVM-thin or vdo is used.\nAlso note VDO can only used with LVM-fat.\n","parameters":[{"$ref":"#/components/parameters/Node"}],"responses":{"201":{"description":"device pool created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PhysicalStorageCreate"},"example":{"provider_kind":"LVM_THIN","device_path":"/dev/sde","pool_name":"ssd_fast","logcal_size_kib":5368709120,"vdo_enable":false}}}}}}},"components":{"parameters":{"Resource":{"name":"resource","in":"path","required":true,"description":"resource to use","schema":{"type":"string"}},"ResourceGroupName":{"name":"resource_group","in":"path","required":true,"description":"resource group to use","schema":{"type":"string"}},"Node":{"name":"node","in":"path","required":true,"description":"node to use","schema":{"type":"string"}},"NetInterface":{"name":"netinterface","in":"path","required":true,"description":"netinterface name to use","schema":{"type":"string"}},"Offset":{"name":"offset","in":"query","description":"number of records to skip for pagination","schema":{"type":"integer","format":"int32","minimum":0}},"Limit":{"name":"limit","in":"query","description":"maximum number of records to return","schema":{"type":"integer","format":"int32","minimum":0,"maximum":50}},"Props":{"name":"props","in":"query","description":"filter by given properties, full property path","schema":{"type":"array","items":{"type":"string"}}},"NodeA":{"name":"node_a","in":"path","required":true,"description":"source node of the connection","schema":{"type":"string"}},"NodeB":{"name":"node_b","in":"path","required":true,"description":"target node of the connection","schema":{"type":"string"}},"VolumeNumber":{"name":"volume_number","in":"path","required":true,"schema":{"type":"integer","format":"int32","description":"Volume number of the definition"}}},"responses":{"InvalidInput":{"description":"invalid input, or request failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"ObjectNotFound":{"description":"object not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}},"OperationFailed":{"description":"operation failed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiCallRc"}}}}},"schemas":{"ApiCallRc":{"description":"Common api reply structure","type":"object","required":["ret_code","message"],"properties":{"ret_code":{"type":"integer","format":"int64","description":"A masked error number"},"message":{"type":"string","example":"Operation result."},"cause":{"type":"string","description":"Cause of the error"},"details":{"type":"string","description":"Details to the error message"},"correction":{"type":"string","description":"Possible correction options"},"error_report_ids":{"type":"array","description":"List of error report ids related to this api call return code.","items":{"type":"string"}},"obj_refs":{"type":"object","description":"Map of objection that have been involved by the operation.","additionalProperties":{"type":"string"}}}},"Node":{"type":"object","required":["name","type"],"properties":{"name":{"type":"string","example":"nodeA"},"type":{"type":"string","example":"Satellite","enum":["Controller","Satellite","Combined","Auxiliary","Openflex_Target"]},"flags":{"type":"array","items":{"type":"string"}},"props":{"$ref":"#/components/schemas/Properties"},"net_interfaces":{"type":"array","items":{"$ref":"#/components/schemas/NetInterface"}},"connection_status":{"type":"string","example":"ONLINE","description":"Enum describing the current connection status.\n","enum":["OFFLINE","CONNECTED","ONLINE","VERSION_MISMATCH","HOSTNAME_MISMATCH","FULL_SYNC_FAILED","AUTHENTICATION_ERROR","UNKNOWN"]},"uuid":{"type":"string","description":"unique object id","example":"e8ef8d6b-17bc-42f0-9367-4aae40c78ecb"},"storage_providers":{"type":"array","items":{"$ref":"#/components/schemas/ProviderKind"}},"resource_layers":{"type":"array","items":{"$ref":"#/components/schemas/LayerType"}},"unsupported_providers":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}},"unsupported_layers":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}}},"NodeModify":{"type":"object","properties":{"node_type":{"type":"string"},"override_props":{"$ref":"#/components/schemas/Properties"},"delete_props":{"type":"array","items":{"type":"string"}},"delete_namespaces":{"type":"array","items":{"type":"string"}}}},"NetInterface":{"type":"object","required":["name","address"],"properties":{"name":{"type":"string","example":"default"},"address":{"type":"string","example":"10.0.0.2"},"satellite_port":{"type":"integer","example":3366},"satellite_encryption_type":{"type":"string","example":"Plain","enum":["Plain","SSL"]},"is_active":{"description":"Defines if this netinterface should be used for the satellite connection","type":"boolean"},"uuid":{"type":"string","description":"unique object id","example":"e8ef8d6b-17bc-42f0-9367-4aae40c78ecb"}}},"Properties":{"type":"object","description":"A string to string property map.","additionalProperties":{"type":"string"}},"ProviderKind":{"type":"string","enum":["DISKLESS","LVM","LVM_THIN","ZFS","ZFS_THIN","OPENFLEX_TARGET","FILE","FILE_THIN","SPDK"]},"StoragePool":{"description":"Contains information about a storage pool.\n\nIf state is `Error` check the storage pool object path for detailed error description:\n\n  /v1/nodes/{nodename}/storage-pools/{poolname}\n","type":"object","required":["storage_pool_name","provider_kind"],"properties":{"storage_pool_name":{"type":"string","example":"DfltStorPool"},"node_name":{"type":"string"},"provider_kind":{"$ref":"#/components/schemas/ProviderKind"},"props":{"$ref":"#/components/schemas/Properties"},"static_traits":{"type":"object","readOnly":true,"description":"read only map of static storage pool traits","additionalProperties":{"type":"string"}},"free_capacity":{"type":"integer","format":"int64","example":882894848,"description":"Kibi - read only"},"total_capacity":{"type":"integer","format":"int64","example":1056964608,"description":"Kibi - read only"},"free_space_mgr_name":{"type":"string","example":"drbd1:myfastpool","description":"read only"},"uuid":{"type":"string","description":"unique object id","example":"e8ef8d6b-17bc-42f0-9367-4aae40c78ecb"},"reports":{"type":"array","description":"Currently known report messages for this storage pool","readOnly":true,"items":{"$ref":"#/components/schemas/ApiCallRc"}},"supports_snapshots":{"type":"boolean","description":"true if the storage pool supports snapshots. false otherwise"}}},"LayerType":{"type":"string","enum":["DRBD","LUKS","STORAGE","NVME","WRITECACHE","CACHE","OPENFLEX"]},"DrbdResourceDefinitionLayer":{"type":"object","properties":{"resource_name_suffix":{"type":"string"},"peer_slots":{"type":"integer","format":"int32"},"al_stripes":{"type":"integer","format":"int32"},"al_stripe_size_kib":{"type":"integer","format":"int64"},"port":{"type":"integer","format":"int32","example":7000,"description":"used drbd port for this resource"},"transport_type":{"type":"string"},"secret":{"type":"string","example":"7sqCWjvGmwAiV5kzg3VF","description":"drbd resource secret"},"down":{"type":"boolean"}}},"OpenflexResourceDefinitionLayer":{"type":"object","properties":{"resource_name_suffix":{"type":"string"},"nqn":{"type":"string"}}},"ResourceDefinitionLayer":{"type":"object","properties":{"type":{"$ref":"#/components/schemas/LayerType"},"data":{"oneOf":[{"$ref":"#/components/schemas/DrbdResourceDefinitionLayer"},{"$ref":"#/components/schemas/OpenflexResourceDefinitionLayer"}]}}},"ResourceDefinition":{"type":"object","properties":{"name":{"type":"string","default":"","example":"rsc1"},"external_name":{"type":"string","description":"External name can be used to have native resource names.\nIf you need to store a non Linstor compatible resource name use this field\nand Linstor will generate a compatible name.\n"},"props":{"$ref":"#/components/schemas/Properties"},"flags":{"type":"array","items":{"type":"string"}},"layer_data":{"type":"array","items":{"$ref":"#/components/schemas/ResourceDefinitionLayer"}},"uuid":{"type":"string","description":"unique object id","example":"e8ef8d6b-17bc-42f0-9367-4aae40c78ecb"},"resource_group_name":{"type":"string","description":"name of the linked resource group, if there is a link"},"volume_definitions":{"type":"array","items":{"$ref":"#/components/schemas/VolumeDefinition"}}}},"ResourceDefinitionCreate":{"type":"object","required":["resource_definition"],"properties":{"drbd_port":{"type":"integer","format":"int32","description":"drbd port for resources"},"drbd_secret":{"type":"string","example":"7sqCWjvGmwAiV5kzg3VF","description":"drbd resource secret"},"drbd_peer_slots":{"type":"integer","format":"int32","description":"drbd peer slot number"},"drbd_transport_type":{"type":"string","example":"IP"},"resource_definition":{"$ref":"#/components/schemas/ResourceDefinition"}}},"ResourceDefinitionModify":{"type":"object","properties":{"override_props":{"$ref":"#/components/schemas/Properties"},"delete_props":{"type":"array","items":{"type":"string"}},"delete_namespaces":{"type":"array","items":{"type":"string"}},"drbd_port":{"type":"integer","format":"int32","description":"drbd port for resources"},"drbd_peer_slots":{"type":"integer","format":"int32","description":"drbd peer slot number"},"layer_stack":{"type":"array","items":{"$ref":"#/components/schemas/LayerType"}}}},"DrbdVolumeDefinition":{"type":"object","properties":{"resource_name_suffix":{"type":"string"},"volume_number":{"type":"integer","format":"int32"},"minor_number":{"type":"integer","format":"int32"}}},"VolumeDefinitionLayer":{"type":"object","required":["type"],"properties":{"type":{"$ref":"#/components/schemas/LayerType"},"data":{"oneOf":[{"$ref":"#/components/schemas/DrbdVolumeDefinition"}]}}},"VolumeDefinition":{"type":"object","required":["size_kib"],"properties":{"volume_number":{"type":"integer","format":"int32"},"size_kib":{"type":"integer","format":"int64","description":"Size of the volume in Kibi."},"props":{"$ref":"#/components/schemas/Properties"},"flags":{"type":"array","items":{"type":"string"}},"layer_data":{"type":"array","items":{"$ref":"#/components/schemas/VolumeDefinitionLayer"}},"uuid":{"type":"string","description":"unique object id","example":"e8ef8d6b-17bc-42f0-9367-4aae40c78ecb"}}},"VolumeDefinitionCreate":{"type":"object","required":["volume_definition"],"properties":{"volume_definition":{"$ref":"#/components/schemas/VolumeDefinition"},"drbd_minor_number":{"type":"integer","format":"int32"}}},"VolumeDefinitionModify":{"type":"object","properties":{"size_kib":{"type":"integer","format":"int64"},"override_props":{"$ref":"#/components/schemas/Properties"},"delete_props":{"type":"array","items":{"type":"string"}},"delete_namespaces":{"type":"array","items":{"type":"string"}},"flags":{"type":"array","description":"To add a flag just specify the flag name, to remove a flag prepend it with a '-'.\n\nFlags:\n  * GROSS_SIZE\n","items":{"type":"string"}}}},"DrbdResource":{"type":"object","properties":{"drbd_resource_definition":{"$ref":"#/components/schemas/DrbdResourceDefinitionLayer"},"node_id":{"type":"integer","format":"int32"},"peer_slots":{"type":"integer","format":"int32"},"al_stripes":{"type":"integer","format":"int32"},"al_size":{"type":"integer","format":"int64"},"flags":{"type":"array","items":{"type":"string"}},"drbd_volumes":{"type":"array","items":{"$ref":"#/components/schemas/DrbdVolume"}},"connections":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/DrbdConnection"}}}},"StorageResource":{"type":"object","properties":{"storage_volumes":{"type":"array","items":{"$ref":"#/components/schemas/StorageVolume"}}}},"LUKSResource":{"type":"object","properties":{"luks_volumes":{"type":"array","items":{"$ref":"#/components/schemas/LUKSVolume"}}}},"NVMEResource":{"type":"object","properties":{"nvme_volumes":{"type":"array","items":{"$ref":"#/components/schemas/NVMEVolume"}}}},"OpenflexResource":{"type":"object","properties":{"openflex_resource_definition":{"$ref":"#/components/schemas/OpenflexResourceDefinitionLayer"},"openflex_volumes":{"type":"array","items":{"$ref":"#/components/schemas/OpenflexVolume"}}}},"WritecacheResource":{"type":"object","properties":{"writecache_volumes":{"type":"array","items":{"$ref":"#/components/schemas/WritecacheVolume"}}}},"CacheResource":{"type":"object","properties":{"cache_volumes":{"type":"array","items":{"$ref":"#/components/schemas/CacheVolume"}}}},"ResourceLayer":{"type":"object","properties":{"children":{"type":"array","items":{"$ref":"#/components/schemas/ResourceLayer"}},"resource_name_suffix":{"type":"string"},"type":{"$ref":"#/components/schemas/LayerType"},"drbd":{"$ref":"#/components/schemas/DrbdResource"},"luks":{"$ref":"#/components/schemas/LUKSResource"},"storage":{"$ref":"#/components/schemas/StorageResource"},"nvme":{"$ref":"#/components/schemas/NVMEResource"},"openflex":{"$ref":"#/components/schemas/OpenflexResource"},"writecache":{"$ref":"#/components/schemas/WritecacheResource"},"cache":{"$ref":"#/components/schemas/CacheResource"}}},"ResourceState":{"type":"object","properties":{"in_use":{"type":"boolean"}}},"DrbdConnection":{"type":"object","properties":{"connected":{"type":"boolean"},"message":{"type":"string","description":"DRBD connection status","example":"Connected","enum":["StandAlone","Disconnecting","Unconnected","Timeout","BrokenPipe","NetworkFailure","ProtocolError","Connecting","TearDown","Connected","Unknown"]}}},"Resource":{"type":"object","properties":{"name":{"type":"string","example":"rsc1"},"node_name":{"type":"string","example":"nodeA"},"props":{"$ref":"#/components/schemas/Properties"},"flags":{"type":"array","items":{"type":"string"}},"layer_object":{"$ref":"#/components/schemas/ResourceLayer"},"state":{"$ref":"#/components/schemas/ResourceState"},"uuid":{"type":"string","description":"unique object id","example":"e8ef8d6b-17bc-42f0-9367-4aae40c78ecb"}}},"ResourceWithVolumes":{"allOf":[{"$ref":"#/components/schemas/Resource"},{"type":"object","properties":{"volumes":{"type":"array","items":{"$ref":"#/components/schemas/Volume"}}}}]},"ResourceCreate":{"type":"object","properties":{"resource":{"$ref":"#/components/schemas/Resource"},"layer_list":{"type":"array","items":{"$ref":"#/components/schemas/LayerType"}},"drbd_node_id":{"type":"integer","format":"int32"}}},"ResourceModify":{"type":"object","properties":{"override_props":{"$ref":"#/components/schemas/Properties"},"delete_props":{"type":"array","items":{"type":"string"}},"delete_namespaces":{"type":"array","items":{"type":"string"}}}},"VolumeModify":{"type":"object","properties":{"override_props":{"$ref":"#/components/schemas/Properties"},"delete_props":{"type":"array","items":{"type":"string"}},"delete_namespaces":{"type":"array","items":{"type":"string"}}}},"DrbdVolume":{"type":"object","properties":{"drbd_volume_definition":{"$ref":"#/components/schemas/DrbdVolumeDefinition"},"device_path":{"type":"string","description":"drbd device path e.g. '/dev/drbd1000'"},"backing_device":{"type":"string","description":"block device used by drbd"},"meta_disk":{"type":"string"},"allocated_size_kib":{"type":"integer","format":"int64"},"usable_size_kib":{"type":"integer","format":"int64"},"disk_state":{"type":"string","description":"String describing current volume state"},"ext_meta_stor_pool":{"type":"string","description":"Storage pool name used for external meta data; null for internal"}}},"LUKSVolume":{"type":"object","properties":{"volume_number":{"type":"integer","format":"int32"},"device_path":{"type":"string","description":"block device path"},"backing_device":{"type":"string","description":"block device used by luks"},"allocated_size_kib":{"type":"integer","format":"int64"},"usable_size_kib":{"type":"integer","format":"int64"},"disk_state":{"type":"string","description":"String describing current volume state"},"opened":{"type":"boolean"}}},"StorageVolume":{"type":"object","properties":{"volume_number":{"type":"integer","format":"int32"},"device_path":{"type":"string","description":"block device path"},"allocated_size_kib":{"type":"integer","format":"int64"},"usable_size_kib":{"type":"integer","format":"int64"},"disk_state":{"type":"string","description":"String describing current volume state"}}},"NVMEVolume":{"type":"object","properties":{"volume_number":{"type":"integer","format":"int32"},"device_path":{"type":"string","description":"block device path"},"backing_device":{"type":"string","description":"block device used by nvme"},"allocated_size_kib":{"type":"integer","format":"int64"},"usable_size_kib":{"type":"integer","format":"int64"},"disk_state":{"type":"string","description":"String describing current volume state"}}},"OpenflexVolume":{"type":"object","properties":{"volume_number":{"type":"integer","format":"int32"},"device_path":{"type":"string","description":"block device path"},"allocated_size_kib":{"type":"integer","format":"int64"},"usable_size_kib":{"type":"integer","format":"int64"},"disk_state":{"type":"string","description":"String describing current volume state"}}},"WritecacheVolume":{"type":"object","properties":{"volume_number":{"type":"integer","format":"int32"},"device_path":{"type":"string","description":"block device path"},"device_path_cache":{"type":"string","description":"block device path used as cache device"},"allocated_size_kib":{"type":"integer","format":"int64"},"usable_size_kib":{"type":"integer","format":"int64"},"disk_state":{"type":"string","description":"String describing current volume state"}}},"CacheVolume":{"type":"object","properties":{"volume_number":{"type":"integer","format":"int32"},"device_path":{"type":"string","description":"block device path"},"device_path_cache":{"type":"string","description":"block device path used as cache device"},"device_meta_cache":{"type":"string","description":"block device path used as meta device"},"allocated_size_kib":{"type":"integer","format":"int64"},"usable_size_kib":{"type":"integer","format":"int64"},"disk_state":{"type":"string","description":"String describing current volume state"}}},"VolumeLayer":{"type":"object","properties":{"type":{"$ref":"#/components/schemas/LayerType"},"data":{"oneOf":[{"$ref":"#/components/schemas/DrbdVolume"},{"$ref":"#/components/schemas/LUKSVolume"},{"$ref":"#/components/schemas/StorageVolume"},{"$ref":"#/components/schemas/NVMEVolume"},{"$ref":"#/components/schemas/WritecacheVolume"},{"$ref":"#/components/schemas/CacheVolume"}]}}},"Volume":{"type":"object","properties":{"volume_number":{"type":"integer","format":"int32"},"storage_pool_name":{"type":"string"},"provider_kind":{"$ref":"#/components/schemas/ProviderKind"},"device_path":{"type":"string"},"allocated_size_kib":{"type":"integer","format":"int64"},"usable_size_kib":{"type":"integer","format":"int64"},"props":{"$ref":"#/components/schemas/Properties"},"flags":{"type":"array","items":{"type":"string"}},"state":{"$ref":"#/components/schemas/VolumeState"},"layer_data_list":{"type":"array","items":{"$ref":"#/components/schemas/VolumeLayer"}},"uuid":{"type":"string","description":"unique object id","example":"e8ef8d6b-17bc-42f0-9367-4aae40c78ecb"},"reports":{"type":"array","items":{"$ref":"#/components/schemas/ApiCallRc"}}}},"VolumeState":{"type":"object","properties":{"disk_state":{"type":"string"}}},"ResourceGroup":{"type":"object","properties":{"name":{"type":"string","default":"","example":"rscgrp1"},"description":{"type":"string","default":""},"props":{"$ref":"#/components/schemas/Properties"},"select_filter":{"$ref":"#/components/schemas/AutoSelectFilter"},"uuid":{"type":"string","description":"unique object id","example":"e8ef8d6b-17bc-42f0-9367-4aae40c78ecb"}}},"ResourceGroupModify":{"type":"object","properties":{"description":{"type":"string"},"override_props":{"$ref":"#/components/schemas/Properties"},"delete_props":{"type":"array","items":{"type":"string"}},"delete_namespaces":{"type":"array","items":{"type":"string"}},"select_filter":{"$ref":"#/components/schemas/AutoSelectFilter"}}},"ResourceGroupSpawn":{"type":"object","properties":{"resource_definition_name":{"type":"string","description":"name of the resulting resource-definition"},"resource_definition_external_name":{"type":"string","description":"External name can be used to have native resource names.\nIf you need to store a non Linstor compatible resource name use this field\nand Linstor will generate a compatible name.\n"},"volume_sizes":{"type":"array","items":{"type":"integer","format":"int64"},"description":"sizes (in kib) of the resulting volume-definitions"},"partial":{"type":"boolean","default":false,"description":"If false, the length of the vlm_sizes has to match the number of volume-groups or an\nerror is returned.\n\nIf true and there are more vlm_sizes than volume-groups, the additional volume-definitions\nwill simply have no pre-set properties (i.e. \"empty\" volume-definitions)\nIf true and there are less vlm_sizes than volume-groups, the additional volume-groups\nwon't be used.\n\nIf the count of vlm_sizes matches the number of volume-groups, this \"partial\" parameter\nhas no effect.\n"},"definitions_only":{"type":"boolean","default":false,"description":"If true, the spawn command will only create the resource-definition with the volume-definitions\nbut will not perform an auto-place, even if it is configured.\n"}}},"VolumeGroup":{"type":"object","properties":{"volume_number":{"type":"integer","format":"int32"},"props":{"$ref":"#/components/schemas/Properties"},"uuid":{"type":"string","description":"unique object id","example":"e8ef8d6b-17bc-42f0-9367-4aae40c78ecb"},"flags":{"type":"array","items":{"type":"string"}}}},"VolumeGroupModify":{"type":"object","properties":{"override_props":{"$ref":"#/components/schemas/Properties"},"flags":{"type":"array","description":"To add a flag just specify the flag name, to remove a flag prepend it with a '-'.\n\nFlags:\n  * GROSS_SIZE\n","items":{"type":"string"}},"delete_props":{"type":"array","items":{"type":"string"}},"delete_namespaces":{"type":"array","items":{"type":"string"}}}},"AutoPlaceRequest":{"type":"object","required":["select_filter"],"properties":{"diskless_on_remaining":{"type":"boolean","default":false},"select_filter":{"$ref":"#/components/schemas/AutoSelectFilter"},"layer_list":{"type":"array","items":{"$ref":"#/components/schemas/LayerType"}}}},"AutoSelectFilter":{"type":"object","required":["place_count"],"properties":{"place_count":{"type":"integer","format":"int32"},"node_name_list":{"type":"array","items":{"type":"string"}},"storage_pool":{"type":"string"},"storage_pool_list":{"type":"array","default":null,"items":{"type":"string"}},"not_place_with_rsc":{"type":"array","default":null,"items":{"type":"string"}},"not_place_with_rsc_regex":{"type":"string"},"replicas_on_same":{"type":"array","default":null,"items":{"type":"string"}},"replicas_on_different":{"type":"array","default":null,"items":{"type":"string"}},"layer_stack":{"type":"array","default":null,"items":{"type":"string"}},"provider_list":{"type":"array","default":null,"items":{"type":"string"}},"diskless_on_remaining":{"type":"boolean"}}},"Candidate":{"type":"object","properties":{"storage_pool":{"type":"string","example":"DfltStorPool"},"max_volume_size_kib":{"type":"integer","format":"int64","description":"maximum size in KiB","example":3194880},"node_names":{"type":"array","items":{"type":"string"}},"all_thin":{"type":"boolean"}}},"MaxVolumeSizes":{"type":"object","properties":{"candidates":{"type":"array","items":{"$ref":"#/components/schemas/Candidate"}},"default_max_oversubscription_ratio":{"type":"number","format":"double"}}},"ControllerPropsModify":{"type":"object","properties":{"override_props":{"$ref":"#/components/schemas/Properties"},"delete_props":{"type":"array","items":{"type":"string"}},"delete_namespaces":{"type":"array","items":{"type":"string"}}}},"ControllerConfig":{"type":"object","properties":{"config":{"$ref":"#/components/schemas/ControllerConfigConfig"},"debug":{"$ref":"#/components/schemas/ControllerConfigDebug"},"log":{"$ref":"#/components/schemas/ControllerConfigLog"},"db":{"$ref":"#/components/schemas/ControllerConfigDb"},"http":{"$ref":"#/components/schemas/ControllerConfigHttp"},"https":{"$ref":"#/components/schemas/ControllerConfigHttps"},"ldap":{"$ref":"#/components/schemas/ControllerConfigLdap"}}},"ControllerConfigConfig":{"type":"object","properties":{"dir":{"type":"string"}}},"ControllerConfigDebug":{"type":"object","properties":{"console_enabled":{"type":"boolean"}}},"ControllerConfigLog":{"type":"object","properties":{"print_stack_trace":{"type":"boolean"},"directory":{"type":"string"},"level":{"$ref":"#/components/schemas/LogLevel"},"level_linstor":{"$ref":"#/components/schemas/LogLevel"},"rest_access_log_path":{"type":"string"},"rest_access_mode":{"type":"string","enum":["APPEND","ROTATE_HOURLY","ROTATE_DAILY","NO_LOG"]}}},"ControllerConfigDb":{"type":"object","properties":{"connection_url":{"type":"string"},"ca_certificate":{"type":"string"},"client_certificate":{"type":"string"},"in_memory":{"type":"string"},"version_check_disabled":{"type":"boolean"},"etcd":{"$ref":"#/components/schemas/ControllerConfigDbEtcd"}}},"ControllerConfigDbEtcd":{"type":"object","properties":{"operations_per_transaction":{"type":"integer","format":"int32"}}},"ControllerConfigHttp":{"type":"object","properties":{"enabled":{"type":"boolean"},"listen_address":{"type":"string"},"port":{"type":"integer","format":"int32"}}},"ControllerConfigHttps":{"type":"object","properties":{"enabled":{"type":"boolean"},"listen_address":{"type":"string"},"port":{"type":"integer","format":"int32"}}},"ControllerConfigLdap":{"type":"object","properties":{"enabled":{"type":"boolean"},"public_access_allowed":{"type":"boolean"},"uri":{"type":"string"},"dn":{"type":"string"},"search_base":{"type":"string"},"search_filter":{"type":"string"}}},"LogLevel":{"type":"string","enum":["ERROR","WARN","INFO","DEBUG","TRACE"]},"ControllerVersion":{"type":"object","properties":{"version":{"type":"string"},"git_hash":{"type":"string"},"build_time":{"type":"string"},"rest_api_version":{"type":"string"}}},"ErrorReport":{"type":"object","example":{"node_name":"Controller","error_time":1536827504594,"filename":"ErrorReport-5B9A15B7-00000-000000.log"},"required":["error_time"],"properties":{"node_name":{"type":"string"},"error_time":{"type":"integer","format":"int64"},"filename":{"type":"string","description":"Filename of the error report on the server.\n\nFormat is:\n```ErrorReport-{instanceid}-{nodeid}-{squencenumber}.log```\n"},"text":{"type":"string","description":"Contains the full text of the error report file."}}},"KeyValueStore":{"type":"object","properties":{"name":{"type":"string","description":"name of the key value store"},"props":{"$ref":"#/components/schemas/Properties"}}},"KeyValueStoreModify":{"type":"object","properties":{"override_props":{"$ref":"#/components/schemas/Properties"},"delete_props":{"type":"array","items":{"type":"string"}},"delete_namespaces":{"type":"array","items":{"type":"string"}}}},"ResourceConnection":{"type":"object","properties":{"node_a":{"type":"string","description":"source node of the connection"},"node_b":{"type":"string","description":"target node of the connection"},"props":{"$ref":"#/components/schemas/Properties"},"flags":{"type":"array","items":{"type":"string"}},"port":{"type":"integer"}}},"ResourceConnectionModify":{"type":"object","properties":{"override_props":{"$ref":"#/components/schemas/Properties"},"delete_props":{"type":"array","items":{"type":"string"}},"delete_namespaces":{"type":"array","items":{"type":"string"}}}},"Snapshot":{"type":"object","properties":{"name":{"type":"string"},"resource_name":{"type":"string"},"nodes":{"type":"array","items":{"type":"string"}},"props":{"$ref":"#/components/schemas/Properties"},"flags":{"type":"array","items":{"type":"string"}},"volume_definitions":{"type":"array","items":{"$ref":"#/components/schemas/SnapshotVolumeDefinition"}},"uuid":{"type":"string","description":"unique object id","example":"e8ef8d6b-17bc-42f0-9367-4aae40c78ecb"}}},"SnapshotVolumeDefinition":{"type":"object","properties":{"volume_number":{"type":"integer","format":"int32"},"size_kib":{"type":"integer","format":"int64","description":"Volume size in KiB"}}},"SnapshotRestore":{"type":"object","required":["to_resource"],"properties":{"to_resource":{"type":"string","description":"Resource where to restore the snapshot","example":"rsc2"},"nodes":{"type":"array","items":{"type":"string"},"description":"List of nodes where to place the restored snapshot"}}},"PassPhraseCreate":{"type":"object","properties":{"new_passphrase":{"type":"string"},"old_passphrase":{"type":"string"}}},"PassPhraseEnter":{"type":"string"},"StoragePoolDefinition":{"type":"object","properties":{"storage_pool_name":{"type":"string"},"props":{"$ref":"#/components/schemas/Properties"}}},"StoragePoolDefinitionModify":{"type":"object","properties":{"override_props":{"$ref":"#/components/schemas/Properties"},"delete_props":{"type":"array","items":{"type":"string"}},"delete_namespaces":{"type":"array","items":{"type":"string"}}}},"DrbdProxyEnable":{"type":"object","properties":{"port":{"type":"integer","format":"int32","description":"Proxy port to use (optional)"}}},"DrbdProxyModify":{"type":"object","properties":{"override_props":{"$ref":"#/components/schemas/Properties"},"delete_props":{"type":"array","items":{"type":"string"}},"compression_type":{"type":"string","description":"Compression type used by the proxy.\n","enum":["none","zlib","lzma","lz4"]},"compression_props":{"$ref":"#/components/schemas/Properties"}}},"PhysicalStorage":{"type":"object","properties":{"size":{"type":"integer","format":"int64"},"rotational":{"type":"boolean"},"nodes":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/PhysicalStorageDevice"}}}}},"PhysicalStorageDevice":{"type":"object","properties":{"device":{"type":"string"},"model":{"type":"string"},"serial":{"type":"string"},"wwn":{"type":"string"}}},"PhysicalStorageStoragePoolCreate":{"type":"object","description":"This structure is used for create physical-storage","properties":{"name":{"type":"string","description":"Name of the linstor storage pool"},"props":{"$ref":"#/components/schemas/Properties"}}},"PhysicalStorageCreate":{"type":"object","description":"If `with_storage_pool` is set a linstor storage pool will also be created using this device pool","required":["provider_kind","device_paths"],"properties":{"provider_kind":{"$ref":"#/components/schemas/ProviderKind"},"device_paths":{"type":"array","items":{"type":"string"}},"raid_level":{"type":"string","description":"RAID level to use for pool.\n","enum":["JBOD"],"default":"JBOD"},"pool_name":{"type":"string"},"vdo_enable":{"default":false,"type":"boolean"},"vdo_slab_size_kib":{"type":"integer","format":"uint64","default":0},"vdo_logical_size_kib":{"type":"integer","format":"uint64","default":0},"with_storage_pool":{"$ref":"#/components/schemas/PhysicalStorageStoragePoolCreate"}}}}}}