openapi: 3.0.0
info:
  version: "1.0"
  title: 'Traffic System'
  description: ''

# Added by API Auto Mocking Plugin
servers:
# Added by API Auto Mocking Plugin
# Added by API Auto Mocking Plugin
# Added by API Auto Mocking Plugin
 
# Added by API Auto Mocking Plugin
  # - description: SwaggerHub API Auto Mocking
  #   url: https://virtserver.swaggerhub.com/vutuananh39/traffic_system/1.0
# Added by API Auto Mocking Plugin
  # - description: SwaggerHub API Auto Mocking
  #   url: https://virtserver.swaggerhub.com/vutuananh39/traffic_system/1.0
# Added by API Auto Mocking Plugin
# Added by API Auto Mocking Plugin
  - description: SwaggerHub API Auto Mocking
    url: https://api.bktraffic.com
  - description: SwaggerHub API Auto Mocking
    url: http://localhost:8080
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/vutuananh39/traffic_system/1.0
  # - description: SwaggerHub API Auto Mocking
  #   url: https://virtserver.swaggerhub.com/vutuananh39/traffic_system/api
  # - description: SwaggerHub API Auto Mocking
  #   url: https://virtserver.swaggerhub.com/vutuananh/api

paths:

  /register:
    post:
      summary: Đăng ký tài khoản
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/RegisterRequest'
      responses:
          '200':
            description: Successful operator
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/LoginResponse'
                  
  /login:
    post:
      summary: Đăng nhập với tài khoản server
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SignInRequest'
      responses:
          '200':
            description: Successful operator
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/LoginResponse'
  
  /service-login:
    post:
      summary: Đăng nhập với google hoặc facebook.
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      responses:
          '200':
            description: Successful operator
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/LoginResponse'
                
  /my:
    get:
      summary: Lấy thông tin các nhân của tài khoản đang sử dụng.
      security:
        - BearerAuth: []
        
      responses:
        '200':
          description: Thông tin cá nhân người dùng
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '401':
          $ref: '#/components/responses/Unauthorized'
    patch:
      summary: Cập nhật thông tin cá nhân của tài khoản đang sử dụng.
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UpdateUser'
      responses:
        '200':
          description: Thông tin cá nhân người dùng
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '401':
          $ref: '#/components/responses/Unauthorized'
  /constants/{id}:
    get:
      summary: Get constant infor
      parameters:
        - in: path
          name: id
          schema:
            type: integer
            format: int32
          required: true
          description: constant id
      responses:
        '200':
          description: constant infor
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Constant'
  /traffic-reports:
    get:
      summary: Get các traffic report hiện tại dựa vào tọa độ(dành cho rating hiện tại).
      parameters:
        - in: query
          name: lat
          required: true
          description: Vĩ độ của vị trí hiện tại.
          schema:
            type: number
            format: double
            example: 10.81541
        - in: query
          name: lng
          required: true
          description: Kinh độ của vị trí hiện tại.
          schema:
            type: number
            format: double
          example: 106.643046
      responses:
        '200':
          description: Successful operation.
          content:
            application/json:
              schema: 
                type: array
                items:
                  $ref: '#/components/schemas/TrafficReportResponse'
  
  /traffic-reports/details/{id}:
    get:
      summary: Get thông tin chi tiết về traffic report
      parameters:
        - in: path
          name: id
          schema:
            type: integer
            format: int64
            example: 8
          required: true
          description: traffic report id
      responses:
          '200':
            description: Successful operation
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/DetailTrafficReportResponse'
  
  /traffic-reports/olds:
    get:
      summary: Get các traffic report quá khứ(dùng cho rating nguội).
      parameters:
        - in: query
          name: date
          required: true
          description: Thời gian (gọi hàm (new Date()).getTime())
          schema:
            type: number
            format: int64
          example: 1556117731625
        - in: query
          name: segmentId
          required: true
          schema:
            type: number
            format: int64
          example: 54973
      responses:
        '200':
          description: Successful operation.
          content:
            application/json:
              schema:
                type: array
                items: 
                  $ref: '#/components/schemas/TrafficReportResponse'
            
    # post:
    #   summary: Report a traffic condition
    #   security:
    #     - BearerAuth: []
    #   requestBody:
    #     required: true
    #     content:
    #       application/json:
    #         schema:
    #           $ref: '#/components/schemas/ReportRequest'
    #   responses:
    #       '200':
    #         description: Successful operation
    #         content:
    #           application/json:
    #             schema:
    #               $ref: '#/components/schemas/ReportResponse'
    #       '401':
    #         $ref: '#/components/responses/Unauthorized'
  
  /traffic-reports/move:
    post:
      summary: Post traffic report dành cho người report đang di chuyển trên đường.
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MoveTrafficReportRequest'
      responses:
          '200':
            description: Successful operation
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/TrafficReportResponse'
          '401':
            $ref: '#/components/responses/Unauthorized'
            
  /traffic-reports/remote:
    post:
      summary: Post traffic report dành cho người report từ xa.
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/RemoteTrafficReportRequest'
      responses:
          '200':
            description: Successful operation
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/TrafficReportResponse'
          '401':
            $ref: '#/components/responses/Unauthorized'
  
  # /noti-infos:
  #   post:
  #     summary: Post thông tin khi lần đầu sử dụng tính năng rating hiện tại. Từ đó giúp server có thông tin để push notification.
  #     security:
  #       - BearerAuth: []
  #     requestBody:
  #       required: true
  #       content:
  #         application/json:
  #           schema:
  #             $ref: '#/components/schemas/NotiInfoRequest'
  #     responses:
  #         '200':
  #           description: Successful operation
  #           content:
  #             application/json:
  #               schema:
  #                 $ref: '#/components/schemas/NotiInfoResponse'
  #         '401':
  #           $ref: '#/components/responses/Unauthorized'
  
  # /noti-infos/{id}:
  #   patch:
  #     summary: Update notification information
  #     security:
  #       - BearerAuth: []
  #     parameters:
  #       - in: path
  #         name: id
  #         example: 101
  #         schema:
  #           type: integer
  #           format: int64
  #         required: true
  #         description: my user id
      
  #     requestBody:
  #       required: true
  #       content:
  #         application/json:
  #           schema:
  #             $ref: '#/components/schemas/UpdateNotiInfoRequest'
  #     responses:
  #       '200':
  #         description: ""
  #         content:
  #           application/json:
  #             schema:
  #               $ref: '#/components/schemas/NotiInfoResponse'
  #       '401':
  #         $ref: '#/components/responses/Unauthorized'
  
  /evaluations:
    post:
      summary: Rating cho 1 traffic report.
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/EvaluationRequest'
      responses:
          '200':
            description: Successful operation
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/EvaluationResponse'
          '401':
            $ref: '#/components/responses/Unauthorized'
            
          
  /traffic-statuses:
    get:
      summary: Get các traffic status.
      parameters:
        - in: query
          name: lat
          description: latitude of center point in that area
          schema:
            type: number
            format: double
          example: 10.8863062
        - in: query
          name: lng
          description: longitude of center point in that area
          schema:
            type: number
            format: double
          example: 106.8183531
        - in: query
          name: zoom
          description: độ zoom của map.
          example: 18
          schema:
            type: integer
            format: int32
        - in: query
          name: date
          description: Ngày tạo của traffic status
          example: 1557625876650
          schema:
            type: integer
            format: int64
        - in: query
          name: segmentId
          description: Định danh của segment mà traffic status thể hiện.
          example: 77413
          schema:
            type: integer
            format: int64
          
        
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items: 
                  $ref: '#/components/schemas/TrafficStatusesResponse'
  
  # /frame-type:
  #   post:
  #     summary: Apply new period time when traffic conditions are updated
  #     description: Only for admin
  #     security:
  #       - BasicAuth: []
  #     requestBody:
  #       required: true
  #       content:
  #         application/json:
  #           schema:
  #             $ref: '#/components/schemas/FrameRequest'
  #     responses:
  #         '200':
  #           description: Successful operation
  #           content:
  #             application/json:
  #               schema:
  #                 $ref: '#/components/schemas/FrameResponse'
  #         '401':
  #           $ref: '#/components/responses/Unauthorized'
            
  /segments/find-near:
    get:
      summary: Tìm các segment gần vị trí query nhất.
      parameters:
        - in: query
          name: lat
          required: true
          description: Vĩ độ.
          schema:
            type: number
            format: int64
          example: 10.859179
        - in: query
          name: lng
          required: true
          description: Kinh độ.
          schema:
            type: number
            format: int64
          example: 106.789483
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SegmentResponse'
                  
  /segments/direct:
    get:
      summary: Tìm đường ngắn nhất theo địa lý hoặc thời gian
      parameters:
        - in: query
          name: slat
          required: true
          description: Vĩ độ điểm bắt đầu con đường.
          schema:
            type: number
            format: int64
          example: 10.831717
        - in: query
          name: slng
          required: true
          description: Kinh độ điểm bắt đầu con đường.
          schema:
            type: number
            format: int64
          example: 106.622377
        - in: query
          name: elat
          required: true
          description: Vĩ độ điểm kết thúc con đường.
          schema:
            type: number
            format: int64
          example: 10.828725
        - in: query
          name: elng
          required: true
          description: Kinh độ điểm kết thúc con đường.
          schema:
            type: number
            format: int64
          example: 106.618397 
          
        - in: query
          name: type
          required: true
          description: "Kiểu truy vấn. 1: tìm đường ngắn nhất theo khoảng cách, 2: tìm đường ngắn nhất theo thời gian"
          schema:
            type: number
            format: int32
          example: 2
      responses:
        '200':
          description: Danh sách các con đường đi, được sắp xếp theo từ tự độ ưu tiên giảm dần.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Direction'
          
  /segments/map:
    get:
      summary: Tìm các segment tương ứng với đoạn đường.
      parameters:
        - in: query
          name: slat
          required: true
          description: Vĩ độ điểm bắt đầu con đường.
          schema:
            type: number
            format: int64
          example: 10.792132
        - in: query
          name: slng
          required: true
          description: Kinh độ điểm bắt đầu con đường.
          schema:
            type: number
            format: int64
          example: 106.654793
        - in: query
          name: elat
          required: true
          description: Vĩ độ điểm kết thúc con đường.
          schema:
            type: number
            format: int64
          example: 10.790520
        - in: query
          name: elng
          required: true
          description: Kinh độ điểm kết thúc con đường.
          schema:
            type: number
            format: int64
          example: 106.657926 
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SegmentResponse'
                  
  /sources:
    post:
      summary: Tạo một nguồn cung traffic-status mới. (Username/password để truy cập api liên hệ admin)
      security:
        -  BasicAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Source'
      responses:
          '200':
            description: Successful operation
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Source'
          '401':
            $ref: '#/components/responses/Unauthorized'
                  
  /frame-types:
    post:
      summary: Tạo một frame mới( đổi chu kỳ tính toán). (Username/password để truy cập api liên hệ admin)
      security:
        -  BasicAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/FrameTypeRequest'
      responses:
          '200':
            description: Successful operation
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/FrameTypeResponse'
          '401':
            $ref: '#/components/responses/Unauthorized'
            ########################################
        
  
components:
  securitySchemes:
    BasicAuth:
      type: http
      scheme: basic
    BearerAuth:
      type: apiKey
      name: Authorization
      in: header
      # type: "apiKey"
      # # scheme: "bearer"
      # description: Apply to header
      # # name: "Authorization"
      # # name: Authorization
      # # in: "header"
      
  responses:
    NotFound:
      description: The specified resource was not found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    Unauthorized:
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
   
  schemas:
    RegisterRequest:
      type: object
      required:
        - username
        - password
      properties:
        username:
          type: string
          example: username1
        password:
          type: string
          example: q2134
        name:
          type: string
          example: nhat hong
        file:
          type: string
          format: binary
          description: Ảnh đại diện
        email:
          type: string
          example: email1@gmail.com
        phone:
          type: string
          example: 0984561234
    
    SignInRequest:
      type: object
      required:
        - username
        - password
      properties:
        username:
          type: string
          example: username1
        password:
          type: string
          example: q2134
    
    LoginRequest:
      type: object
      required:
        - userId
        - token
        - loginType
      properties:
        userId:
          type: string 
          description: "id của tài khoản facebook hay google. lấy được sau khi login qua face, google."
          example: "364821777462867"
        token:
          type: string
          description: "facebook là: access token, google là: id auth token."
          example: "EAAEj35ZAu1D8BAGhywwGTZCFH5DdjKD3TgeQsn7mYIGCsa2ty0dN9KR0GniaELwOOZBulnTZB2wrALpDsOpNZCZBWS9VGF2SZBh7cMoSXp7lmq3voID3KfMQ5Vd8Q7vFhpPdu1gKDlwzXYMZAUZAFiNCc7qCNKed3Nzoclalw5qBQanfNUfRoxqwb4hp381YjLDUN95N9eKrB1hYr33ODJs5wHlkvHXPLWCIZD"
        loginType:
          type: integer
          description: "google là 1, facebook là 2"
          example: 2
      
    LoginResponse:
      type: object
      required:
        - accessToken
      properties:
        accessToken:
          type: string
          example: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MTAxfQ.L7EQt3XCAhnxHjX8XBArHNp-CGJxUOfrllkdUf1F3u4"
        # name:
        #   type: string
        # avatar:
        #   type: string
        # start_time:
        #   type: string
        # reputation:
        #   type: number
    
    User:
      type: object
      required:
        - id
        - name
        - createdDate
        - reputation
      properties:
        id:
          type: integer
          format: int64
          example: 102
        name:
          type: string
          example: "Vu Tuan"
        avatar:
          type: string
          example: "https://lh6.googleusercontent.com/-VReWgCStffQ/AAAAAAAAAAI/AAAAAAAAAF8/aZYodE0pZGI/s96-c/photo.jpg"
        email:
          type: string
          example: cuocsong@gmail.com
        phone:
          type: string
          example: 0964567890
        createdDate:
          type: integer
          format: int64
          description: Ngày bắt đầu sử dụng ứng dụng.
          example: 1556117731625
        reputation:
          type: number
          format: float
          description: điểm danh tiếng.
          example: 0.3
        notiToken:
          type: string
          description: "Register token của device, dùng để push notification"
          example: "fa_18J30430:APA91bHNV6DET4uAq1KUHSOaN4b7FgCX3-1MaCggE-VKqBRcwVfgw72aPa2sbXG5S9-3Vi86ORAjNABFHQWcI_rzhiL0_vesqGIVy6387llLoMG_CZV_bNFWpEePw55Ij2itLYBq1UGw"
        currentLat: 
          type: number
          format: double
          description: "Vĩ độ vị trí hiện tại"
          example: 10.886415
        currentLng:
          type: number
          format: double
          description: "Kinh độ vị trí hiện tại"
          example: 106.818462
        notiAllow:
          type: integer
          format: int32
          description: "1: Cho phép push noti, 0: Không cho phép push noti"
          example: 1
    
    UserInfo:
      type: object
      required:
        - id
        - name
        - createdDate
        - reputation
      properties:
        id:
          type: integer
          format: int64
          example: 102
        name:
          type: string
          example: "Vu Tuan"
        avatar:
          type: string
          example: "https://lh6.googleusercontent.com/-VReWgCStffQ/AAAAAAAAAAI/AAAAAAAAAF8/aZYodE0pZGI/s96-c/photo.jpg"
        createdDate:
          type: integer
          format: int64
          description: Ngày bắt đầu sử dụng ứng dụng.
          example: 1556117731625
        reputation:
          type: number
          format: float
          description: điểm danh tiếng.
          example: 0.3
    
    UpdateUser:
      type: object
      properties:
        name:
          type: string
          example: "Ngoc Hoang"
        file:
          type: string
          format: binary
          description: "Ảnh đại diện"
        email:
          type: string
          example: cuocsong@gmail.com
        phone:
          type: string
          example: 0964567890
        notiToken:
          type: string
          description: "Register token của device, dùng để push notification"
          example: "fa_18J30430:APA91bHNV6DET4uAq1KUHSOaN4b7FgCX3-1MaCggE-VKqBRcwVfgw72aPa2sbXG5S9-3Vi86ORAjNABFHQWcI_rzhiL0_vesqGIVy6387llLoMG_CZV_bNFWpEePw55Ij2itLYBq1UGw"
        currentLat: 
          type: number
          format: double
          description: "Vĩ độ vị trí hiện tại"
          example: 10.886415
        currentLng:
          type: number
          format: double
          description: "Kinh độ vị trí hiện tại"
          example: 106.818462
        notiAllow:
          type: integer
          format: int32
          description: "1: Cho phép push noti, 0: Không cho phép push noti"
          example: 1
    Constant:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 1
        name: 
          type: string
          example: Tắc đường
        group:
          type: string
          example: traffic_report_cause
        
    
    # ReportRequest:
    #   type: object
    #   properties:
    #     start_coord:
    #         type: object
    #         description: Coordinate of road's beginning point 
    #         properties:
    #           lat:
    #             type: number
    #           lng:
    #             type: number
    #     end_coord:
    #         type: object
    #         description: Coordinate of road's ending point
    #         properties:
    #           lat:
    #             type: number
    #           lng:
    #             type: number
    #     velocity:
    #       type: integer
    #     description:
    #       type: string
    #     images:
    #       type: array
    #       items:
    #         type: string
    
    DetailTrafficReportResponse:
      type: object
      required:
        - id
        - velocity
        - createdDate
        - userId
        - name
        - userCreatedDate
        - reputation
        - segmentIds
        - segments
      properties:
        id:
          type: integer
          format: int64
          example: 515
        velocity:
          type: integer
          format: int32
          example: 13
        createdDate:
          type: integer
          format: int64
          example: 1556117731625
        description:
          type: string
          example: "Duong kha thong thoang"
        images:
          type: array
          items:
            type: string
        causeId:
          type: integer
          format: int32
          description: "Nguyên nhân, tham chiếu đến bảng constant để biết tên nguyên nhân, nên hardcode"
          example: 1
        userId:
          type: integer
          format: int64
          example: 49
        name:
          type: string
          example: "Ho Ngoc Ha"
        avatar:
          type: string
          example: "https://img.saobiz.net/d/2016/02/ho-ngoc-ha-blogtamsuvn1_01.jpg"
        userCreatedDate: 
          type: integer
          format: int64
          example: 1556117731625
        reputation:
          type: number
          example: 0.126
        segmentIds:
          type: array
          items:
            type: integer
            format: int64
            example: 1
        segments:
          type: array
          items:
            $ref: '#/components/schemas/SegmentResponse'
            
          
    TrafficReportResponse:
      type: object
      properties:
        id: 
          type: integer
          format: int64
          example: 1
        velocity:
          type: integer
          format: int32
          example: 20
        createdDate:
          type: integer
          format: int64
          example: 1556117731625
        description:
          type: string
          example: "Đường hơi ùn tắc"
        images:
          type: array
          items:
            type: string
            example: "https://media.laodong.vn/storage/newsportal/2017/12/19/582199/Un-Tac-Giao-Thong-90.jpg"
        segmentIds:
          type: array
          items:
            type: integer
            format: int64
            example: 1
        userId:
          type: integer
          format: int64
          example: 1
        user:
          $ref: '#/components/schemas/UserInfo'
        causeId: 
          type: integer
          format: int32
          example: 1
        centerPoint: 
          $ref: '#/components/schemas/Point'
            
       
    
    # NotiInfoRequest:
    #   type: object
    #   required:
    #     - token
    #     - lat
    #     - lng
    #   properties:
    #     token:
    #       type: string
    #       description: register token của device(cấu hình firebase cloud message sẽ lấy được thông tin này)
    #       example: "fa_18J30430:APA91bHNV6DET4uAq1KUHSOaN4b7FgCX3-1MaCggE-VKqBRcwVfgw72aPa2sbXG5S9-3Vi86ORAjNABFHQWcI_rzhiL0_vesqGIVy6387llLoMG_CZV_bNFWpEePw55Ij2itLYBq1UGw"
    #     lat: 
    #       type: number
    #       format: double
    #       description: vĩ độ vị trí hiện tại.
    #       example: 10.81541
    #     lng:
    #       type: number
    #       format: double
    #       description: hoành độ vị trí hiện tại.
    #       example: 106.643046
          
    # UpdateNotiInfoRequest:
    #   type: object
    #   properties:
    #     token:
    #       type: string
    #       description: register token của device(cấu hình firebase cloud message sẽ lấy được thông tin này)
    #       example: "fa_18J30430:APA91bHNV6DET4uAq1KUHSOaN4b7FgCX3-1MaCggE-VKqBRcwVfgw72aPa2sbXG5S9-3Vi86ORAjNABFHQWcI_rzhiL0_vesqGIVy6387llLoMG_CZV_bNFWpEePw55Ij2itLYBq1UGw"
    #     lat: 
    #       type: number
    #       format: double
    #       description: vĩ độ vị trí hiện tại.
    #       example: 10.81541
    #     lng:
    #       type: number
    #       format: double
    #       description: hoành độ vị trí hiện tại.
    #       example: 106.643046
    #     allow:
    #       type: integer
    #       format: int32
    #       description: "1: cho phép noti, 0: không cho phép noti."
    #       example: 1
          
    # NotiInfoResponse:
    #   type: object
    #   required:
    #     - userId
    #     - token
    #     - lat
    #     - lng
    #     - allow
    #   properties:
    #     userId:
    #       type: number
    #       format: double
    #       description: userId của mình.
    #       example: 101
    #     token:
    #       type: string
    #       description: register token của device.
    #       example: "fa_18J30430:APA91bHNV6DET4uAq1KUHSOaN4b7FgCX3-1MaCggE-VKqBRcwVfgw72aPa2sbXG5S9-3Vi86ORAjNABFHQWcI_rzhiL0_vesqGIVy6387llLoMG_CZV_bNFWpEePw55Ij2itLYBq1UGw"
    #     lat: 
    #       type: number
    #       format: double
    #       description: vĩ độ vị trí hiện tại.
    #       example: 10.81541
    #     lng:
    #       type: number
    #       format: double
    #       description: hoành độ vị trí hiện tại.
    #       example: 106.643046
    #     allow:
    #       type: integer
    #       format: int32
    #       description: "1: cho phép noti, 0: không cho phép noti."
    #       example: 1
    
    EvaluationRequest:
      type: object
      required:
        - score
        - reportId
      properties:
        reportId:
          type: integer
          format: int64
          description: Id của traffic report mà rating.
          example: 1
        score:
          type: number
          format: float
          description: Điểm đánh giá cho traffic report, score giá trị trong khoảng 0-1. 
          example: 0.5
      
    EvaluationResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          example: 3
        score: 
          type: number
          format: float
          example: 0.5
        userId:
          type: integer
          format: int64
          example: 24
        reportId:
          type: integer
          format: int64
          example: 1
          
          
    TrafficStatusesResponse:
      type: object
      properties:
        segmentId:
          type: integer
          format: int64
          example: 1
        velocity:
          type: integer
          format: int32
          example: 23
        color:
          type: string
          example: "#88FF00"
        polyline:
          $ref: '#/components/schemas/Polyline'
            
    MoveTrafficReportRequest:
      type: object
      required:
        - curLat
        - curLng
        - refLat
        - refLng
        - frontDistance
        - behindDistance
        - velocity
      properties:
        curLat:
          type: number
          format: double
          description: Vĩ độ của vị trí đang đứng gửi report.
          example: 10.882411
        curLng:
          type: number
          format: double
          description: Kinh độ của vị trí đang đứng gửi report.
          example: 106.815533
        refLat:
          type: number
          format: double
          description: Vĩ độ của 1 vị trí phía trước.
          example: 10.882137
        refLng:
          type: number
          format: double
          description: Kinh độ của 1 vị trí phía trước.
          example: 106.815308
        frontDistance:
          type: integer
          format: int32
          description: Khoảng cách phía trước.
          example: 300
        behindDistance:
          type: number
          format: int32
          description: Khoảng cách phía sau.
          example: 200
        velocity:
          type: integer
          format: int32
          description: Vận tốc.
          example: 20
        description:
          type: string
          description: Mô tả thêm.
          example: "Duong kha thong thoang"
        files:
          type: array
          items:
            type: string
            format: binary
          description: List các ảnh chụp tình trạng giao thông.
        causeId:
          type: integer
          format: int32
          example: 1556117731625
        
    RemoteTrafficReportRequest:
      type: object
      required:
        - startLat
        - startLng
        - endLat
        - endLng
        - velocity
      properties:
        startLat:
          type: number
          format: double
          description: Vĩ độ vị trí bắt đầu của report.
          example: 10.882706
        startLng:
          type: number
          format: double
          description: Kinh độ vị trí bắt đầu của report.
          example: 106.815705
        endLat:
          type: number
          format: double
          description: Vĩ độ vị trí kết thúc của report.
          example: 10.881052
        endLng:
          type: number
          format: double
          description: Kinh độ vị trí kết thúc của report.
          example:  106.814557
        velocity:
          type: integer
          format: int32
          description: Vận tốc.
          example: 16
        description:
          type: string
          description: Mô tả thêm.
          example: "duong rat dong xe"
        files:
          type: array
          items:
            type: string
            format: binary
          description: List các ảnh chụp tình trạng giao thông.
        causeId:
          type: integer
          format: int32
          example: 1
    
    Source:
      type: object
      required:
        - id
      properties:
        id:
          type: string
          example: "AB"
          description: "Định danh của nguồn, nên dùng tên viết tắt có ý nghĩa thể hiện tên nguồn."
        description:
          type: string
          description: Mô tả về nguồn này.
    
    FrameTypeRequest:
      type: object
      required:
        - interval
      properties:
        interval:
          type: integer
          format: int32
          example: 5
          description: "Chu kỳ tính toán, tính theo phút."
        description:
          type: string
          description: Mô tả thêm.
    
    FrameTypeResponse:
      type: object
      required:
        - id
        - interval
        - createdDate
      properties:
        id:
          type: integer
          format: int64
          example: 1
        interval:
          type: integer
          format: int32
          example: 5
          description: "Chu kỳ tính toán, tính theo phút."
        createdDate: 
          type: integer
          format: int64
          description: "Thời gian tạo."
        description:
          type: string
          description: Mô tả thêm.
        
    # FrameRequest:
    #   type: object
    #   properties:
    #     interval:
    #       type: integer
    #       example: 15
    #       description: Period time when traffic conditions are updated
    #     description:
    #       type: string
    #       description: Further description why to create this frame
          
    # FrameResponse:
    #   type: object
    #   properties:
    #     id:
    #       type: integer
    #       example: 1
    #     interval:
    #       type: integer
    #       example: 15
    #       description: Same as requested
    #     start_time:
    #       type: string
    #       example: 2019.11.28.15.12
    #       description: When the frame is applied
    #     description:
    #       type: string
    #       description: Same as requested
    # OldTrafficReportResponse:
    #   type: object
    #   properties:
    #     id:
    #       type: integer
    #       format: int64
    #       example: 515
    #     velocity:
    #       type: integer
    #       format: int32
    #       example: 13
    #     createdDate:
    #       type: integer
    #       format: int64
    #       example: 1556117731625
    #     description:
    #       type: string
    #       example: "Duong kha thong thoang"
    #     images:
    #       type: array
    #       items:
    #         type: string
    #     causeId:
    #       type: integer
    #       format: int32
    #       description: "Nguyên nhân, tham chiếu đến bảng constant để biết tên nguyên nhân, nên hardcode"
    #       example: 1
    #     userId:
    #       type: integer
    #       format: int64
    #       example: 49
    #     name:
    #       type: string
    #       example: "Ho Ngoc Ha"
    #     avatar:
    #       type: string
    #       example: "https://img.saobiz.net/d/2016/02/ho-ngoc-ha-blogtamsuvn1_01.jpg"
    #     userCreatedDate: 
    #       type: integer
    #       format: int64
    #       example: 1556117731625
    #     reputation:
    #       type: number
    #       example: 0.126
          
    Direction:
      type: object
      required:
        - distance
        - coords
      properties:
        distance:
          type: integer
          format: int64
          example: 1497 
          description: độ dài đoạn đường, đơn vị mét.
        coords:
          description: Danh sách các tọa độ tạo thành đoạn đường, danh sách này theo thứ tự từ đầu đoạn đường tới cuối đoạn đường.
          type: array
          required:
            - lat
            - lng
          items:
            type: object
            properties:
              lat:
                type: number
                format: double
                example: 10.8332849
              lng:
                type: number
                format: double
                example: 106.6212255
              
          
    SegmentResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          example: 33655
        streetId:
          type: integer
          format: int64
          example: 330532355
        length:
          type: integer
          format: int32
          example: 113
        polyline:
          $ref: '#/components/schemas/Polyline'
        
    Polyline:
      type: object
      properties:
        type:
          type: string
          example: "LineString"
        coordinates:
          type: array
          items:
            type: array
            items:
              type: number
              format: double
              example: 33.3
              
    Point:
      type: object
      properties:
        type:
          type: string
          example: "Point"
        coordinates:
          type: array
          items:
            type: number
            format: double
            description: Bao gồm vĩ độ(phần tử vị trí thứ 1 trong mảng) và kinh độ(phần tử vị trí thứ 0 trong mảng).
            example:
              - 106.643046
              - 10.81541
                    
          
    Error:
      type: object
      properties:
        code:
          type: string
        message:
          type: string
    

# tags:
#   - name: userInfo
#     description: Everything about your Pets
      
    
#   # /register:
  
#   # /login:
#   # /users:
#   # /report:
#   # /evaluate:
#   # /status:
#   # /frame: