openapi: 3.0.0
# Added by API Auto Mocking Plugin
servers:
  # Added by API Auto Mocking Plugin
# Added by API Auto Mocking Plugin
    - url: https://apiintegracion.ins-cr.com/v1
      description: Ambiente de integración
    - url: https://apiproduccion.ins-cr.com/v1
      description: Ambiente de producción
info:
  description: API de administración de pólizas del INS
  version: "1"
  title: API de administración de pólizas del INS.
  contact:
    email: api@ins-cr.com
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
 
tags: 
  - name: Emisión de pólizas
    description: Recursos asociados a la emisión de pólizas.
  - name: Endoso de pólizas
    description: Recursos asociados a los generación de endosos. Un endoso basicamente es una modificación de los datos de la póliza.
  - name: Consultas de pólizas
    description: Recursos asociados a consultas de distintos tipos de información sobre las pólizas
  
    
    
paths:
  "/polizas/emision/autoexpedibles":
    post:
      tags:
        - Emisión de pólizas
      summary: Realiza una emisión de una póliza autoexpedible.
      operationId: EmitirPolizaAutoexpedible
      description: Realiza una emisión de una póliza autoexpedible.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PolizaEmisionAutoexpedibleRequest'
        description: Datos del asegurado, tomador, beneficiarios, y demás con los que se realizará la emisión de la póliza autoexpedible.
        
      responses:
        '200':
          description: "Póliza emitida satisfactoriamente."
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PolizaEmisionAutoexpedibleResponse'
        '400':
          description: "Parámetros de entrada inválidos."
        '401':
          description: "Token ausente o inválido."
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/TokenInvalido"
        '405':
          description: "Método no permitido."
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/MetodoNoPermitido" 
        '500':
          description: "Error en el servidor."
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorInternoServidor" 
        '504':
            description: "Tiempo de espera agotado."
            content:
              application/problem+json:
                schema:
                  $ref: "#/components/schemas/TiempoEsperaAgotado"
      
  "/polizas/emision/riesgosdeltrabajo":
    post:
      tags:
        - Emisión de pólizas
      summary: Realiza una cotización/emisión de una póliza de riesgos del trabajo
      description: |
        Emite o Cotiza una poliza de Riesgos de Trabajo
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SolicitudPolizaRITR'
                  
      responses:
        '200':
          description: 'Procesado satisfactoriamente'
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/RespuestaEmisionPolizaRITR'
        "401":
          description: "Token ausente o inválido"
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/TokenInvalido"                
        "405":
          description: "Método no permitido"
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/MetodoNoPermitido" 
        "500":
          description: "Error en el servidor"
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorInternoServidor" 
        "504":
          description: "Tiempo de espera agotado"
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/TiempoEsperaAgotado"
                  
  "/polizas/endosos/cancelacion":
    post:
      tags:
        - Endoso de pólizas
      summary: Realiza la cancelación de una póliza.
      description: Realiza la cancelación de una póliza.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PolizaCancelacionRequest'
        description: "Datos para la cancelación de la póliza."
        
      responses:
        '200':
          description: "Póliza cancelada satisfactoriamente."
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PolizaCancelacionResponse'
        '400':
          description: "Parámetros de entrada inválidos."
        '401':
          description: "Token ausente o inválido."
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/TokenInvalido"
        '405':
          description: "Método no permitido."
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/MetodoNoPermitido" 
        '500':
          description: "Error en el servidor."
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorInternoServidor" 
        '504':
            description: "Tiempo de espera agotado."
            content:
              application/problem+json:
                schema:
                  $ref: "#/components/schemas/TiempoEsperaAgotado"                
      
  "/polizas/certificacion/riesgosdeltrabajo":
    get:
      tags:
        - Consultas de pólizas
      summary: Consulta de certificaciones de pólizas de riesgos del trabajo
      description: Consulta de certificaciones asociadas a polizas del seguro de riesgos del trabajo
      parameters:
        - in: query
          name: TipoProceso
          description: Codigo del Tipo de Proceso R para consultar certificaciones
          required: true
          schema:
            type: string
        - in: query
          name: NumeroPoliza
          description: Número de la póliza a consultar
          required: false
          schema:
            type: string
        - in: query
          name: NumeroCertificacion
          description: Número de la certificacion de la póliza a consultar
          required: false
          schema:
            type: string
      responses:
        "200":
          description: Procesado Satisfactoriamente
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaConsultaCertificacionesPolizaRITR"
        "401":
          description: "Token ausente o inválido"
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/TokenInvalido"
        "405":
          description: "Método no permitido"
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/MetodoNoPermitido" 
        "500":
          description: "Error en el servidor"
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorInternoServidor" 
        "504":
          description: "Tiempo de espera agotado"
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/TiempoEsperaAgotado"
      
  "/polizas/consultas/riesgosdeltrabajo":
    get:
      tags:
        - Consultas de pólizas
      summary: Consulta de pólizas de riesgos del Trabajo
      description: Consulta de Polizas de riesgos de trabajo por identificación del cliente o número de póliza.
      parameters:
        - in: query
          name: TipoProceso
          description: Codigo del Tipo de Proceso K para consultar
          required: true
          schema:
            type: string
        - in: query
          name: FechaDesde
          description: Fecha de referncia para la vigencia de las Pólizas a consultar (AAAAMMDD)
          required: true
          schema:
            type: string
        - in: query
          name: NumeroPoliza
          description: Número de la póliza a consultar
          required: false
          schema:
            type: string
        - in: query
          name: CodigoTipoIdentificacion
          description: Código del tipo de Identificacion del Cliente de la Póliza
          required: false
          schema:
            type: string
        - in: query
          name: Identificacion
          description: Número de Identificacion del Cliente de la Póliza
          required: false
          schema:
            type: string            
      responses:
        "200":
          description: Procesado Satisfactoriamente
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RespuestaConsultaPolizaRITR"
        "401":
          description: "Token ausente o inválido"
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/TokenInvalido"
        "405":
          description: "Método no permitido"
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/MetodoNoPermitido" 
        "500":
          description: "Error en el servidor"
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorInternoServidor" 
        "504":
          description: "Tiempo de espera agotado"
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/TiempoEsperaAgotado"
                
  /polizas/consultas/automoviles{NumeroPoliza}:
    get:
      tags:
        - Consultas de pólizas
      summary: Realiza la consulta de una poliza. 
      description: Consulta de Polizas de riesgos de trabajo por identificación del cliente o número de póliza.
      parameters:
        - name: NumeroPoliza
          in: path
          description: Número de póliza de la que se desea consultar el detalle de la misma.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Procesado Satisfactoriamente
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConsultaPolizasDetalleAutomovilesResponse"
        "401":
          description: "Token ausente o inválido"
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/TokenInvalido"
        "405":
          description: "Método no permitido"
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/MetodoNoPermitido" 
        "500":
          description: "Error en el servidor"
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorInternoServidor" 
        "504":
          description: "Tiempo de espera agotado"
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/TiempoEsperaAgotado"                
                
  "/polizas/consultas/automoviles":
    post:
      tags:
        - Consultas de pólizas
      summary: Realiza la consulta de una poliza.
      description: Consulta básica de pólizas para una determinada tipo y número de cedula, placa, nombre, numero de motor, numero de chasis ó número de poliza.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConsultaPolizasAutomovilesRequest'
        description: "Datos para la consulta de póliza."
        
      responses:
        '200':
          description: "Póliza cancelada satisfactoriamente."
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConsultaPolizasBasicaAutomovilesResponse'
        '400':
          description: "Parámetros de entrada inválidos."
        '401':
          description: "Token ausente o inválido."
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/TokenInvalido"
        '405':
          description: "Método no permitido."
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/MetodoNoPermitido" 
        '500':
          description: "Error en el servidor."
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorInternoServidor" 
        '504':
            description: "Tiempo de espera agotado."
            content:
              application/problem+json:
                schema:
                  $ref: "#/components/schemas/TiempoEsperaAgotado"
      
components:
     
  schemas:
    PolizaEmisionAutoexpedibleRequest:
      type: object
      required: 
        - Intermediarios
      properties:
        Credenciales:
          $ref: '#/components/schemas/Credenciales'
        ContratoBasico:
          $ref: '#/components/schemas/ContratoBasico'
        Clientes:
          $ref: '#/components/schemas/Clientes'  
        Intermediarios:
          $ref: '#/components/schemas/Intermediarios'
        Comentarios:
          $ref: '#/components/schemas/Comentarios'
        Riesgos:
          $ref: '#/components/schemas/Riesgos'  
    
    PolizaCancelacionRequest:
      type: object
      required: 
        - InfoEndoso
      properties:
        Credenciales:
          $ref: '#/components/schemas/Credenciales'
        InfoEndoso:
          $ref: '#/components/schemas/InfoEndoso'
    
    PolizaCancelacionResponse:
      type: object
      required:
        - CodigoEstadoTransacion
        - Descripcion
      properties:
        CodigoEstadoTransacion:
          type: string
          description: Código del estado de la transacción.
          example: P
        Descripcion:
          type: string
          description: Detalle de la transacción o error.
          example: 'Procesado Satisfactoriamente.'

    InfoEndoso:
      type: object
      description: Datos asociados al contrato básico.
      required:
        - FechaEndoso
        - Descripcion
        - NumeroPoliza
      properties:
        FechaEndoso:
          type: string
          description: Fecha de la cancelación.
          example: '2019-09-13T00:00:00'
        Descripcion:
          type: string
          description: Descripción de la razón de cancelación.
          example: Se cancela a solicitud del cliente…
        CodigoRazonCancelacion:
          type: string
          description: Código de la razón de cancelación de la póliza. Aplica únicamente para endosos de cancelación.
          example: 1
        NumeroPoliza:
          type: string
          description: Número de la póliza a la que se desea realizar el endoso.
          example: 0102AUT010983
    
    Credenciales:
      type: object
      description: Datos asociados a los credenciales.
      required:
        - SistemaCliente
      properties:
        Usuario:
          type: string
          description: Usuario que ejecuta la emisión de la póliza.
          example: "AVILLALOBOSD"
        SistemaCliente:
          type: string
          description: Sistema que invoca al servicio de emisión de la póliza.
          example: "SIABC"      
    
    ContratoBasico:
      type: object
      description: Datos asociados al contrato básico.
      required:
        - NumeroPoliza
        - CodigoFormaPago
        - CodigoIntermediario
        - CodigoMoneda
        - CodigoEstadoPoliza
        - CodigoProducto
        - CodigoRamo
        - CodigoSede
        - CodigoTipoFacturacion
        - FactorExperiencia
        - CodigoEstadoProvinciaDepartamento
        - FechaDesde
      properties:
        NumeroPoliza:
          type: string
          description: Número de la póliza creada en el transaccional.
          example: '0102ACI0109839'
        CodigoFormaPago:
          type: string
          description: Código de la forma o plan de pago de la póliza.
          example: A = Anual
        CodigoIntermediario:
          type: string
          description: Código del intermediario titular de la póliza.
          example: '5500600'
        CodigoMoneda:
          type: string
          description: Corresponde a la moneda de la prima.
          example: 01 para colones y 02 para dólares 
        CodigoEstadoPoliza:
          type: string
          description: Código del estado de la póliza.
          example: P = Pendiente
        CodigoProducto:
          type: string
          description: Código del producto.
          example: '26E (para estudiantil)'
        CodigoRamo:
          type: string
          description: Código del Ramo, equivale a la línea del seguro, en Point General.
          example: '026'
        CodigoSede:
          type: string
          description: Código de la Sede u oficina del INS donde se emite la póliza.
          example: CHUBB = 25 
        CodigoTipoFacturacion:
          type: string
          description: Código del tipo de facturación de la póliza. Se envía PR para estudiantil.
          example: PR
        FactorExperiencia:
          type: number
          description: Corresponde al porcentaje de siniestralidad, se obtiene de los datos del cliente y no es modificable. Se usa para el cálculo de la prima, ya sea para obtener un descuento o un recargo.
          example: 0
        CodigoEstadoProvinciaDepartamento:
          type: string
          description: Código del Estado/Provincia/Departamento. Por defecto se envía 00.
          example:  '00' 
        FechaDesde:
          type: string
          description: Fecha desde de la vigencia de la póliza.
          example:  '2019-09-13T00:00:00'   
        FechaHasta:
          type: string
          description: Fecha hasta la vigencia de la póliza.
          example:  '2019-09-13T00:00:00'  
        CodigoContrato:
          type: string
          description: Código de contrato
          example: 'AUCOL0000015603'
        CodigoTipoContrato:
          type: string
          description: Código del tipo de contrato
          example: 'COL'
          
    Clientes:
      type: object
      description: Datos asociados al cliente/asegurado.
      required: 
        - Cliente
      properties:
        Cliente:
          type: array
          items: 
            type: object
            required:
              - Identificacion
              - CodigoTipoIdentificacion
              - Exonerado
              - PriApellido
              - PriNombre
              - NombreCompleto
              - FechaNacimiento
              - CodSexo
              - CodEstadoCivil
              - TipoPersona
              - Direccion
            properties: 
              Identificacion: 
                type: string
                description: Número de identificación del cliente tomador.
                example: 112290088 (Cédula física nacional)
              CodigoTipoIdentificacion: 
                type: integer
                description: Código del Tipo de identificación del cliente.
                example: 0
              Exonerado: 
                type: boolean 
                description: Indica si el cliente esta exonerado o no, este se encuentra en los datos del cliente en el CRM.
                example: true | false
              PriApellido: 
                type: string 
                description: Indica el primer apellido del cliente.
                example: Fallas
              SegApellido: 
                type: string 
                description: Indica el segundo apellido del cliente.
                example: Arias
              PriNombre: 
                type: string 
                description: Indica el primer nombre del cliente.
                example: Juan
              SegNombre: 
                type: string 
                description: Indica el segundo nombre del cliente.
                example: José
              NombreCompleto: 
                type: string 
                description: Indica el nombre completo del cliente.
                example: Fallas Arias Juan José
              FechaNacimiento: 
                type: string 
                description: Indica la fecha de nacimiento del cliente.
                example: '2019-09-13T00:00:00'
              CodSexo: 
                type: string 
                description: Indica el código de sexo del cliente.
                example: F para femenino y M para masculino
              CodEstadoCivil: 
                type: string 
                description: Indica el código del estado civil del cliente.
                example: 2  
              TipoPersona: 
                type: string 
                description: Representa el Tipo de Persona en la Póliza.
                example: 01 = Tomador, 02 = Asegurado, 03 = Beneficiario
              Parentesco: 
                type: string 
                description: Representa el parentesco de la Persona en la Póliza.
                example: 020 = Conyuge, 030 = Hijos, 040 = Madre, 050 = Padre, 060 = Hermanos, 999 = Otros
              Porcentaje: 
                type: string 
                description: Representa el porcentaje de parentesco de la persona en la Póliza.
                example: Entre 1 y 100
              Direccion:
                type: object
                required:
                  - Correo
                  - NumTelefCel
                properties: 
                  CodPais: 
                    type: string
                    description: Representa el código del país.
                    example: CRC
                  CodProvincia: 
                    type: string
                    description: Representa el código de la provincia.
                    example: '01'  
                  CodCanton: 
                    type: string
                    description: Representa el código del cantón.
                    example: '01'
                  CodDistrito: 
                    type: string
                    description: Representa el código del distrito.
                    example: '01'
                  DirCompleta: 
                    type: string
                    description: Representa la dirección completa del cliente.
                    example: '200 Sur de la Contraloría'
                  Correo: 
                    type: string
                    description: Representa la dirección de correo electrónico del cliente.
                    example: 'test@ins-cr.com'  
                  NumTelefCel: 
                    type: string
                    description: Representa el número de teléfono celular del cliente.
                    example: '86907856'
                  NumTelefRes: 
                    type: string
                    description: Representa el número de teléfono residencial del cliente.
                    example: '22876000'
    Intermediarios:
      type: object
      description: Datos asociados al intermediario que participa en la póliza.
      required:
        - Intermediario 
      properties:
        Intermediario:
          type: array
          items: 
            type: object
            required:
              - CodigoIntermediario
              - Porcentaje
            properties: 
              CodigoIntermediario: 
                type: string
                description: Representa el código de intermediario que participa en la póliza.
                example: '5500600'
              Porcentaje: 
                type: number
                description: Representa el porcentaje de participación que tiene el intermediario en la póliza.
                example: '100'
    Comentarios:
      type: object
      description: Lista de comentarios asociados a la póliza.
      required:
        - Comentario
      properties:
        Comentario:
          type: array
          items: 
            type: object
            required:
              - TextoComentario
              - Fecha
              - Usuario
              - CodigoTipoComentario
            properties: 
              TextoComentario: 
                type: string
                description: Comentarios varios.
                example: Se menciona que...
              Fecha: 
                type: string
                description: Fecha del día en que se ingresa el comentario.
                example: '2019-09-13T00:00:00'                        
              Usuario: 
                type: string
                description: Sistema que ingresa el comentario.
                example: chubb        
              CodigoTipoComentario: 
                type: string
                description: Código del tipo de comentario.
                example: '01'
    Riesgos:
      type: object
      description: Lista de riesgos asociados a la póliza.
      required:
        - Riesgo
      properties:
        Riesgo:
          type: array
          description: Información del Riesgo. Se debe enviar al menos uno.
          items: 
            type: object
            properties: 
              RiesgoGenerico: 
                type: array
                description: Información de riesgo exclusivo para pólizas genéricas.
                items:
                  type: object
                  properties:
                    CodigoActividad: 
                      type: string
                      description: Actividad particular del bien u ocupación.
                      example: '0000'
                    CodigoClaseRiesgo: 
                      type: string
                      description: Código de la Clase de riesgo, depende de la actividad.
                      example: '0000'  
                    DescripcionRiesgo: 
                      type: string
                      description: Descripción de las características del riesgo a asegurar.
                      example: RC Servicios
                    CodigoProvincia: 
                      type: string
                      description: Código de la Provincia donde se encuentra el bien a asegurar.
                      example: '01'
                    CodigoCanton: 
                      type: string
                      description: Código del  Cantón donde se encuentra el bien a asegurar.
                      example: '0101' 
                    CodigoDistrito: 
                      type: string
                      description: Código del Distrito donde se encuentra el bien a asegurar.
                      example: '0101001'
                    Observaciones: 
                      type: string
                      description: Observaciones del riesgo. Corresponde a las notas.
                      example: Centro educativo Kids, '250' Sur Epa Currridabat.  
                    Identificacion: 
                      type: string
                      description: Número de identificación del cliente tomador.
                      example: 112290088 (Cédula física nacional)
                    CodigoTipoIdentificacion: 
                      type: integer
                      description: Código del Tipo de identificación del cliente.
                      example: 0
                    Coberturas:
                      type: object
                      description: Lista de coberturas asociadas al rubro. No dependen del rubro.
                      required:
                        - Cobertura
                      properties:
                        Cobertura: 
                          type: array
                          description: Información de la cobertura relacionada al rubro. Se debe enviar al menos uno.
                          items:
                            type: object
                            required:
                              - CodigoCobertura
                              - CodigoTipoTarifa 
                              - MontoAsegurado
                            properties:
                              CodigoCobertura: 
                                type: string
                                description: Código de la cobertura.
                                example: Estudiantes = '26A', '26B' o '26D'  
                              CodigoTipoTarifa: 
                                type: string
                                description: Código del tipo de tarifa asociada a la cobertura.
                                example: Estudientes = '0010' ('₡500.000'), '0020' ('₡1.000.000'), '0030' ('₡2.000.000'), '0040' ('₡2.500.000')
                              MontoAsegurado: 
                                type: number
                                description: Monto asegurado de la cobertura.
                                example: Estudiantes = '500.000,00'   
    PolizaEmisionAutoexpedibleResponse:
      type: object
      required:
        - CodigoEstadoTransacion
        - Descripcion
      properties:
        CodigoEstadoTransaccion:
          type: string
          description: Código del estado de la transacción.
          example: P
        Descripcion:
          type: string
          description: Detalle de la transacción.
          example: 'Procesado Satisfactoriamente.'
    
    RespuestaConsultaCertificacionesPolizaRITR:
      type: object
      required:
        - mensaje
      properties:
        DesMenseje:
          type: string
          example: 'Procesado satisfactoriamente'
          description: 'Mensaje de respuesta amigable para el usuario'
        DatosPoliza:
          $ref: '#/components/schemas/DatosCertificacionPoliza'
          
    DatosCertificacionPoliza:
      type: array
      items:
        type: object
        description: "Datos básicos de la póliza consultada"
        required:
        - CodigoTipoIdentificacion
        - Identificacion
        - NombreCompleto
        - NumeroPoliza
        - CodigoActividadEconomica
        - DescripcionActividadEconomica
        - CodigoProvincia
        - CodigoCanton
        - CodigoDistrito
        - LugarProyecto
        - NumeroRecibo
        - CodigoClaseRecibo
        - DescripcionClaseRecibo
        - FechaInicio
        - FechaVencimiento
        - FechaPago
        - CodigoEstadoPoliza
        - DescripcionEstadoPoliza
        - NumeroCertificacion
        - FechaEmisionCertificacion
        - NombreFuncionario
        - SedeEmision
        - NumeroBoletaMunicipal
        - NumeroPermisoMunicipal
        - MontoManoObra
        - DireccionObra
        - NombreProyecto
        - FechaDesde
        - FechaHasta
        - MontoAsumido
        - ManoObraDeclarada
        - MontoSubContratos
        properties:
          CodigoTipoIdentificacion:
            type: string
            example: '0'
            description: 'Código del tipo de Identificacion del Cliente de la Póliza'
          Identificacion:
            type: string
            example: '701110111'
            description: 'Número de Identificacion del Cliente de la Póliza'
          NombreCompleto:
            type: string
            example: 'Hidalgo Perez Rubilio'
            description: 'Nombre completo del Cliente de la Póliza'
          NumeroPoliza:
            type: integer
            example: '8888888'
            description: 'Número de la póliza a consultar'
          CodigoActividadEconomica:
            type: string
            example: 'F'
            description: 'Código de la Actividad Economica a la que pertenece la Póliza'  
          DescripcionActividadEconomica:
            type: string
            example: 'F'
            description: 'Descripcion de la Actividad Economica a la que pertenece la Póliza' 
          CodigoProvincia:
            type: integer
            example: 7
            description: 'Provincia del lugar en donde se encuentra la empresa'
          CodigoCanton:
            type: string
            example: "002"
            description: 'Canton del lugar en donde se encuentra la empresa'
          CodigoDistrito:
            type: string
            example: "002"
            description: 'Distrito del lugar en donde se encuentra la empresa'  
          LugarProyecto:
            type: string
            example: 'Frente al Parque España'
            description: 'Direccion Exacta del lugar en donde se encuentra la empresa'
          NumeroRecibo:
            type: string
            description: 'Número del Recibo'
            example: '201503D021238'
          CodigoClaseRecibo:
            type: string
            description: 'Código de la Clase del Recibo'
            example: '01'          
          DescripcionClaseRecibo:
            type: string
            description: 'Descripcion de la Clase del Recibo'
            example: 'RENOVACION'      
          FechaInicio:
            type: string
            example: '20151201'
            description: 'Fecha de inicio de la vigencia del recibo de la Póliza a consultar (AAAAMMDD)'
          FechaVencimiento:
            type: string
            example: '20151201'
            description: 'Fecha de vencimiento de la vigencia del recibo de la Póliza a consultar (AAAAMMDD)'
          FechaPago:
            type: string
            example: '20151201'
            description: 'Fecha de pago del recibo de la Póliza a consultar (AAAAMMDD)'
          CodigoEstadoPoliza:
            type: string
            example: '1'
            description: 'Código del estado de la Póliza a consultar'          
          DescripcionEstadoPoliza:
            type: string
            example: 'Vigente'
            description: 'Descripcion del estado de la Póliza a consultar'     
          NumeroCertificacion:
            type: string
            example: '345594'
            description: 'Numero de la certificacion encontrada'
          FechaEmisionCertificacion:
            type: string
            example: '20151207'
            description: 'Fecha en que se emitio la certificacion de la Póliza a consultar (AAAAMMDD)' 
          NombreFuncionario:
            type: string
            example: 'CD0OCC6090'
            description: 'Funcionario que emitio la certificacion'     
          SedeEmision:
            type: string
            example: '00'
            description: 'Sede que emitio la certificacion'     
          NumeroBoletaMunicipal:
            type: string
            example: '0723-75100'
            description: 'Numero de la boleta municipal'     
          NumeroPermisoMunicipal:
            type: string
            example: '0723-75100'
            description: 'Número del permiso municipal'     
          MontoManoObra:
            type: integer
            example: 19445000
            description: 'Monto de mano de obra de la Obra'     
          DireccionObra:
            type: string
            example: 'ESCUELA MANUEL DEL PILAR ZUMBADO'
            description: 'Direccion de la Obra'     
          NombreProyecto:
            type: string
            example: 'Vigente'
            description: 'Descripcion del estado de la Póliza a consultar'     
          FechaDesde:
            type: string
            example: '20151214'
            description: 'Fecha de inicio del proyecto (AAAAMMDD)' 
          FechaHasta:
            type: string
            example: '20160113'
            description: 'Fecha de final del proyecto (AAAAMMDD)'   
          MontoAsumido:
            type: string
            example: 19445000
            description: 'Monto asumido de mano de obra'     
          ManoObraDeclarada:
            type: string
            example: 7972450
            description: 'Mano de Obra declarada por el asegurado'     
          MontoSubContratos:
            type: string
            example: 0
            description: 'Monto comprometido en subcontratos'     
          NumeroProyecto:
            type: string
            example: '0723-75100'
            description: 'Numero del Proyecto de la construccion'     
          CodigoTipoIdProyecto:
            type: string
            example: 3
            description: 'Código del tipo de Proyecto de la construccion'  
            
    ConsultaPolizasAutomovilesRequest:
      type: object
      required: 
        - InfoConsultaGeneral
        - FechaPerdida
      properties:
        CodigoTipoIdentificacion:
          type: string
          example: '0'
          description: 'Código del tipo de Identificacion del Cliente de la Póliza'
        Identificacion:
          type: string
          example: '701110111'
          description: 'Número de Identificacion del Cliente de la Póliza'    
        NumeroPlaca1:
          type: string
          example: 'CL-C-PAR-EE-MOT'
          description: 'Primer segmento del número de placa a consultar' 
        NumeroPlaca2:
          type: string
          example: '00'
          description: 'Segundo segmento del número de placa a consultar' 
        NumeroPlaca3:
          type: string
          example: 'TTT678'
          description: 'Tercer segmento del número de placa a consultar' 
        NumeroPoliza:
          type: string
          example: '0101AUT000000100'
          description: 'Número de poliza del Cliente' 
        NumeroMotor:
          type: string
          example: '1KD2323602'
          description: 'Número de motor del vehículo del Cliente' 
        NumeroChasis:
          type: string
          example: 'JTEBH9FJ105060762'
          description: 'Número de chasis del vehículo del Cliente' 
        Nombre:
          type: string
          example: 'PEREZ PEREZ PEDRO'
          description: 'Nombre del Cliente de la Póliza con formato: (Apellido1-Apellido2-Nombre1-Nombre2)' 
        FechaPerdida:
          type: string
          example: '2020-03-17T00:00:00'
          description: 'Fecha en la que esta pasando el siniestro de la póliza' 
          
    ConsultaPolizasBasicaAutomovilesResponse:
      type: object
      required:
        - CodigoEstadoTransacion
        - Descripcion
      properties:
        CodigoEstadoTransaccion:
          type: string
          description: Código del estado de la transacción.
          example: P
        Descripcion:
          type: string
          description: Detalle de la transacción.
          example: 'Procesado Satisfactoriamente.'
        Poliza:
          $ref: '#/components/schemas/PolizaBasica'  
          
    PolizaBasica:
      type: array
      items:
        type: object
        description: "Datos básicos de la póliza consultada"
        required:
        - NumeroPoliza
        - NumeroPlaca
        - CedulaTomador
        - NombreTomador
        - VigenciaDesde
        - VigenciaHasta
        - EstadoPoliza
        - FechaCancelacion
        - MarcaVehiculo
        - ModeloVehiculo
        - AnnoVehiculo
        - LineaSeguro
        - Producto
        - NumeroMotor
        - NumeroChasis
        - Color
        - IndRepuesto
        properties:
          NumeroPoliza:
            type: string
            example: '0101AUT0000000100'
            description: 'Número completo de la póliza del vehículo.'
          NumeroPlaca:
            type: string
            example: 'PAR00BFJ715'
            description: 'Número de placa del vehículo consultado.'
          CedulaTomador:
            type: string
            example: '3101286181'
            description: 'Numero de cédula del tomador de la póliza consultada'   
          NombreTomador:
            type: string
            example: 'ARRENDADORA CAFSA S A'
            description: 'Nombre completo del tomador de la póliza consultada' 
          VigenciaDesde:
            type: string
            example: '2020-03-17T00:00:00'
            description: 'Vigencia desde de la póliza consultada'      
          VigenciaHasta:
            type: string
            example: '2020-03-17T00:00:00'
            description: 'Vigencia hasta de la póliza consultada'   
          EstadoPoliza:
            type: string
            example: 'Cancelada'
            description: 'Estado de la póliza consultada'   
          FechaCancelacion:
            type: string
            example: '2020-03-17T00:00:00'
            description: 'Fecha de cancelacion de la póliza consultada'   
          MarcaVehiculo:
            type: string
            example: 'TOYOTA'
            description: 'Marca del vehículo de la póliza consultada'         
          ModeloVehiculo:
            type: string
            example: 'LAND CRUISER'
            description: 'Modelo del vehículo de la póliza consultada'         
          AnnoVehiculo:
            type: string
            example: '2014'
            description: 'Año del vehículo de la póliza consultada'         
          LineaSeguro:
            type: string
            example: 'Automóviles Tradicional'
            description: 'Linea del seguro de la póliza consultada'         
          Producto:
            type: string
            example: 'Crediauto'
            description: 'Producto de la póliza consultada'         
          NumeroMotor:
            type: string
            example: '1KD2323602'
            description: 'Número de motor del vehículo  de la póliza consultada'         
          NumeroChasis:
            type: string
            example: 'JTEBH9FJ105060762'
            description: 'Número de chasis del vehículo de la póliza consultada'      
          Color:
            type: string
            example: 'SILVER METALIC'
            description: 'Color del vehículo de la póliza consultada'     
          IndRepuesto:
            type: string
            example: 'N'
            description: 'Indicador de repuestos de la póliza consultada'                 
            
    ConsultaPolizasDetalleAutomovilesResponse:
      type: object
      required:
        - CodigoEstadoTransacion
        - Descripcion
      properties:
        CodigoEstadoTransaccion:
          type: string
          description: Código del estado de la transacción.
          example: P
        Descripcion:
          type: string
          description: Detalle de la transacción.
          example: 'Procesado Satisfactoriamente.'
        DeudaPendiente:
          type: string
          description: Monto que a deuda de la pòliza.
          example: '0.00'
        Coberturas:
          type: string
          description: Coberturas que posee la pòliza consultada.
          example: '17A-R. C. Lesion o Muerte Terceros,17C-R. C. Da/os Propiedad Terceros'          
    
    ErrorInternoServidor:
      type: object
      required:
        - type
        - title
      properties:
        type:
          type: integer
          example: "http://www.api.ins-cr.com/documentacion/problemas/ErrorInternoServidor"
        title:
          type: string
          example: "Ocurrió un error al procesar la solicitud."
    
    TiempoEsperaAgotado:
      type: object
      required:
        - type
        - title
      properties:
        type:
          type: integer
          example: "http://www.api.ins-cr.com/documentacion/problemas/tiempoesperaagotado"
        title:
          type: string
          example: "Tiempo de espera agotado."
        detail:
          type: string
          example: "El proveedor del servicio no respondió en el tiempo de espera establecido."
  
    MetodoNoPermitido:
      type: object
      required:
        - type
      properties:
        type:
          type: string
          example: "http://www.api.ins-cr.com/documentacion/problemas/metodonopermitido"
        title:
          type: string
          example: "Metodo no permitido"
        detail:
          type: string
          example: "El método GET no está permitodo"
    
    TokenInvalido:
      type: object
      required:
        - type
      properties:
        type:
          type: string
          example: "http://www.api.ins-cr.com/documentacion/problemas/tokeninvalido"
        title:
          type: string
          example: "Token ausente o inválido"
        detail:
          type: string
          example: "No se recibió un token de seguridad o este es inválido"
    
    SolicitudPolizaRITR:
      type: object
      required: 
        - TipoProceso
        - LugarProyecto
        - CodigoProvincia
        - CodigoCanton
        - CodigoDistrito
        - CodigoFormaPago
        - IdComercial
        - PagaSalario
        - CodigoAgente
        - CodigoAgencia
        - Cobertura24H
        - AgentePorcentaje
        - CodigoTipoPoliza
        - FechaDesde
        - FechaHasta
        - CodigoActividadEconomica
        - CodigoActividadEspecifica
        - Planilla
      properties:
        Credenciales:
          $ref: '#/components/schemas/Credenciales'
        TipoProceso:
          type: string
          example: 'E'
          description: 'Codigo del Tipo de Proceso "E" para Emitir y "C" para Cotizar'
        LugarProyecto:
          type: string
          example: 'Frente al Parque España'
          description: 'Direccion Exacta del lugar en donde se encuentra la empresa'
        CodigoProvincia:
          type: integer
          example: 7
          description: 'Provincia del lugar en donde se encuentra la empresa'
        CodigoCanton:
          type: string
          example: "002"
          description: 'Canton del lugar en donde se encuentra la empresa'
        CodigoDistrito:
          type: string
          example: "002"
          description: 'Distrito del lugar en donde se encuentra la empresa'  
        CodigoFormaPago:
          type: string
          example: '12'
          description: 'Código de la forma de pago elegida por el Cliente para la Póliza'
        IdComercial:
          type: integer
          example: 1
          description: 'Código que indica si la empresa es Comercial (1) o No Comercial (2)'
        PagaSalario:
          type: integer
          example: 1
          description: 'Forma de pago de la planilla: 1-Semanal, 2-Quincenal, 3-Mensual'          
        CodigoAgente:
          type: string
          example: '1100340'
          description: 'Código del Agente vendedor de la Póliza'    
        CodigoAgencia:
          type: string
          example: '88'
          description: 'Código de la sede vendedora de la Póliza'              
        Cobertura24H:
          type: string
          example: 'N'
          description: 'Indicador de que la Póliza cubre las 24 horas del día'
        AgentePorcentaje:
          type: string
          example: 100
          description: 'Porcentaje de comisíon del Agente en la Póliza'     
        CodigoTipoPoliza:
          type: string
          example: '001'
          description: 'Código al que pertenece la Póliza'  
        FechaDesde:
          type: string
          example: '20190913'
          description: 'Fecha en la que comienza la vigencia Póliza (AAAAMMDD)'        
        FechaHasta:
          type: string
          example: '20200830'
          description: 'Fecha en la que finaliza la vigencia de la Póliza (AAAAMMDD)'
        CodigoActividadEconomica:
          type: string
          example: 'F'
          description: 'Código de la Actividad Economica a la que pertenece la Póliza'  
        CodigoActividadEspecifica:
          type: string
          example: '4330'
          description: 'Código de la Actividad Especifica a la que pertenece la Póliza'
        Cliente:
          $ref: '#/components/schemas/Cliente'
        Proyecto:
          $ref: '#/components/schemas/Proyecto'
        Planilla:
          $ref: '#/components/schemas/Planilla'
    
    Cliente:
      type: object
      description: "Datos del Cliente de la Póliza"
      required:
        - CodigoTipoIdentificacion
        - Identificacion
        - NombreCompleto
        - PriNombre
        - PriApellido
        - SegApellido
        - Telefono
        - CodigoProvinciaCli
        - CodigoCantonCli
        - CodigoDistritoCli
      properties:
        CodigoTipoIdentificacion:
          type: string
          example: '0'
          description: 'Código del tipo de Identificacion del Cliente de la Póliza'
        Identificacion:
          type: string
          example: '701110111'
          description: 'Número de Identificacion del Cliente de la Póliza'
        NombreCompleto:
          type: string
          example: 'Hidalgo Perez Rubilio'
          description: 'Nombre completo del Cliente de la Póliza'
        PriNombre:
          type: string
          example: 'Rubilio'
          description: 'Primer nombre del Cliente de la Póliza'
        PriApellido:
          type: string
          example: 'Hidalgo'
          description: 'Primer Apellido del Cliente de la Póliza'
        SegApellido:
          type: string
          example: 'Perez'
          description: 'Segundo Apellido del Cliente de la Póliza'
        Telefono:
          type: integer
          example: 88888888
          description: 'Número de telefono del Cliente de la Póliza'   
        CodigoProvinciaCli:
          type: integer
          example: 7
          description: 'Provincia en la que vive el Cliente de la Póliza'
        CodigoCantonCli:
          type: string
          example: "002"
          description: 'Canton en el que vive el  Cliente de la Póliza'
        CodigoDistritoCli:
          type: string
          example: "002"
          description: 'Distrito en el que vive el Cliente de la Póliza'
    Proyecto:
      type: object
      description: "Datos del Proyecto de construccion para el cual se va a crear la Póliza"
      required:
      - NumeroProyecto
      - TipoIdProyecto
      - TipoProyecto
      - NombreProyecto
      - Municipalidad
      - Inspector
      - CodigoProvinciaProy
      - CodigoCantonProy
      - CodigoDistritoProy
      - LugarProyecto
      - PorcManoDeObra
      properties:
        NumeroProyecto:
          type: string
          description: 'Número del Proyecto de Construccion'
          example: '3002066369'
        TipoIdProyecto:
          type: string
          description: 'Código del Tipo de Proyecto'
          example: '0042'
        TipoProyecto:
          type: string
          description: 'Medio por tipo de Proyecto'
          example: '2'
        NombreProyecto:
          type: string
          description: 'Nombre del proyecto que se va a realizar'
          example: 'Contruccion de Edificio Número dos'          
        Municipalidad:
          type: string
          description: 'Municipalidad en la cual se tramitará el permiso de construccion'
          example: 'M210'
        Inspector:
          type: string
          description: 'Institucion que licita la obra'
          example: 'Catalogo de Inspectores'
        CodigoProvinciaProy:
          type: integer
          example: 07
          description: 'Provincia del lugar en donde se realizará el proyecto'
        CodigoCantonProy:
          type: string
          example: "002"
          description: 'Canton del lugar en donde se realizará el proyecto'
        CodigoDistritoProy:
          type: string
          example: "002"
          description: 'Distrito del lugar en donde se realizará el proyecto'       
        Direccion:
          type: string
          description: 'Direccion exacta de donde se realizará el proyecto'
          example: '50 metros al sur de la torre del ICE'
        ValordelProyecto:
          type: integer
          description: 'Monto total del valor del proyecto a realizar'
          example: 15000000
        PorcManoDeObra:
          type: integer
          description: 'Porcentaje del Valor que es dedicado a la Mano de Obra'
          example: 35          
    Planilla:
      type: object
      description: "Datos de la Planilla de la Póliza"
      required:
      - FormaPagoPlanilla
      - Ocupacion
      - MontoPlanilla
      - Empleados
      - Actividad
      properties:
        FormaPagoPlanilla:
          type: string
          description: 'Forma en que el patrono realizá los pagos de la planilla'
          example: 'C'
        CodigoOcupacion:
          type: string
          description: 'Codigo de la ocupacion a la que se dedican los trabajadores'
          example: '5159'
        MontoPlanilla:
          type: integer
          description: 'Monto total de la planilla de la empresa'
          example: 6522352
        Empleados:
          type: integer
          description: 'Cantidad de empleados de la empresa'
          example: 15
        Actividad:
          type: string
          description: 'Actividad de la planilla'
          example: '900'          
    
    RespuestaEmisionPolizaRITR:
      type: object
      required:
        - mensaje
      properties:
        DesMenseje:
          type: string
          example: 'Procesado satisfactoriamente'
          description: 'Mensaje de respuesta amigable para el usuario'
        NumeroPoliza:
          type: string
          example: '8888888'
          description: 'Número de la Póliza del Cliente'
        Tarifa:
          type: integer
          example: 3.71
          description: 'Tarifa de la Póliza'
        NumeroRecibo:
          type: string
          example: '2019A656562'
          description: 'Número del recibo de la poliza asociada'
        NumeroProyecto:
          type: integer
          example: 56565
          description: 'Número del Proyecto de la Póliza'   
        NumeroCertificado:
          type: integer
          example: 56565223
          description: 'Número del Certificado de la Póliza'  
        FormasPago:
          type: array
          items:
            type: object
            properties:
              DesFormaPago:
                type: string
                description: 'Descripcion de la Forma de Pago'
              PriFormaPago:
                type: integer
                description: 'Prima de la forma de Pago'
          example:
          - DesFormaPago: "Temporal"  
            PriFormaPago: 10000
          - DesFormaPago: "Mensual"  
            PriFormaPago: 10000
          - DesFormaPago: "Trimestral"
            PriFormaPago: 30000
          - DesFormaPago: "Semestral"
            PriFormaPago: 60000 
          - DesFormaPago: "Anual"
            PriFormaPago: 120000
      
    RespuestaConsultaPolizaRITR:
      type: object
      required:
        - mensaje
      properties:
        DesMenseje:
          type: string
          example: 'Procesado satisfactoriamente'
          description: 'Mensaje de respuesta amigable para el usuario'
        DatosPoliza:
          $ref: '#/components/schemas/DatosPoliza'
    DatosPoliza:
      type: array
      items:
        type: object
        description: "Datos básicos de la póliza consultada"
        required:
        - CodigoTipoIdentificacion
        - Identificacion
        - NombreCompleto
        - NumeroPoliza
        - CodigoActividadEconomica
        - DescripcionActividadEconomica
        - CodigoProvincia
        - CodigoCanton
        - CodigoDistrito
        - LugarProyecto
        - NumeroRecibo
        - CodigoClaseRecibo
        - DescripcionClaseRecibo
        - FechaInicio
        - FechaVencimiento
        - FechaPago
        - PeriodoPlanilla
        - FechaDesdePlanilla
        - FechaHastaPlanilla
        - CantidadTrabajadores
        - CodigoEstadoPoliza
        - DescripcionEstadoPoliza
        properties:
          CodigoTipoIdentificacion:
            type: string
            example: '0'
            description: 'Código del tipo de Identificacion del Cliente de la Póliza'
          Identificacion:
            type: string
            example: '104430163'
            description: 'Número de Identificacion del Cliente de la Póliza'
          NombreCompleto:
            type: string
            example: 'QUIROS CAVALLINI EDGAR'
            description: 'Nombre completo del Cliente de la Póliza'
          NumeroPoliza:
            type: string
            example: 'HO41533'
            description: 'Número de la póliza a consultar'
          CodigoActividadEconomica:
            type: string
            example: 'T'
            description: 'Código de la Actividad Economica a la que pertenece la Póliza'  
          DescripcionActividadEconomica:
            type: string
            example: 'ACTIV.EN HOGARES COMO EMPLEADORES'
            description: 'Descripcion de la Actividad Economica a la que pertenece la Póliza' 
          CodigoProvincia:
            type: integer
            example: 1
            description: 'Provincia del lugar en donde se encuentra la empresa'
          CodigoCanton:
            type: string
            example: "003"
            description: 'Canton del lugar en donde se encuentra la empresa'
          CodigoDistrito:
            type: string
            example: "001"
            description: 'Distrito del lugar en donde se encuentra la empresa'  
          LugarProyecto:
            type: string
            example: 'SAN JOSE'
            description: 'Direccion Exacta del lugar en donde se encuentra la empresa'
          NumeroRecibo:
            type: string
            description: 'Número del Recibo'
            example: '201503D021238'
          CodigoClaseRecibo:
            type: string
            description: 'Código de la Clase del Recibo'
            example: '01'          
          DescripcionClaseRecibo:
            type: string
            description: 'Descripcion de la Clase del Recibo'
            example: 'RENOVACION'      
          FechaInicio:
            type: string
            example: '20150501'
            description: 'Fecha de inicio de la vigencia del recibo de la Póliza a consultar (AAAAMMDD)'
          FechaVencimiento:
            type: string
            example: '20160430'
            description: 'Fecha de vencimiento de la vigencia del recibo de la Póliza a consultar (AAAAMMDD)'
          FechaPago:
            type: string
            example: '20150501'
            description: 'Fecha de pago del recibo de la Póliza a consultar (AAAAMMDD)'
          PeriodoPlanilla:
            type: string
            example: '201602'
            description: 'Periodo de la ultima planilla presentada de la Póliza a consultar (AAAAMM)'
          FechaDesdePlanilla:
            type: string
            example: '20151201'
            description: 'Fecha desde de la ultima planilla presentada de la Póliza a consultar (AAAAMMDD)'
          FechaHastaPlanilla:
            type: string
            example: '20151201'
            description: 'Fecha hasta de la ultima planilla presentada de la Póliza a consultar (AAAAMMDD)'          
          CantidadTrabajadores:
            type: integer
            example: 1
            description: 'Cantidad de los trabajadores reportados en la ultima planilla presentada de la Póliza a consultar'          
          CodigoEstadoPoliza:
            type: string
            example: '1'
            description: 'Código del estado de la Póliza a consultar'          
          DescripcionEstadoPoliza:
            type: string
            example: 'Vigente'
            description: 'Descripcion del estado de la Póliza a consultar'   

  securitySchemes:
    OAuth2:
      type: oauth2
      flows:
        clientCredentials:         
          tokenUrl: "/connect/token"
          scopes:
            "polizas/emision/riesgosdeltrabajo": "Otorga permisos para emitir una pólizas de riesgos del trabajo"
            "polizas/consultas/riesgosdeltrabajo": "Otorga permisos para consultar una pólizas de riesgos del trabajo"
            "polizas/certificacion/riesgosdeltrabajo": "Otorga permisos para consultar una pólizas de riesgos del trabajo"
security:
#Aplica el esquema de seguridad llamado "Oauth2" a toda el api
  - OAuth2: [] # use the same name as under securitySchemes