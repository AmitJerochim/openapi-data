openapi: 3.0.0
info:
  description: This API is used to interact with SyteLine
  version: "1.0.5-oas3"
  title: Paperless Manufacturing
  contact:
    email: allen.gammel@mail.weir
  license:
    name: No license
    url: 'https://global.weir'
tags:
  - name: Authentication Methods
    description: 'Methods related to authenticating with the SyteLEAN Web Service'
  - name: Job Order Methods
    description: 'Methods related to Job Orders'
  - name: Inventory Methods
    description: 'Performs Inventory transactions'
  - name: Workbench Methods
    description: 'Methods for accessing the Workbench'
  - name: DataView Methods
    description: 'Methods that return data from various forms.'
paths:
  /logout:
    get:
      tags:
        - Authentication Methods
      summary: >-
        Logs the user out.
      description: >-
        Logs the user out.
      responses:
        '200':
          description: 'User has been logged out.'
  /authenticate:
    post:
      tags:
        - Authentication Methods
      summary: 'Authenticates the User to access the portal and grant access to the SyteLEAN Web Service "On-behalf Of"'
      description: 'Allows the user to authenticate with SyteLine to retrieve an access code.'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserLoginRequest'
      responses:
        '200':
          description: 'Successfully authenticated user.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserLoginResponse'
        '401':
          description: 'Failed to authenticate user.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'

  /view/job/{jobNumber}:
    get:
      tags:
        - DataView Methods
      summary: 'Job Order dataview'
      description: 'Retreives data fields from the Job Orders form in SyteLine about a given item'
      parameters: 
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: jobNumber
          description: 'Job Number to retreive data for'
          required: true
          schema: 
            type: string
      responses:
        '200':
          description: 'Data view was successfully retreived'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobOrderDataView'
        '401':
          description: 'Not authorized response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
                
  /view/item/{item}:
    get:
      tags:
        - DataView Methods
      summary: 'Item Master dataview'
      description: 'Retreives data fields from the Item Master form in SyteLine about a given item'
      parameters: 
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: item
          description: 'Item to retreive data for'
          required: true
          schema: 
            type: string
      responses:
        '200':
          description: 'Data view was successfully retreived'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemDataView'
        '401':
          description: 'Not authorized response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
  /view/item/{item}/materials/list:
    get:
      tags:
        - DataView Methods
      summary: 'Item Master Current Materials dataview'
      description: 'Provides an Items Current Bill of Material'
      parameters: 
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: item
          description: 'Item to retreive data for'
          required: true
          schema: 
            type: string
      responses:
        '200':
          description: 'Data view was successfully retreived'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobMaterialsListResponse'
        '401':
          description: 'Not authorized response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
  /job/create:
    post:
      tags:
        - Job Order Methods
      summary: 'Creates a Job Order in SyteLine'
      description: 'Creates a Job Order in SyteLine with the defined properties.'
      parameters:
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
      requestBody:
        description: 'Job Order Request Details'
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JobOrderCreateRequest'
      responses:
        '200':
          description: 'Job Order was created succesfully'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobOrderCreateResponse'
        '401':
          description: 'Not authorized response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'

  /inventory/warehouses/list:
    get:
      tags:
        - Inventory Methods
      summary: 'Retreives a list of warehouses available to the User'
      description: 'Retreives a list of warehouses available to the User'
      parameters:
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 'List of available warehouses'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WarehouseListResponse'
        '401':
          description: 'Not authenticated response'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'         

  /inventory/{warehouse}/locations/{location}/validate:
    get:
      tags:
        - Inventory Methods
      summary: 'Validates that a specific Location exists for a Warehouse'
      description: 'Validates that a specific Location exists for a Warehouse.'
      parameters: 
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: warehouse
          description: 'Warehouse the Location exists within'
          required: true
          schema:
            type: string
        - in: path
          name: location
          description: 'Location to validate'
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 'Validation Result'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LocationValidationResponse'
        '401':
          description: 'Not authenticated response'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'       

  /inventory/{warehouse}/items/{item}/list:
    get:
      tags:
        - Inventory Methods
      summary: 'Lists Item Inventory Details for the given Warehouse & Item combination'
      description: 'Lists Item Inventory Details for the given Warehouse & Item combination'
      parameters: 
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: warehouse
          description: 'Warehouse the Location exists within'
          required: true
          schema:
            type: string
        - in: path
          name: item
          description: 'Specific Item in the Location'
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 'Listing of Items successful'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ItemInventoryDetails'
        '401':
          description: 'Not authenticated response'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'

  /inventory/{warehouse}/locations/{location}/items/{item}/list:
    get:
      tags:
        - Inventory Methods
      summary: 'Lists Item Inventory Details for the given Warehouse, Location & Item combination'
      description: 'Lists Item Inventory Details for the given Warehouse, Location & Item combination'
      parameters: 
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: warehouse
          description: 'Warehouse the Location exists within'
          required: true
          schema:
            type: string
        - in: path
          name: location
          description: 'Location the Items exist within'
          required: true
          schema:
            type: string
        - in: path
          name: item
          description: 'Specific Item in the Location'
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 'Listing of Items successful'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemInventoryDetails'
        '401':
          description: 'Not authenticated response'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'

  /inventory/{warehouse}/locations/{location}/list:
    get:
      tags:
        - Inventory Methods
      summary: 'Lists Item Inventory Details for the given Warehouse & Location combination'
      description: 'Lists Item Inventory Details for the given Warehouse & Location combination'
      parameters: 
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: warehouse
          description: 'Warehouse the Location exists within'
          required: true
          schema:
            type: string
        - in: path
          name: location
          description: 'Location the Items exist within'
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 'Listing of Items successful'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LocationItemInventoryDetails'
        '401':
          description: 'Not authenticated response'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
  /workbench/{plannerCode}/generate:
    get:
      tags:
        - Workbench Methods
      summary: 'Generates the workbench by Planner code'
      description: >-
        Generates a list of items available to manufacture based on the planner code.
      parameters:
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: plannerCode
          description: 'The SyteLine planner code. Used to reference work bench.'
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 'Available Items Generated successfully'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WorkBenchGenerateItemsResponse'
        '401':
          description: 'Not authenticated response'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
  /workbench/{plannerCode}/list:
    get:
      tags:
        - Workbench Methods
      summary: 'Lists the Items available to manufacture for a work bench/cell'
      description: >-
        Retreives the list of Items available to manufacture in the Work Bench for a given planner code. (Work Bench
        method)
      parameters:
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: plannerCode
          description: 'The SyteLine planner code. Used to reference work bench.'
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 'Available Items retrieval successful'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WorkBenchItemsResponse'
        '401':
          description: 'Not authenticated response'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
                
  /workbench/poti/generate:
    post:
      tags:
        - Workbench Methods
      summary: 'Lists the Items available to manufacture for a work bench/cell'
      description: >-
        Retrives the On Hand (Less Transit) and WIP for each SKU supplied. 
      parameters:
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
      requestBody:
        description: 'POTI Request Details'
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WorkBenchPOTIRequest'
      responses:
        '200':
          description: 'POTI generation successful'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WorkBenchPOTIResponse'
        '401':
          description: 'Not authenticated response'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
                
  /job/{jobNumber}/operations/{operation}/complete:
    post:
      tags:
        - Job Order Methods
      summary: 'Completes a Job Operation in SyteLine'
      description: 'Completes a Job Operation in SyteLine'
      parameters: 
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: jobNumber
          description: 'SyteLine Job Order number'
          required: true
          schema:
            type: string
        - in: path
          name: operation
          description: 'Job Operation number'
          required: true
          schema: 
            type: number
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JobOperationCompleteResquest'
      responses:
        '200':
          description: 'Completed operation successfully'
          content:
            application/json:
              schema:
                $ref:  '#/components/schemas/JobOperationCompleteResponse'
        '401':
          description: 'Completed operation successfully'
          content:
            application/json:
              schema:
                $ref:  '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
                
  /job/{jobNumber}/operations/{operation}/note:
    get:
      tags:
        - Job Order Methods
      summary: 'Gets the note field for a Job Operation'
      description: 'Retreives the first note text available for a Job Operation. If no existing note, return back "No note available".'
      parameters:
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: jobNumber
          description: 'SyteLine Job Order number'
          required: true
          schema:
            type: string
        - in: path
          name: operation
          description: 'Job Operation number'
          required: true
          schema:
            type: number
      responses:
        '200':
          description: 'Successfully retreived the Job Operation Note'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobOperationGetNoteResponse'
        '403':
          description: 'Not authenticated response'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
    post:
      tags: 
      - Job Order Methods
      summary: 'Appends a note to the Job Operation'
      description: 'Appends specificed note text to the first existing note within the specific Job Operation, if existing. If a note does not exist, create a new note marked as Internal.'
      parameters:
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: jobNumber
          description: 'The SyteLine Job Order number'
          required: true
          schema:
            type: string
        - in: path
          name: operation
          description: 'Job Operation number'
          required: true
          schema:
            type: number
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JobOperationAppendNoteRequest'
      responses:
        '200':
          description: 'Successfully retreived the Job Operation Note'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobOperationGetNoteResponse'
        '403':
          description: 'Not authenticated response'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
      
  /job/{jobNumber}/operations/list:
      get:
        tags:
          - Job Order Methods
        summary: 'Returns a list of Operations for the given Job Order'
        description: 'Retreives and returns the Operation Details for a given Job Order'
        parameters:
          - in: header
            name: X-SL-Token
            description: 'SyteLine Authorization Token'
            required: true
            schema:
              type: string
          - in: path
            name: jobNumber
            description: 'SyteLine Job Order'
            required: true
            schema:
              type: string
        responses:
          '200':
            description: 'Job Order exists and Operations List was successfully generated'
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/JobOperationsListResponse'
          '403':
            description: 'Not authenticated response'
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/FailureResponse'
          '500':
            description: 'Internal server error occurred response.'
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/FailureResponse'
  
  /job/{jobNumber}/materials/{serialNumber}/issued:
    get:
      tags:
        - Job Order Methods
      description: 'Determines if all of the materials for a serial number have been issued.'
      summary: 'Determines if all of the materials for a serial number have been issued.'
      parameters:
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: jobNumber
          description: 'The SyteLine Job Order number'
          required: true
          schema:
            type: string
        - in: path
          name: serialNumber
          description: 'Serial Number referenced on Job Order'
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 'Retrieved Job Materials List Response Successfully'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobMaterialsListResponse'
        '403':
          description: 'Not authenticated response'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'   
  
  /job/{jobNumber}/materials/issued:
    get:
      tags:
        - Job Order Methods
      description: 'Determines if all of the materials for a job order have been issued.'
      summary: 'Determines if all of the materials for a job order have been issued.'
      parameters:
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: jobNumber
          description: 'The SyteLine Job Order number'
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 'Retrieved Job Materials List Response Successfully'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobMaterialsListResponse'
        '403':
          description: 'Not authenticated response'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'         

  /job/{jobNumber}/materials/issue:
    post:
      tags:
        - Job Order Methods
      summary: 'Issues material to the given Job Order/Serial Number'
      description: 'Issues material to the given Job Order/Serial Number'
      parameters: 
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: jobNumber
          description: 'The SyteLine Job Order number'
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JobMaterialIssueRequest'
      responses:
        '200':
          description: 'Issued materials successfully'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobMaterialsIssuedResponse'
        '403':
          description: 'Not authenticated response'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'

  /job/{jobNumber}/materials/{serialNumber}/issue:
    post:
      tags:
        - Job Order Methods
      summary: 'Issues material to the given Job Order/Serial Number'
      description: 'Issues material to the given Job Order/Serial Number'
      parameters: 
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: jobNumber
          description: 'The SyteLine Job Order number'
          required: true
          schema:
            type: string
        - in: path
          name: serialNumber
          description: 'Serial Number referenced on Job Order'
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JobSerialNumberMaterialIssueRequest'
      responses:
        '200':
          description: 'Issued materials successfully'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobMaterialsIssuedResponse'
        '403':
          description: 'Not authenticated response'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'

  /job/{jobNumber}/materials/list:
    get:
      tags:
        - Job Order Methods
      summary: 'Retrieves the flattened BOM for the given Job Order number'
      description: 'Retrieves the flattended (consolidated) BOM for the given Job Order number.'
      parameters: 
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: jobNumber
          description: 'The SyteLine Job Order number'
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 'Retrieved Job Materials List Response Successfully'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobMaterialsListResponse'
        '403':
          description: 'Not authenticated response'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
                
  /job/{jobNumber}/status:
    get:
      tags:
        - Job Order Methods
      summary: 'Returns the Job Orders status from SyteLine'
      description: 'Returns the Job Order status from SyteLine, such as Released, Stopped, Complete, etc.'
      parameters:
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: jobNumber
          description: 'The SyteLine Job Order number'
          required: true
          schema: 
            type: string
      responses:
        '200':
          description: 'Status of the Job Order in SyteLine'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JobOrderStatusResponse'
        '403':
          description: 'Not authenticated response'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
                
  /job/{jobNumber}/reports/packet:
    get:
      tags:
        - Job Order Methods
      summary: 'Requests the PDF version of the Job Operations Listing Report'
      description: |
                  Requests the PDF version of the Job Operations Listing Report:
                  
                  * The SyteLEAN Web Service Send Report fields to the end point
                  
                  * End point will submit background task to run report 
                  
                  * End point will immediately return a URL to watch for report output
                  
                  * Once report is available browsing to the URL will serve the PDF
      parameters:
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: jobNumber
          description: 'Job Order Number'
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 'Job Operations Listing Report Request Successful'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralReportResponse'
        '401':
          description: 'Not authorized response.' 
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
                
  /job/{jobNumber}/reports/traceability:
    get:
      tags:
        - Job Order Methods
      summary: 'Requests the PDF version of the Weir Lot/Serial Traceability Report'
      description: |
                  Requests the PDF version of the Weir Lot/Serial Traceability Report:
                  
                  * The SyteLEAN Web Service Send Report fields to the end point
                  
                  * End point will submit background task to run report 
                  
                  * End point will immediately return a URL to watch for report output
                  
                  * Once report is available browsing to the URL will serve the PDF
      parameters:
        - in: header
          name: X-SL-Token
          description: 'SyteLine Authorization Token'
          required: true
          schema:
            type: string
        - in: path
          name: jobNumber
          description: 'Job Order Number'
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 'Weir Lot/Serial Traceability Report Request Successful'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralReportResponse'
        '401':
          description: 'Not authorized response.' 
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
        '500':
          description: 'Internal server error occurred response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FailureResponse'
                
servers:
# Added by API Auto Mocking Plugin
# Added by API Auto Mocking Plugin
# Added by API Auto Mocking Plugin
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/intolerance/mfg-paperless/1.0.5-oas3
  - description: SwaggerHub API Auto Mocking
    url: 'https://virtserver.swaggerhub.com/intolerance/mfg-paperless/1.0.5-oas3/{basePath}'
    variables:
      basePath:
        default: 'sl'
        
components:
  schemas:
    UserLoginRequest:
      type: object
      required:
        - user
        - pwd
        - site
      properties:
        user:
          description: 'SyteLEAN Username'
          type: string
          example: 'WEB257700'
        pwd:
          description: 'SyteLEAN password'
          type: string
          example: 'my.pass.word'
          format: password
        site:
          description: 'The targetted SyteLine instance'
          type: string
          example: 'HQ'

    JobOrderDataView:
      description: 'Job Order Data View'
      required:
        - item
        - jobNumber
        - jobDescription
        - released
        - completed
        - scrapped
        - status
        - jobDate
        - plannerCode
        - familyCode
        - jobStartDate
        - jobEndDate
        - serialNumbers

      properties:
        item:
          description: 'SyteLine Item'
          type: string
          example: '1A14483'
        jobNumber: 
          description: 'Job Number'
          type: string
          example: '1903VAS239'
        jobDescription:
          description: 'Job Description'
          type: string
          example: 'PLUG VA/1X2 SP150WU/LT'
        released:
          description: 'Released Quantity'
          type: number
          example: 5.00
        completed:
          description: 'Completed Quantity'
          type: number
          example: 1.00
        scrapped:
          description: 'Scrapped Quantity'
          type: number
          example: 0.00
        status:
          description: 'Job Status'
          type: string
          example: 'R'
        jobDate:
          description: 'Job Date'
          type: string
          format: date
          example: '2019-03-07'
        jobStartDate:
          description: 'Job Start Date'
          type: string
          format: date
          example: '2019-03-08'
        jobEndDate:
          description: 'Job End Date'
          type: string
          format: date
          example: '2019-03-15'  
        plannerCode:
          description: 'Planner Code'
          type: string
          example: 'PV1'
        familyCode:
          description: 'Family Code'
          type: string
          example: 'PV/1x2'
        serialNumbers:
          description: 'Serial Numbers associated with the job'
          type: array
          items:
            $ref: '#/components/schemas/JobOrderSerialNumberDetail'

    ItemDataView:
      description: 'Item Data View'
      type: object
      required:
        - item
        - description
        - drawingNumber
        - revision
        - productFamily
        - productCode
        - familyCode
        - itemStockType
        - valueStream
        - lotTracked
        - serialTracked
        - lotSize
        - plannerCode
        - quantityWIP
        - safetyStock
      properties:
        item:
          description: 'SyteLine Item'
          type: string
          example: '1A14483'
        description: 
          description: 'Item description'
          type: string
          example: 'PLUG VA/1X2 SP150WU/LT'
        drawingNumber:
          description: 'Drawing revision'
          type: string
          example: '1A14483-REV C'
        revision:
          description: 'Item Revision'
          type: string
          example: 'C'
        productFamily:
          description: 'Product Family'
          type: string
          example: 'Plug Valves'
        productCode:
          description: 'Product Code'
          type: string
          example: 'PV'
        familyCode:
          description: 'Family Code'
          type: string
          example: 'PV/1x2'
        itemStockType:
          description: 'Item Stock Type'
          type: string
          example: 'MTS'          
        valueStream:
          description: 'Value Stream'
          type: string
          example: 'Valves'
        lotTracked:
          description: 'Lot Tracked Item?'
          type: boolean
          example: 'false'
        serialTracked:
          description: 'Serial Tracked Item?'
          type: boolean
          example: 'true'
        lotSize:
          description: 'Item Lot Size'
          type: number
          example: 1
        plannerCode:
          description: 'Planner Code'
          type: string
          example: 'PV1'
        quantityWIP:
          description: 'Quantity in WIP'
          type: number
          example: 65
        safetyStock:
          description: 'Safety Stock'
          type: number
          example: 711
          
    UserLoginResponse:
      description: 'Successful User login response'
      type: object
      required:
        - token
        - success
        - username
        - userDescription
        - defaultWarehouse
        - defaultLanguage
        - primaryEmail
        - userLoginStatus
        - employeeNumber
        - workstationDomain
        - groups
      additionalProperties: false
      properties:
        token:
          description: 'SyteLine Access Token'
          type: string
          example: 'xxxxx.yyyyy.zzzzz'
        success:
          type: boolean
          example: true
        username:
          type: string
          example: "Web257700"
        userDescription:
          type: string
          example: "Allen Gammel"
        defaultWarehouse:
          type: string
          example: "MAIN"
        defaultLanguage:
          type: string
          example: "en-us"
        primaryEmail:
          type: string
          example: "allen.gammel@your.weir"
        userLoginStatus:
          type: string
          example: "Active"
        employeeNumber: 
          type: string
          example: "999999"
        workstationDomain:
          type: string
          example: "WEIR"
        groups:
          description: 'List of Groups'
          type: array
          items:
            type: string
          example: ['Web_PaperlessOperator', 'Web_PaperlessScheduler', 'Web_PaperlessOperator_Valve']

    WorkBenchGenerateItemsResponse:
      type: object
      required:
        - workBench
      properties:
        workBench:
          description: 'Workbench the Available Items belong to'
          type: string
          example: 'VAS'
        success:
          description: 'Successful Generation?'
          type: boolean
          example: true

    WorkBenchPOTIResponseDetail:
      type: object
      required:
        - item
        - onHand
        - wip
      properties:
        item:
          description: 'Valid SL Item'
          type: string
          example: '2A17920X'
        onHand:
          description: 'On Hand (less Transit)'
          type: number
          example: 50
        wip:
          description: 'WIP qty for Item'
          type: number
          example: 30

    WorkBenchPOTIResponse:
      description: 'Response containing the POTI details.'
      type: array
      items:
        $ref: '#/components/schemas/WorkBenchPOTIResponseDetail'

    WorkBenchPOTIRequest:
      description: 'Request the POTI to be generated for the included items'
      type: object
      required:
        - warehouse
        - items
      properties:
        warehouse:
          description: 'The warehouse registered to the cell'
          type: string
          example: 'MAIN'
        items:
          description: 'List of SKUs to be considered'
          type: array
          items:
              type: string
          example: ['1A14483', '1A14496']

    WorkBenchItemsResponse:
      type: object
      required:
        - workBench
        - availableItems
      properties:
        workBench:
          description: 'Workbench the Available Items belong to'
          type: string
          example: 'VAS'
        availableItems:
          description: 'Available Items on the Workbench'
          type: array
          items:
            $ref: '#/components/schemas/WorkBenchItemsResponseDetail'
            
    WorkBenchItemsResponseDetail:
      type: object
      required:
        - item
        - scheduledDate
        - lotSize
      properties:
        item:
          description: 'Item from SyteLine'
          type: string
          example: '1A14483'
        scheduledDate:
          description: 'ISO-8601 Formated date'
          type: string
          example: '2018-09-26T17:18:21.554333+00:00'
        lotSize:
          description: 'Lot Size from Items'
          type: number
          example: 1

    JobOrderCreateRequest:
      description: 'Job Order Creation Request'
      type: object
      required:
        - item
        - quantity
        - jobNumber
      properties:
        item:
          description: 'Corresponding Item number in SyteLine'
          type: string
          example: '1A14483'
        quantity:
          description: 'The quantity for the job'
          type: integer
          example: 1
        jobNumber:
          description: 'The Job Number to be used when creating the Job Order. Using "?" should auto-fill the remaining digits.'
          type: string
          example: '1903VA?'
          
    JobOperationAppendNoteRequest:
      description: 'Job Operation Note Append Request'
      type: object
      required:
        - jobNumber
        - note
        - operation
      properties:
        jobNumber:
          description: 'SyteLine Job Number'
          type: string
          example: '1906VAS001'
        note: 
          description: 'Quantity that was completed'
          type: string
          example: 'IDENTIFY PART PER ENGINEERING DRAWING.'
        operation:
          description: 'Job Operation the note belongs to'
          type: number
          example: 30
          
    JobOperationGetNoteResponse:
      description: 'Job Operation Note Response'
      type: object
      required:
        - jobNumber
        - note
        - operation
        - success
      properties:
        jobNumber:
          description: 'SyteLine Job Number'
          type: string
          example: '1906VAS001'
        note: 
          description: 'Quantity that was completed'
          type: string
          example: 'IDENTIFY PART PER ENGINEERING DRAWING.'
        operation:
          description: 'Job Operation the note belongs to'
          type: number
          example: 30
        success:
          description: 'Successfully completed the operation or not'
          type: boolean
          example: true
          
    JobOperationCompleteResponse:
      description: 'Job Operation Complete Response'
      type: object
      required:
        - jobNumber
        - quantity
        - success
      properties:
        jobNumber:
          description: 'SyteLine Job Number'
          type: string
          example: '1906VAS001'
        quantity: 
          description: 'Quantity that was completed'
          type: number
          example: 1
        success:
          description: 'Successfully completed the operation or not'
          type: boolean
          example: true
          
    JobOrderCreateResponse:
      description: 'Job Order Creation Response'
      type: object
      required:
        - item
        - quantity
        - jobNumber
        - serialNumbers
      properties:
        item:
          description: 'Corresponding Item number in SyteLine'
          type: string
          example: '1A14483'
        quantity:
          description: 'The quantity for the job'
          type: integer
          example: 1
        jobNumber:
          description: 'The Job Number to be used when creating the Job Order'
          type: string
          example: '1903VAS001'
        serialNumbers:
          description: 'Serial Numbers that were generated'
          type: array
          items:
            $ref: '#/components/schemas/JobOrderSerialNumberDetail'
          
    GeneralReportResponse:
      description: 'General Report Response'
      type: object
      required:
        - reportUrl
      properties:
        reportUrl:
          description: 'URL to retreive the document'
          type: string
          example: 'http://server.com/reports/packet/1908VAS019'

    JobOrderSerialNumberDetail:
      description: 'Serial Number Detail'
      type: object
      required:
        - item
        - serialNumber
      properties:
        item:
          description: 'Item Number'
          type: string
          example: '1A14483'
        serialNumber:
          description: 'Serial Number'
          type: string
          example: '1903VAS001-1'
          
    JobOrderStatusResponse:
      description: 'Job Order Status Response'
      type: object
      required:
        - jobNumber
        - status
      properties:
        status:
          description: 'The corresponding SyteLine Job Order Status. Return the status of "Unreleased" for jobs that do not exist'
          type: string
          example: 'R'
        jobNumber:
          description: 'The Job Number to be used when creating the Job Order'
          type: string
          example: '1903VA0001'
          
    JobOperationCompleteResquest:
      description: 'Job Order Status Response'
      type: object
      required:
        - jobNumber
        - operation
        - quantity
      properties:
        jobNumber:
          description: 'The Job Number to be used when creating the Job Order'
          type: string
          example: '1903VA0001'
        operation:
          description: 'The Job Operation to complete'
          type: number
          example: 20
        quantity:
          description: 'The quantity completed'
          type: number
          example: 1

    JobOperationsListResponse:
      description: 'Job Operations List'
      type: object
      required:
        - jobNumber
        - item
        - operationDetails
      properties:
        jobNumber:
          description: 'Job Number'
          type: string
          example: '1904VAS001'
        item:
          description: 'Item'
          type: string
          example: '1A14483'
        operationDetails:
          description: 'List of OperationDetails'
          type: array
          items:
            $ref: '#/components/schemas/JobOperationDetail'
    
    JobMaterialsIssuedResponse:
      description: 'Job Materials Issued Response'
      type: object
      required:
        - jobNumber
        - issuedFully
      properties:
        jobNumber:
          description: 'SyteLine Job Number'
          type: string
          example: '1904VAS001'
        issuedFully:
          description: 'If the job/serial number is fully issued or not'
          type: boolean
          example: true
          
          
    JobMaterialsListResponse:
      description: 'Flattened BOM for the Job Item'
      type: object
      required:
        - jobNumber
        - jobQuantity
        - jobItemTraceability
        - jobMaterialItems
      properties:
        jobNumber:
          description: 'SyteLine Job Order Number'
          type: string
          example: '1A14483'
        jobQuantity:
          description: 'Job Order Release quantity'
          type: number
          example: 10.000
        jobItemTraceability:
          $ref: '#/components/schemas/ItemTraceabilityDetail'
        jobMaterialItems:
          description: 'List of Job Materials'
          type: array
          items:
            $ref: '#/components/schemas/JobMaterialItemDetail'
      
    JobMaterialItemDetail:
      description: 'Job Material Item Details'
      type: object
      required:
        - materialItem
        - materialDescription
        - materialItemTraceability
        - quantityPer
        - quantityRequired
        - quantityIssued
        - materialType
        - operation
      properties:
        materialItem:
          description: 'SyteLine Material Item number'
          type: string
          example: '1P14480'
        materialDescription:
          description: 'SyteLine Material Item Description'
          type: string
          example: 'BDY/PV/1X2'
        materialItemTraceability:
          $ref: '#/components/schemas/ItemTraceabilityDetail'
        quantityPer:
          description: 'Quantity of Material Item per Unit'
          type: number
          example: 1.000
        quantityRequired:
          description: 'Quantity of Material Item required to satisify each Job Item'
          type: number
          example: 1.000
        quantityIssued:
          description: 'Quantity of Material Item that has been issued to the Job / Serial Number'
          type: number
          example: 0.000
        materialType:
          description: 'Material Type from Items -- Other, Material, Fixture, etc.'
          type: string
          example: 'Material'
        operation:
          description: 'Job Operation number that the material is allocated to.'
          type: number
          example: 10
          
    JobMaterialIssueRequest:
      description: 'Material Issue Request'
      type: object
      required:
        - jobOrder
        - issueMaterials
      properties:
        jobOrder:
          description: 'Job Order to issue materials to.'
          type: string
          example: '1904VAS004'
        issueMaterials:
          description: 'Materials to issue to the job/serial number'
          type: array
          items:
            $ref: '#/components/schemas/JobMaterialIssueDetail'

    JobSerialNumberMaterialIssueRequest:
      description: 'Material Issue Request'
      type: object
      required:
        - jobOrder
        - serialNumber
        - issueMaterials
      properties:
        jobOrder:
          description: 'Job Order to issue materials to.'
          type: string
          example: '1904VAS004'
        serialNumber:
          description: 'Serial Number to issue materials to.'
          type: string
          example: '1904VAS004-1'
        issueMaterials:
          description: 'Materials to issue to the job/serial number'
          type: array
          items:
            $ref: '#/components/schemas/JobMaterialIssueDetail'

    JobMaterialIssueDetail:
      description: 'Job Material Issue Detail'
      type: object
      required: 
        - item
        - warehouse
        - location
        - serialNumber
        - lot
        - quantity
        - expirationDate
      properties:
        item:
          description: 'Material Item to issue'
          type: string
          example: '1P14480'
        warehouse:
          description: 'Warehouse the location resides'
          type: string
          example: 'MAIN'
        location:
          description: 'Location the item resides'
          type: string
          example: 'CMKT-04'
        serialNumber: 
          description: 'If applicable, the items Serial Number'
          type: string
          example: null
        lot:
          description: 'If applicable, the items Lot'
          type: string
          example: 'AB123-4'
        quantity:
          description: 'Quantity to issue. If serial number the qty must be 1.'
          type: number
          example: 3.000
        expirationDate: 
          description: 'If lot, supply the expiration date if required.'
          type: string
          example: null
        
    WarehouseListResponse:
      description: 'Warehouse List Response'
      type: object
      required:
        - warehouses
      properties:
        warehouses:
          description: 'Warehouse the location exists in'
          type: array
          items:
              type: string
          example: ['MAIN', 'DCFW']

    LocationValidationResponse:
      description: 'Location Validity Response'
      type: object
      required:
        - location
        - warehouse
        - valid
      properties:
        location:
          description: 'Warehouse location'
          type: string
          example: 'CMKT-01'
        warehouse:
          description: 'Warehouse the location exists in'
          type: string
          example: 'MAIN'
        valid:
          description: 'If the Warehouse & Location combination exists or not'
          type: boolean
          example: true
          
    LocationItemInventoryDetails:
      description: 'Item Details for a Location'
      type: object
      required:
        - location
        - items
      properties:
        location:
          description: 'Location name'
          type: string
          example: 'CMKT-01'
        items:
          description: 'Item Inventory Details'
          type: array
          items:
            $ref: '#/components/schemas/ItemInventoryDetails'
    
    ItemInventoryDetails:
      description: 'Details for an item within a Location'
      type: object
      required:
        - item
        - itemTraceability
        - locationOnHand
        - location
      properties:
        item:
          description: 'Corresponding Item number in SyteLine'
          type: string
          example: '1P14480'
        itemTraceability:
          $ref: '#/components/schemas/ItemTraceabilityDetail'
        locationOnHand:
          description: 'On Hand quantity for the Item in the specific Location'
          type: integer
          example: 53
        location:
          description: 'The name of the location'
          type: string
          example: 'Stock'
          
    ItemTraceabilityDetail:
      description: 'Item Traceability Details'
      type: object
      required:
        - lotTracked
        - serialTracked
        - lots
        - serialNumbers
      properties:
        lotTracked:
          description: 'Is the Item Lot Tracked in SyteLine?'
          type: boolean
          example: false
        serialTracked:
          description: 'Is the Item Serial Tracked in SyteLine?'
          type: boolean
          example: false
        serialNumbers:
          description: 'List of Serial Numbers'
          type: array
          items:
            $ref: '#/components/schemas/ItemSerializedTraceabilityDetail'
        lots:
          description: 'List of Lots'
          type: array
          items:
            $ref: '#/components/schemas/ItemLotTraceabilityDetail'
    
    ItemSerializedTraceabilityDetail:
      description: 'Serialized item traceability details'
      type: object
      required:
        - serialNumber
        - materialItems
      properties:
        serialNumber:
          description: 'Serial number for the item'
          type: string
          example: '1904VAS001-2'
        materialItems:
          description: 'Material issued directly to the associated serial number.'
          type: array
          items:
            $ref: '#/components/schemas/JobMaterialItemDetail'
    ItemLotTraceabilityDetail:
      description: 'Serialized item traceability details'
      type: object
      required:
        - lot
        - expirationDate
        - quantity
      properties:
        lot:
          description: 'Lot for the Item'
          type: string
          example: 'AB123'
        expirationDate:
          description: 'Expiration Date, if available'
          type: string
          example: '1/1/2020'
        quantity:
          description: 'Quantity of Lot for the Item'
          type: number
          example: 50.000

    JobOperationDetail:
      description: 'Job Operation Item Details'
      type: object
      required:
        - workCenter
        - laborHours
        - machineHours
        - setupHours
        - setupResourceGroup
        - operationNumber
      properties:
        workCenter:
          description: 'Work Center'
          type: string
          example: 'VAS'
        laborHours:
          description: 'Labor Hours'
          type: number
          example: 0.25
        machineHours:
          description: 'Machine Hours'
          type: number
          example: 1.25
        setupHours:
          description: 'Setup Hours'
          type: number
          example: 0.5
        setupResourceGroup:
          description: 'Setup Resource Group'
          type: string
          example: '6100'
        operationNumber:
          description: 'Operation Number'
          type: number
          example: 10

    FailureResponse:
      description: 'Generic Failure Response'
      type: object
      required:
        - correlationId
        - occurredAt
        - message
        - service
        - userNotification
      properties:
        correlationId:
          description: 'Correlating transaction id, if applicable.'
          type: string
          example: '924492df-8d94-4d05-a05a-07c0e35ae0f9'
        occurredAt:
          description: 'ISO-8601 Formated date'
          type: string
          example: '2018-09-26T17:18:21.554333+00:00'
        message:
          description: 'Describes the failure.'
          type: string
          example: 'Unable to authenticate the user'
        service:
          description: 'Describes the responding service.'
          type: string
          example: 'SyteLEAN Web Service'
        userNotification:
          description: 'If the Web Browser should inform the User of the error or not'
          type: boolean
          example: false