openapi: 3.0.0
# Added by API Auto Mocking Plugin
servers:
  - description: Mockup APIs
    url: https://virtserver.swaggerhub.com/finexuscard/ekyc-nrc/1.1.0
  - description: Production Server
    url: https://api.finexuscards.com/nrc
  - description: UAT Server
    url: https://api.finexuscards.com/uat/nrc
  - description: SIT Server
    url: https://api.finexuscards.com/sit/nrc
  - description: Development Server
    url: https://api.finexuscards.com/dev/nrc  
info:
  description: Negative Reference Check is part of the Finexus's comprehensive e-KYC web services which 
  version: "1.1.0"
  title: OPENAPI specificaiton for Negative Reference Check (NRC) Web Services REST APIs
  contact:
    email: ekyc-apis@finexusgroup.com
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html' 
tags:
  - name: Person
    description: Reference check services related to a person
  - name: Organisation
    description: Reference check services related to an organisation    
paths:
  /personrefcheck:
    get:
      tags:
        - Person
      description: To get the neqative reference report for a specific checkpersonref POST request submitted previously
      operationId: getPersonNRef
      parameters:
        - $ref: '#/components/parameters/SourceSystem'
        - $ref: '#/components/parameters/SourceReference'
        - $ref: '#/components/parameters/ApiKey'
        - $ref: '#/components/parameters/ApiVersion'
        - $ref: '#/components/parameters/GetReferenceID'
        - $ref: '#/components/parameters/Language'
      responses:
        '200':
          $ref: '#/components/responses/PersonRefCheckGetResponse'
        '400':
          description: Bad input request
        '401':
          description: Unauthorised access - unable to authenticate source system
        '405':
          description: Forbidden access - source system is not authorised to perform an action
    post:
      tags:
        - Person
      operationId: checkpersonNRef
      description: Request check a person for any negative reference report from the various official Saction and Blacklist
      responses:
        '200':
          $ref: '#/components/responses/PersonRefCheckPostResponse'
        '400':
          description: Bad input request
        '401':
          description: Unauthorised access - unable to authenticate source system
        '405':
          description: Forbidden access - source system is not authorised to perform an action
      requestBody:
        description: Request to check any negative reference for a person
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PersonRefCheckPostRequest'
              
  /orgnrefcheck:
    get:
      tags:
        - Organisation
      description: To get the neqative reference report for a specific Organisation (orgnrefcheck) POST request submitted previously
      operationId: getOrgnNRCResponse
      parameters:
        - $ref: '#/components/parameters/SourceSystem'
        - $ref: '#/components/parameters/SourceReference'
        - $ref: '#/components/parameters/ApiKey'
        - $ref: '#/components/parameters/ApiVersion'
        - $ref: '#/components/parameters/GetReferenceID'
        - $ref: '#/components/parameters/Language'
      responses:
        '200':
          $ref: '#/components/responses/OrgnRefCheckGetResponse'
        '400':
          description: Bad input request
        '401':
          description: Unauthorised access - unable to authenticate source system
        '405':
          description: Forbidden access - source system is not authorised to perform an action
    post:
      tags:
        - Organisation
      operationId: checkOrgnNRC
      description: Request to evaluate the admission of an organisatoin as a customer in accordance to CDD rules stipulated by BPO Risk Team
      responses:
        '200':
          $ref: '#/components/responses/OrgnRefCheckPostResponse'
        '400':
          description: Bad input request
        '401':
          description: Unauthorised access - unable to authenticate source system
        '405':
          description: Forbidden access - source system is not authorised to perform an action
      requestBody:
        description: Request to check any negative reference for an organisation    
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrgnRefCheckPostRequest'
  
  /blacklist:
    get:
      tags:
        - Person
        - Organisation
      description: To query a specific entity in the blacklist repository 
      operationId: getBlackListByID
      parameters:
        - $ref: '#/components/parameters/SourceSystem'
        - $ref: '#/components/parameters/SourceReference'
        - $ref: '#/components/parameters/ApiKey'
        - $ref: '#/components/parameters/ApiVersion'
        - $ref: '#/components/parameters/Language'
        - $ref: '#/components/parameters/EMoneyID'
        - $ref: '#/components/parameters/EntityType' # Type of Entity i.e. 
        - $ref: '#/components/parameters/IDDocType' # Entity's ID Type
        - $ref: '#/components/parameters/IDNo' 
      responses:
        '200':
          $ref: '#/components/responses/BlackListGetResponse'
        '400':
          description: Bad input request
        '401':
          description: Unauthorised access - unable to authenticate source system
        '405':
          description: Forbidden access - source system is not authorised to perform an action
    delete:
      tags:
        - Person
        - Organisation
      description: To query a specific entity in the blacklist repository 
      operationId: deleteBlackListByID
      parameters:
        - $ref: '#/components/parameters/SourceSystem'
        - $ref: '#/components/parameters/SourceReference'
        - $ref: '#/components/parameters/ApiKey'
        - $ref: '#/components/parameters/ApiVersion'
        - $ref: '#/components/parameters/Language'
        - $ref: '#/components/parameters/EMoneyID'
        - $ref: '#/components/parameters/EntityType' # Type of Entity i.e. 
        - $ref: '#/components/parameters/IDDocType' # Entity's ID Type
        - $ref: '#/components/parameters/IDNo' # ID No for entity in accordance the ID document
 
      responses:
        '200':
          $ref: '#/components/responses/StdStatusResponse'
        '400':
          description: Bad input request
        '401':
          description: Unauthorised access - unable to authenticate source system
        '405':
          description: Forbidden access - source system is not authorised to perform an action
    post:
      tags:
        - Person
        - Organisation
      operationId: addBlackList
      description: Request to add entity to the BlackList repository
      responses:
        '200':
          $ref: '#/components/responses/StdStatusResponse'
        '400':
          description: Bad input request
        '401':
          description: Unauthorised access - unable to authenticate source system
        '405':
          description: Forbidden access - source system is not authorised to perform an action
      requestBody:
        description: Request to evaluate a person admission as customer in accordance to CDD rules
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BlacklistPostPutRequest'

    put:
      tags:
        - Person
        - Organisation
      operationId: updateBlackList
      description: Request to update an entity in the Blacklist Repository
      responses:
        '200':
          $ref: '#/components/responses/StdStatusResponse'
        '400':
          description: Bad input request
        '401':
          description: Unauthorised access - unable to authenticate source system
        '405':
          description: Forbidden access - source system is not authorised to perform an action
      requestBody:
        description: Request to evaluate a person admission as customer in accordance to CDD rules
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BlacklistPostPutRequest'

components:

  parameters:
    
    TelephoneNo:
      in: query
      name: contactno
      description: Telephone contact number
      schema:
        type: string
        minLength: 6
        maxLength: 12
        example: 0155555555
    SourceSystem:
      in: query
      name: source
      required: true
      description: ID of the source system for the query request
      schema:
        type: string
        minLength: 4
        maxLength: 32
        example: CARDWORKS
        
    SourceReference:
      in: query
      name: reference
      required: true
      description: The unique reference used by the source system when iniate the request
      schema:
        type: string
        minLength: 8
        maxLength: 128
        example: 2003160192931
        
    ApiVersion:
      in: query
      name: apiVersion
      description: Specify the version for the API request
      schema:
        type: string
        minLength: 1
        maxLength: 8
        example: 1.0 
        
    ApiKey:
      in: query
      name: apiKey
      description : API-key assigned by e-KYC for access by source system
      schema:  
        type: string
        minLength: 8
        maxLength: 64
        example: 123-KEJRU-001

    Language:
      in: query
      name: language
      description: Specify the language of the message text in the response message. Currently supports only English and Malay languages 
      required: false
      schema:
        type: string
        enum: [en, ms]
        default: en
        example: en
        
    DateofBirth:
        in: query
        name: dob
        description: The person's date of birth 
        required: true
        schema:
          type: string
          format: date
          example: 2010-01-25 
          
    GetReferenceID:
      in: query
      name: referenceID
      required: true
      description: The reference ID of an earlier submitted request to retrieve the response 
      schema:
        type: string
        minLength: 8
        maxLength: 128
        example: "2003160192931"  
        
    EMoneyID:
      in: query
      name: emoney
      description: This field contain the code of our eMoney customers which are using our system to maintain their blacklist. Example of such customers -Finexus Cards, UMobile, MerchantTrade, etc 
      schema:
        type: string
        enum: [FNXCARDS, UMOBILE, MERCHANTTRADE]
        minLength: 6
        maxLength: 32
        example: FNXCARDS
  
    CountryCode:
      in: query
      name: countrycode
      description: Country Code is accordance to the ISO 3166-1 Alpha 2 codes
      schema:
        type: string
        minLength: 2
        maxLength: 2
        example: "SG"
       
    EntityType:
      in: query
      name: type
      description: The type of entity for this blacklist entity, which is either P for person and O for organisation 
      schema:
        type: string
        enum: [P, O]  
        example: P

    IDDocType:
      in: query
      name: iddoctype
      description: The type of ID document for the entity  
      schema:
        type: string
        enum: [MYKAD, PASSPORT, UNID, BCREGNO]  # For person use MyKad, Passport or UNID. For organsiation use BCREGNO
        example: MYKAD

    IDNo:
      in: query
      name: iddno
      description: The type of ID document for the entity  
      schema:
        type: string
        minLength: 4
        maxLength: 64        
        example: "683904-J"   
  
    EntityName:
      in: query
      name: name
      description: The full name of the entity as in ID document  
      schema:
        type: string
        minLength: 2
        maxLength: 128
        example: Saraj Hagani
        
    CWCustRefNo:
      in: query
      name: custrefid
      description: This is the CardWorks' Customer Reference ID
      schema:
        type: string
        minLength: 2
        maxLength: 64
        example: 2019040102929
        
    BlackListReasonCode:
      in: query
      name: reasoncode
      description: The reason in code for blacklisting this entity
      schema:
        type: string
        example: FRAUD

    BlackListReasonText:
      in: query
      name: reason
      description: The reason for blacklisting this entity
      schema:
        type: string
        example: Taken legal action on entity for fraudulent practise

    PersonGender:
      in: query
      name: gender
      required: true
      description: The person's gender
      schema:
       type: string
       enum: [M, F]
       example: M
       default: M
  
    CardScheme:
      in: query
      name: cardscheme
      required: true
      description: The name of the card scheme's blacklist to check for an organisation
      schema:
       type: string
       enum: [ALL, VISA, MASTER]
       example: "VISA"
       default: "VISA"
       
  schemas:

    SourceSystemInfo:
      type: object
      required:
        - source
        - reference
        - apiKey
        - apiVersion
      properties:
        source:
          type: string
          description: ID of the source system for the query request
          minLength: 4
          maxLength: 32
          example: CARDWORKS
        reference:
          type: string
          description: The unique reference used by the source system when iniate the request
          minLength: 8
          maxLength: 128
          example: 2003160192931
        apiVersion:
          description: Specify the version for the API request
          type: string
          minLength: 1
          maxLength: 8
          example: 1.0 
        apiKey :
          description : API-key assigned by e-KYC for access by source system
          type: string
          minLength: 8
          maxLength: 64
          example: 123-KEJRU-001
        userid:
          description: This is the user id of the person who perform the action. This is needed when the request involve modification of the e-KYC respository such as Blacklist. 
          type: string
          minLength: 8
          maxLength: 64
          example: mkchan
        usertoken:
           type: string
           description: This is security token issued by SecurityWorks which can be used to verify the user id. After verification of the userid then the system will determine the user has the authority to perform the requested action.
           minLength: 8
           maxLength: 64
           example: APPOKJJSIDJ1234
    InteractionMode:
      type: object
      required:
        - mode
      properties:
        mode:
         type: string
         description: This flag indicates that the caller will wait for the response synchronously(SYNC) or asynchronously. For synchronous call, the response will be returned with status 200. For asynchronous call, the response will return immediately once request body has been validated with status 201. 
         enum: [SYNC, ASYNC]
         example: SYNC
         default: SYMC
        callbackURL:
          type: string
          description: This is the callbacl URL provided by Source System for AIV to update the status of each request with asynchronous interaction mode
          minLength: 3
          maxLength: 2000
          format: uri
          example: ""   
          
    PersonName:
      type: object
      required:
        - fullName
      properties:
        fullName:
          type: string
          minLength: 2
          maxLength: 120
          example: "John Smith"
        givenName:
          type: string
          minLength: 8
          maxLength: 120
          example: "John"
        familyName:
          type: string
          minLength: 8
          maxLength: 120
          example: "Smith"
        aliases:
          type: array
          items:
            type: string
            minLength: 8
            maxLength: 120
            example: "Johnny Smith"
    
    PersonIDdocInfo:
      type: object
      required:
        - iddocType
        - iddocNo
        - issuedbyCountry
      properties:
        iddocType:
          type: string
          description: To identify the type of ID document associated with the person
          enum: [MYKAD, PASSPORT, UNID]
          example: MYKAD
        iddocNo:
          type: string
          description: To ID document's identifier
          maxLength: 64
        issuedbyCountry:
          description: The value follows ISO3166-1 Alpha 2 country codes. For ID document issued by United Nation, the value shall be "UN"'
          type: string
          minLength: 2
          maxLength: 2
          example: "SG"
        issuedDate:
          type: string
          format: date
          description: The issue date of the ID document
          example: 2016-03-15
        expiryDate:
          type: string
          format: date
          description: The expiry date of the ID document
          example: 2021-03-15
        iddocImage:
          type: string
          format: base64
          description: The image of the person's ID document in JPEG format
          example: 9103789273888427328378238
          

    Address:      
      type: object
      required:
        - addrLine1
        - city
        - state
        - country
        - postcode
      properties:
        addrLine1:
          type: string
          description: 1st Line of the Address
          minLength: 8
          maxLength: 40
          example: "No 1 Jalan Manis"
        addrLine2:
          type: string
          description: 2nd Line of the Address
          maxLength: 40
          example: "Taman Madu"
        addrLine3:
          type: string
          description: 3rd Line of the Address
          maxLength: 40
          example: ""
        city:
          type: string
          description: Name of the City
          maxLength: 128
          example: "Kuala Lumpur"
        state:
          type: string
          description: Name of the State
          maxLength: 64
          example: "Selangor"
        country:
          description: The value follows ISO3166-1 Alpha 2 country codes. 
          type: string
          minLength: 2
          maxLength: 2
          example: "MY"
        postcode:
          type: string
          description: Postal Code
          maxLength: 16
          example: "50200"
    
    EmploymentDetail:
      type: object
      required:
        - position
        - employer
        - duration
      properties:
        position:
          description: Position held by the person with the employer
          type: string
          minLength: 4
          maxLength: 64
          example: Engineer
        employer: 
          description: The name of the company where the person is employed
          type: string
          minLength: 4
          maxLength: 128
          example: "Handsome Profits Sdn Bhd"
        duration:
          description: The length of time in years where person has worked with the emploer
          type: number
          example: 2.5


    PersonRefReport:
      type: object
      description: The section of response provides details of the result check against various negative reference repository (e.g. UN Sanction, OFAC Sanction, BNM, KDN, MasterCard, Visa, Finexus cards' blacklist)
      required:
        - totalmatch
      properties:
        totalmatch:
          description: Indicate the number of negative reference matched individuals
          type: number
          example: 1
        sdnlist:
          description: List of SDNs matched by NRC
          type: array
          items:
              $ref: '#/components/schemas/MatchedPersonSDN' 




    OrgnRefReport:
      type: object
      description: The section of response provides details of the result check against various negative reference repository (e.g. UN Sanction, OFAC Sanction, BNM, KDN, MasterCard, Visa, Finexus cards' blacklist)
      required:
        - totalmatch
      properties:
        totalmatch:
          description: Indicate the number of negative reference matched individuals
          type: number
          example: 1
        sdnlist:
          description: List of SDNs matched by NRC
          type: array
          items:
              $ref: '#/components/schemas/MatchedOrgnSDN'

    OverallPersonRefReport:
      type: object
      description: This report combine the person's negative reference reports with the employer's report
      required:
        - personreport
      properties:
        person:
          $ref: '#/components/schemas/PersonRefReport'
        employer:
          $ref: '#/components/schemas/OrgnRefReport'
          
    MatchedPersonSDN:
      type: object
      description: Detail of the SDN matched with person's info
      required:
        - nationality
        - idno
        - name
        - gender
        - yearofbirth
      properties:
        nationality:
          type: object
          description: Show the values for Nationality between Applicant and SDN
          required:
          - applicant
          - sdn
          - result
          properties:
            applicant:
              type: string
              example: "SG"
            sdn:
              type: string
              example: "SG"
            result:
              type: string
              enum: [Exact, Partial, NoMatch]
              example: Exact
        idno:
          type: object
          description: Show the values for ID Document No between Applicant and SDN
          required:
          - applicant
          - sdn
          - result
          properties:
            applicant:
              type: string
              example: "A1923949"
            sdn:
              type: string
              example: ""
            result:
              type: string
              enum: [Exact, Partial, NoMatch]
              example: NoMatch
        name:
          type: object
          description: Show the values for Names between Applicant and SDN
          required:
          - applicant
          - sdn
          - result
          properties:
            applicant:
              type: string
              example: "John Smith"
            sdn:
              type: string
              example: "John M. Smith"
            result:
              type: string
              enum: [Exact, Partial, NoMatch]
              example: Partial
        gender:
          type: object
          description: Show the values for Gender between Applicant and SDN
          required:
          - applicant
          - sdn
          - result
          properties:
            applicant:
              type: string
              example: "M"
            sdn:
              type: string
              example: "M"
            result:
              type: string
              enum: [Exact, Partial, NoMatch]
              example: Exact
        yearofbirth:
          type: object
          description: Show the values for Year of Birth between Applicant and SDN
          required:
          - applicant
          - sdn
          - result
          properties:
            applicant:
              type: string
              format: date
              example: "1999"
            sdn:
              type: string
              example: "1999"
            result:
              type: string
              enum: [Exact, Partial, NoMatch]
              example: Exact
        sdninfo:
          $ref: '#/components/schemas/SDNPersonDetail'

    
    MatchedOrgnSDN:
      type: object
      description: Detail of the SDN matched with organisation's info
      required:
        - countryofincorporation
        - idno
        - name
      properties:
        countryofincorporation:
          type: object
          description: Show the values for Country of Incorporation between Applicant and SDN
          required:
          - applicant
          - sdn
          - result
          properties:
            applicant:
              type: string
              example: "MY"
            sdn:
              type: string
              example: "MY"
            result:
              type: string
              enum: [Exact, Partial, NoMatch]
              example: Exact
        idno:
          type: object
          description: Show the values for ID Document No between Applicant and SDN
          required:
          - applicant
          - sdn
          - result
          properties:
            applicant:
              type: string
              example: "948649-V"
            sdn:
              type: string
              example: ""
            result:
              type: string
              enum: [Exact, Partial, NoMatch]
              example: NoMatch
        name:
          type: object
          description: Show the values for Names between Applicant and SDN
          required:
          - applicant
          - sdn
          - result
          properties:
            applicant:
              type: string
              example: "Berjaya Starbucks Coffee Company Sdn Bhd"
            sdn:
              type: string
              example: "Starbucks Malaysia"
            result:
              type: string
              enum: [Exact, Partial, NoMatch]
              example: Partial
        sdninfo:
          $ref: '#/components/schemas/SDNOrgnDetail'


    SDNPersonDetail:
      type: object
      description: This section provide details of all the field of the matched SDNs
      required:
      - authority
      - authorityid
      - program
      - name
      properties:
        authority:
          description: The authiorty which publish the Sanction List
          type: string
          maxLength: 16          
          enum: [OFAC, UNSC, BNM, KDN, BLACKLIST]
          example: OFAC
        authorityid:
          type: string
          format: number
          description: This authority's id for the SDN
          example: 4775
        program:
          description: The sanction program name
          type: string
          maxLength: 12
          example: "SDNT"
        name :
          type: string
          maxLength: 350          
          description: The name listed in the Sanction List
          example: "NASSER DAVID, Julio Cesar"
        dob: 
          type: string
          format : date
          example: 01 Nov 1940
        pob:
          description: The place of birth
          type: string
          maxLength: 64
          example: "Not Available"
        gender:
          description: Person's Gender which has the value of M-Male,F-Female and NA- Not Available
          type: string
          enum: [M,F, NA]
          example: "NA" # Not available
        iddoctype:
          description: The type of ID Document type which can be Passport, NRIC or Others
          type: string
          enum: [Passport, NRIC, Others, Not Available]
          example: "Passport"
        idno:
          description: The ID document reference no
          type: string
          example: "H130865"
        nationality:
          description: The nationality of the person
          type: string
          example: "Colombia"
        idissuedcountry:
          description: The ID document is issued which country
          type: string
          example: Colombia
        address:
          description: The address of the person
          type: string
          example: "3778  c/o INVERSIONES HOTELERAS DEL LITORAL LTDA, Barranquilla, Colombia"
        remark:
          description: Additional remark for the person
          type: string
          example: "DOB 01 Nov 1940; alt. DOB 01 Oct 1940; Cedula No. 3710619 (Colombia); Passport H130865 (Colombia)."

    SDNOrgnDetail:
      type: object
      description: This section provide details of all the field of the matched SDNs for Organisation
      required:
      - authority
      - authorityid
      - program
      - name
      properties:
        authority:
          description: The authiorty which publish the Sanction List
          type: string
          maxLength: 16          
          enum: [OFAC, UNSC, BNM, KDN, BLACKLIST]
          example: OFAC
        authorityid:
          type: string
          format: number
          description: This authority's id for the SDN
          example: 4775
        program:
          description: The sanction program name
          type: string
          maxLength: 12
          example: "SUDAN"
        name :
          type: string
          maxLength: 350          
          description: The name listed in the Sanction List
          example: "SUDANESE REAL ESTATE SERVICES COMPANY"
        iddoctype:
          description: The type of ID Document type which can be Passport, NRIC or Others
          type: string
          enum: [Passport, NRIC, Others, Not Available]
          example: "Not Avaialble"
        idno:
          description: The ID document reference no
          type: string
          example: "Not Available"
        countryofincorporation:
          description: The country of incorporation for the organisation
          type: string
          example: "Not Available"
        address:
          description: The address of the person
          type: string
          example: "3105 , Khartoum, Sudan"
        remark:
          description: Additional remark for the person
          type: string
          example: "Not Available"          

    StatusResponse:
      type: object
      required:
        - sourceinfo
        - responseID
        - status
      properties:
        sourceinfo:
          $ref: '#/components/schemas/SourceSystemInfo'
        responseID:
          type: string
          minLength: 4
          maxLength: 32          
          example: CW0200328010055
        status:
          type: string
          enum: [QUEUED SUCCESS FAIL]
          example: SUCCESS
        msgCode:
          type: string
          minLength: 4
          maxLength: 8          
          example: 0000
        msgText:
          type: string
          example: ""
    
    PersonRefCheckPostRequest:
      type: object
      required:
        - sourceInfo
        - interactionMode
        - applicantName
        - nationality
        - iddoc
        - dob
        - gender
      properties:
        sourceinfo:
          $ref: '#/components/schemas/SourceSystemInfo'
        interactionMode:
          $ref: '#/components/schemas/InteractionMode'
        language:
          $ref: '#/components/parameters/Language'
        applicantName:
          $ref: '#/components/schemas/PersonName'
        nationality:
          $ref: '#/components/parameters/CountryCode'
        iddoc:
          $ref:  '#/components/schemas/PersonIDdocInfo'
        dob:
          $ref: '#/components/parameters/DateofBirth'
        gender:
          $ref: '#/components/parameters/PersonGender'
        placeofbirth:
          $ref: '#/components/parameters/CountryCode'
        employment:
          $ref: '#/components/schemas/EmploymentDetail'

    Organisation:
      type: object
      required:
        - type
        - legalname
        - bizname
        - idno
        - pic
        - countryofincorporation
        - categorycode
        - address
      properties:
        type:
          description: The classification code of the organisation, e.g. sole proprietor, partnership, LLB, private limited company, publc compamy, foreign registered company. The code shall follow that of CCRIS
          type: string
          minLength: 4
          maxLength: 32
          example: PLC
        legalname:
          description: Name of the organsisation as in the official ID document
          type: string
          minLength: 4
          maxLength: 128
          example: "Berjaya Starbucks Coffee Company Sdn Bhd"
        bizname:
          description: The brand name under which the organisation operates
          type: string
          minLength: 4
          maxLength: 128
          example: "Starbucks Malaysia"
        idno:
          description: The organsiation's unique identifier in accordance to its supporting ID document
          type: string
          minLength: 4
          maxLength: 64
          example: "948649-V"
        pic:
          description: The name of the person-in-charge
          type: string
          minLength: 4
          maxLength: 64
          example: "Kelvin Tan Beng Seng"        
        countryofincorporation:
          description: The country which the company has been incorporated. It is coded in accordance to the ISO 3166-1 Alpha 2 codes
          type: string
          minLength: 2
          maxLength: 2
          example: "MY"        
        address:
          $ref: '#/components/schemas/Address'

    OrgnRefCheckPostRequest:
      type: object
      required:
        - sourceinfo
        - interactionMode
        - organisation
      properties:
        sourceinfo:
          $ref: '#/components/schemas/SourceSystemInfo'
        interactionMode:
          $ref: '#/components/schemas/InteractionMode'
        language:
          $ref: '#/components/parameters/Language'
        organisation:
          $ref: '#/components/schemas/Organisation'

    BlackListEntity:
      type: object
      description: The field layouts for each blacklist entity
      required:
      - emoneyid
      - entitytype
      - idtype
      - idno
      - name
      - nationality
      - cwrefid
      - reasoncode
      - reasontext
      properties:
        emoneyid:
           $ref: '#/components/parameters/EMoneyID'
        entitytype:
          $ref: '#/components/parameters/EntityType'  
        idtype:
           $ref: '#/components/parameters/IDDocType'
        idno:
           $ref: '#/components/parameters/IDNo'
        name:
           $ref: '#/components/parameters/EntityName'
        nationality:
           $ref:  '#/components/parameters/CountryCode'
        cwrefid:
           $ref:  '#/components/parameters/CWCustRefNo'         
        reasoncode:
           $ref:  '#/components/parameters/BlackListReasonCode'
        reasontext:
           $ref:  '#/components/parameters/BlackListReasonText'

    BlacklistPostPutRequest:
      type: object
      required:
        - sourceinfo
        - interactionMode
        - emoneyid
        - entitytype
        - idtype
        - idno
        - name
        - nationality
        - reasoncode
        - reasontext
      properties:
        sourceinfo:
          $ref: '#/components/schemas/SourceSystemInfo'
        interactionMode:
          $ref: '#/components/schemas/InteractionMode'
        language:
          $ref: '#/components/parameters/Language'
        emoneyid:
          $ref: '#/components/parameters/EMoneyID'
        enitytype:
          $ref: '#/components/parameters/EntityType'  
        idtype:
          $ref: '#/components/parameters/IDDocType'
        idno:
          $ref: '#/components/parameters/IDNo'
        name:
          $ref: '#/components/parameters/EntityName'
        nationality:
          $ref:  '#/components/parameters/CountryCode'
        cwrefid:
          $ref:  '#/components/parameters/CWCustRefNo'
        reasoncode:
          $ref:  '#/components/parameters/BlackListReasonCode'
        reasontext:
          $ref:  '#/components/parameters/BlackListReasonText'  
          

    CardSchemeBlacklistedSubject:
      type: object
      required:
        - legalname
        - bizname
        - idno
        - pic
        - address
        - date
      properties:
        legalname:
          description: Name of the organsisation as in the official ID document
          type: string
          minLength: 4
          maxLength: 128
          example: "Berjaya Starbucks Coffee Company Sdn Bhd"
        bizname:
          description: The brand name under which the organisation operates
          type: string
          minLength: 4
          maxLength: 128
          example: "Starbucks Malaysia"
        idno:
          description: The organsiation's unique identifier in accordance to its supporting ID document
          type: string
          minLength: 4
          maxLength: 64
          example: "948649-V"
        pic:
          description: The name of the person-in-charge
          type: string
          minLength: 4
          maxLength: 64
          example: "Kelvin Tan Beng Seng"        
        address:
          $ref: '#/components/schemas/Address'
        date:
          description: The date which the merchant has been blacklisted by the Card Scheme
          type: string
          format : date
          example: 2009-10-15
          
    CardSchemeBlacklistResult:
      type: object
      required:
        - matchednum
      properties:
        matchednum:
          description: No of matched blacklisted subjects return by card scheme
          type: string
          format: number
          example: 1
        blacklist:
          description: An array of blacklisted subjects which match the organisation we are checking return by the card scheme 
          type: array
          items:
             $ref: '#/components/schemas/CardSchemeBlacklistedSubject'


  responses:

    StdStatusResponse:
      description: Schema for standard response with Section1 schema
      content:
        application/json:
          schema:
            type: object
            properties:
              stdresponse:
                 $ref: '#/components/schemas/StatusResponse'
                 
    PersonRefCheckPostResponse:
      description: Schema for standard response for a personrefcheck POST request
      content:
        application/json:
          schema:
            type: object
            properties:
              status: # Get request Section 1 response 
                $ref: '#/components/schemas/StatusResponse'
              payload:
              # Result of a previous personrefcheck POST request
                $ref: '#/components/schemas/OverallPersonRefReport'
              
   
    PersonRefCheckGetResponse:
      description: Schema for standard response for a personrefcheck GET request
      content:
        application/json:
          schema:
            type: object
            properties:
              status:
                $ref: '#/components/schemas/StatusResponse'
              payload:
                $ref: '#/components/responses/PersonRefCheckPostResponse'
    
    OrgnRefCheckPostResponse:
      description: Schema for the response for a orgnrefcheck Post request
      content:
        application/json:
          schema:
            type: object
            properties:
              status: # Get request Section 1 response 
                $ref: '#/components/schemas/StatusResponse'
              payload: # Section 1 response of the previous post request  
                $ref: '#/components/schemas/OrgnRefReport'

    OrgnRefCheckGetResponse:
      description: Schema for standard response for a blacklist GET request
      content:
        application/json:
          schema:
            type: object
            properties:
              status:
                $ref: '#/components/schemas/StatusResponse'
              payload:
                $ref: '#/components/responses/OrgnRefCheckPostResponse'
                
    BlackListGetResponse:
      description: Schema for standard response for a blacklist GET request
      content:
        application/json:
          schema:
            type: object
            properties:
              status:
                $ref: '#/components/schemas/StatusResponse'
              payload:
                $ref: '#/components/schemas/BlackListEntity'

    CardSchemeBlacklistPostResponse:
      description: Schema for standard response for a cardschemeblacklist POST request
      content:
        application/json:
          schema:
            type: object
            properties:
              status:
                $ref: '#/components/schemas/StatusResponse'
              payload:
                $ref: '#/components/schemas/CardSchemeBlacklistResult'