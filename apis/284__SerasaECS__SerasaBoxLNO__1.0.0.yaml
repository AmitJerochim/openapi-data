openapi: 3.0.0
info:
  description: SerasaBox - Limpa Nome
  version: "1.0.0"
  title: SerasaBox - Limpa Nome
  termsOfService: urn:tos
  contact: {}
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0
tags:
  - name: agreements-controller
    description: Agreements Controller
  - name: delivery-sms-controller
    description: Delivery SMS Controller
  - name: offers-controller
    description: Offers Controller
paths:
  /v1/agreements:
    post:
      tags:
        - agreements-controller
      summary: Make Agreement
      operationId: makeUsingPOST
      requestBody:
        $ref: "#/components/requestBodies/MakeAgreementRequest"
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/Response"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      deprecated: true
  /v1/agreements/bankslip-pdf:
    post:
      tags:
        - agreements-controller
      summary: Get Bankslip in base64
      operationId: getBankSlipPdfFromLinkUsingPOST
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BankslipPdfRequest"
        description: bankslipPdfRequest
        required: true
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/ObjectResponsestring"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      deprecated: false
  "/v1/agreements/bankslip-pdf/{document}/{offerId}":
    get:
      tags:
        - agreements-controller
      summary: Get pdf bankslip
      operationId: getBankSlipPdfUsingGET
      parameters:
        - name: document
          in: path
          description: document
          required: true
          schema:
            type: string
        - name: offerId
          in: path
          description: offerId
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/ObjectResponsestring"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      deprecated: false
  "/v1/agreements/bankslip/{document}/{offerId}":
    get:
      tags:
        - agreements-controller
      summary: Get bankslip
      operationId: getBankSlipUsingGET
      parameters:
        - name: document
          in: path
          description: document
          required: true
          schema:
            type: string
        - name: offerId
          in: path
          description: offerId
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/BankSlip"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      deprecated: false
  "/v1/agreements/resume-print/{document}/{offerId}":
    get:
      tags:
        - agreements-controller
      summary: Get Resume print
      operationId: getResumePrintUsingGET
      parameters:
        - name: document
          in: path
          description: document
          required: true
          schema:
            type: string
        - name: offerId
          in: path
          description: offerId
          required: true
          schema:
            type: string
            format: uuid
        - name: present
          in: query
          required: false
          schema:
            type: boolean
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/ObjectResponsestring"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      deprecated: false
  "/v1/agreements/{document}":
    get:
      tags:
        - agreements-controller
      summary: Get all agreements
      operationId: getAllUsingGET
      parameters:
        - name: document
          in: path
          description: document
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/ObjectResponseListAgreement"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      deprecated: false
  "/v1/agreements/{document}/partners/{partnerKey}":
    get:
      tags:
        - agreements-controller
      summary: Get all agreements by partner key
      operationId: getAllByPartnerUsingGET
      parameters:
        - name: document
          in: path
          description: document
          required: true
          schema:
            type: string
        - name: partnerKey
          in: path
          description: partnerKey
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/ObjectResponseListAgreement"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      deprecated: false
  "/v1/agreements/{document}/{offerId}":
    get:
      tags:
        - agreements-controller
      summary: Get agreement
      operationId: getUsingGET
      parameters:
        - name: document
          in: path
          description: document
          required: true
          schema:
            type: string
        - name: offerId
          in: path
          description: offerId
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/Agreement"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      deprecated: false
  "/v1/offers/{document}":
    get:
      tags:
        - offers-controller
      summary: Get offers
      operationId: getUsingGET_1
      parameters:
        - name: document
          in: path
          description: document
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/Offers"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      deprecated: false
  "/v1/offers/{document}/partners/{partnerKey}/terms":
    get:
      tags:
        - offers-controller
      summary: Get offer detail
      operationId: getOfferDetailUsingGET
      parameters:
        - name: document
          in: path
          description: document
          required: true
          schema:
            type: string
        - name: partnerKey
          in: path
          description: partnerKey
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/Terms"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      deprecated: false
  "/v1/offers/{document}/stream":
    get:
      tags:
        - offers-controller
      summary: Get offers stream
      operationId: getOfferStreamAllUsingGET
      parameters:
        - name: document
          in: path
          description: document
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/OffersStreamAll"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      deprecated: false
  "/v1/offers/{document}/stream/{streamId}":
    get:
      tags:
        - offers-controller
      summary: Get offer stream detail
      operationId: getOfferStreamDetailUsingGET
      parameters:
        - name: document
          in: path
          description: document
          required: true
          schema:
            type: string
        - name: streamId
          in: path
          description: streamId
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/OffersStreamDetail"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      deprecated: false
  "/v1/offers/{document}/{offerId}":
    get:
      tags:
        - offers-controller
      summary: Get offer detail
      operationId: getOfferDetailUsingGET_1
      parameters:
        - name: document
          in: path
          description: document
          required: true
          schema:
            type: string
        - name: offerId
          in: path
          description: offerId
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/Offer"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      deprecated: false
  /v1/sms/bankslip:
    post:
      tags:
        - delivery-sms-controller
      summary: sendSMS
      operationId: sendSMSUsingPOST
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SMS"
        description: sms
        required: true
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/Response"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      deprecated: false
  /v2/agreements:
    post:
      tags:
        - agreements-controller
      summary: Make agreement
      operationId: makeUsingPOST_1
      requestBody:
        $ref: "#/components/requestBodies/MakeAgreementRequest"
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/RestLinkResponseOperationAgreementId"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      deprecated: false
  "/v2/agreements/operations/{id}/status":
    get:
      tags:
        - agreements-controller
      summary: Get agreement operations status
      operationId: statusUsingGET
      parameters:
        - name: id
          in: path
          description: id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/RestLinkMessageResponseAgreementStatus"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      deprecated: false
  "/v2/agreements/bankslip/{document}/{offerId}":
    get:
      tags:
        - agreements-controller
      summary: Get bankslip
      operationId: getBankSlipUsingGET_2
      parameters:
        - name: document
          in: path
          description: document
          required: true
          schema:
            type: string
        - name: offerId
          in: path
          description: offerId
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/BankSlipV2"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      deprecated: false
servers:
# Added by API Auto Mocking Plugin
  - url: https://apigw-sbox-hml.ecsbr.net/debts
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/SerasaECS/SerasaBoxLNO/1.0.0
components:
  requestBodies:
    MakeAgreementRequest:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/MakeAgreementRequest"
      description: makeAgreement
      required: true
  schemas:
    Agreement:
      type: object
      properties:
        cancel:
          $ref: "#/components/schemas/Cancel"
        cetAnnual:
          type: object
        createdAt:
          type: string
        currentInstalment:
          $ref: "#/components/schemas/CurrentInstalment"
        debts:
          type: array
          items:
            $ref: "#/components/schemas/Debt"
        debtsValue:
          type: number
          format: double
        disclaimer:
          $ref: "#/components/schemas/Disclaimer"
        discountPercentage:
          type: integer
          format: int32
        discountValue:
          type: number
          format: double
        friendlyId:
          type: string
        id:
          type: string
        instalmentCount:
          type: integer
          format: int32
        instalments:
          type: array
          items:
            $ref: "#/components/schemas/Instalment"
        interestPercentageMonth:
          type: object
        iofAnnual:
          type: object
        lastInstalmentDueDate:
          type: string
        partner:
          $ref: "#/components/schemas/Partner"
        status:
          $ref: "#/components/schemas/Status"
        total:
          type: number
          format: double
        totalWithoutInterest:
          type: object
        type:
          type: string
      title: Agreement
    AgreementStatus:
      type: object
      properties:
        status:
          type: string
          enum:
            - PENDING
            - DONE
            - ERROR
      title: AgreementStatus
    BankSlip:
      type: object
      properties:
        createdAt:
          type: string
        currentInstalment:
          $ref: "#/components/schemas/CurrentInstalment"
        disclaimer:
          $ref: "#/components/schemas/Disclaimer"
        friendlyId:
          type: object
        id:
          type: string
        instalmentCount:
          type: integer
          format: int32
        partner:
          $ref: "#/components/schemas/Partner"
        status:
          $ref: "#/components/schemas/Status"
        total:
          type: number
          format: double
        type:
          type: string
      title: BankSlip
    BankslipPdfRequest:
      type: object
      properties:
        link:
          type: string
      title: BankslipPdfRequest
    Cancel:
      type: object
      properties:
        active:
          type: boolean
        message:
          $ref: "#/components/schemas/Message"
        terms:
          type: string
      title: Cancel
    Chat:
      type: object
      properties:
        title:
          type: string
        url:
          type: string
      title: Chat
    Company:
      type: object
      properties:
        businessName:
          type: string
        id:
          type: string
      title: Company
    Contacts:
      type: object
      properties:
        chats:
          type: array
          items:
            $ref: "#/components/schemas/Chat"
        emails:
          type: array
          items:
            $ref: "#/components/schemas/Email"
        phones:
          type: array
          items:
            $ref: "#/components/schemas/Phone"
        sites:
          type: array
          items:
            $ref: "#/components/schemas/Site"
        supports:
          type: array
          items:
            $ref: "#/components/schemas/Support"
      title: Contacts
    CurrentInstalment:
      type: object
      properties:
        barCode:
          type: string
        cet:
          type: number
          format: double
        digitLine:
          type: string
        dueDate:
          type: string
        instalment:
          type: integer
          format: int32
        iof:
          type: number
          format: double
        link:
          type: string
        payday:
          type: object
        paymentAvailable:
          type: boolean
        status:
          $ref: "#/components/schemas/Status"
        total:
          type: number
          format: double
        value:
          type: number
          format: double
      title: CurrentInstalment
    Debt:
      type: object
      properties:
        company:
          $ref: "#/components/schemas/Company"
        companyOrigin:
          type: object
        contractNumber:
          type: string
        currentValue:
          type: number
          format: double
        dueDate:
          type: string
        id:
          type: string
        negativated:
          type: boolean
        negativatedDate:
          type: string
        negativatedValue:
          type: number
          format: double
        originalValue:
          type: number
          format: double
        type:
          type: string
      title: Debt
    Disclaimer:
      type: object
      properties:
        mensagem:
          type: string
        mensagemHTML:
          type: string
        type:
          type: string
      title: Disclaimer
    Email:
      type: object
      properties:
        address:
          type: string
        title:
          type: string
      title: Email
    Image:
      type: object
      properties:
        highResolution:
          type: string
        lowResolution:
          type: string
      title: Image
    Instalment:
      type: object
      properties:
        cetTotal:
          type: number
          format: double
        discountPercentage:
          type: integer
          format: int32
        discountValue:
          type: number
          format: double
        dueDate:
          type: array
          items:
            type: string
        id:
          type: string
        instalment:
          type: integer
          format: int32
        interestPercentageMonth:
          type: integer
          format: int32
        iofTotal:
          type: number
          format: double
        total:
          type: number
          format: double
        totalWithoutInterest:
          type: number
          format: double
        values:
          type: array
          items:
            $ref: "#/components/schemas/Value"
      title: Instalment
    Link:
      type: object
      properties:
        href:
          type: string
        rel:
          type: string
        type:
          type: string
      title: Link
    MakeAgreementRequest:
      type: object
      required:
        - cpf
        - offerId
      properties:
        cpf:
          type: string
        dueDate:
          type: string
          example: yyyy-MM-dd
        instalmentId:
          type: string
        offerId:
          type: string
          format: uuid
        partnerKey:
          type: string
      title: MakeAgreementRequest
    Message:
      type: object
      properties:
        description:
          type: string
        title:
          type: string
      title: Message
    ObjectResponseListAgreement:
      type: object
      properties:
        code:
          type: integer
          format: int32
        data:
          type: array
          items:
            $ref: "#/components/schemas/Agreement"
        message:
          type: string
        timestamp:
          type: string
          format: date-time
      title: ObjectResponseListAgreement
    ObjectResponsestring:
      type: object
      properties:
        code:
          type: integer
          format: int32
        data:
          type: string
        message:
          type: string
        timestamp:
          type: string
          format: date-time
      title: ObjectResponsestring
    Offer:
      type: object
      properties:
        atSigh:
          type: number
          format: double
        debtCurrentValues:
          type: number
          format: double
        debtNegativatedValues:
          type: number
          format: double
        debtOriginalValues:
          type: number
          format: double
        debts:
          type: array
          items:
            $ref: "#/components/schemas/Debt"
        discountPercentage:
          type: integer
          format: int32
        discountValue:
          type: number
          format: double
        hasInstalments:
          type: boolean
        id:
          type: string
        instalmentType:
          type: string
        instalments:
          type: array
          items:
            $ref: "#/components/schemas/Instalment"
        interest:
          type: number
          format: double
        maxInstalmentValue:
          type: integer
          format: int32
        maxInstalments:
          type: integer
          format: int32
        partner:
          $ref: "#/components/schemas/Partner"
      title: Offer
    Offers:
      type: object
      properties:
        hasNegativatedDebtsWithoutOffer:
          type: boolean
        offers:
          type: array
          items:
            $ref: "#/components/schemas/Offer"
      title: Offers
    OffersStreamAll:
      type: object
      properties:
        hasAgreements:
          type: boolean
        hasNegativatedDebtsWithoutOffer:
          type: boolean
        offers:
          type: array
          items:
            $ref: "#/components/schemas/Offer"
        stream:
          type: array
          items:
            type: string
      title: OffersStreamAll
    OffersStreamDetail:
      type: object
      properties:
        hasNegativatedDebtsWithoutOffer:
          type: boolean
        offers:
          type: array
          items:
            $ref: "#/components/schemas/Offer"
      title: OffersStreamDetail
    OperationAgreementId:
      type: object
      properties:
        id:
          type: string
          format: uuid
      title: OperationAgreementId
    Partner:
      type: object
      properties:
        contacts:
          $ref: "#/components/schemas/Contacts"
        disclaimer:
          type: string
        document:
          type: string
        image:
          $ref: "#/components/schemas/Image"
        key:
          type: string
        name:
          type: string
        priority:
          type: integer
          format: int32
        type:
          type: string
      title: Partner
    Phone:
      type: object
      properties:
        number:
          type: string
        title:
          type: string
        type:
          type: string
      title: Phone
    BankSlipV2:
      type: object
      properties:
        asynchronous:
          type: boolean
        bankslipTaskRetry:
          type: boolean
        createdAt:
          type: string
        currentInstalment:
          $ref: '#/definitions/CurrentInstalmentV2'
        debtsValue:
          type: number
          format: double
        disclaimer:
          $ref: '#/definitions/Disclaimer'
        discountValue:
          type: number
          format: double
        friendlyId:
          type: string
        id:
          type: string
          format: uuid
        instalmentCount:
          type: integer
          format: int32
        lastInstalmentDueDate:
          type: string
        partner:
          $ref: '#/definitions/Partner'
        status:
          $ref: '#/definitions/Status'
        total:
          type: number
          format: double
      title: BankSlipV2
    CurrentInstalmentV2:
      type: object
      properties:
        barCode:
          type: string
        cet:
          type: number
          format: double
        digitLine:
          type: string
        dueDate:
          type: string
        instalment:
          type: integer
          format: int32
        iof:
          type: number
          format: double
        link:
          type: string
        status:
          $ref: '#/definitions/Status'
        total:
          type: number
          format: double
        value:
          type: number
          format: double
      title: CurrentInstalmentV2
    Response:
      type: object
      properties:
        code:
          type: integer
          format: int32
        message:
          type: string
        timestamp:
          type: string
          format: date-time
      title: Response
    RestLinkMessageResponseAgreementStatus:
      type: object
      properties:
        data:
          $ref: "#/components/schemas/AgreementStatus"
        links:
          type: array
          items:
            $ref: "#/components/schemas/Link"
        message:
          type: string
      title: RestLinkMessageResponseAgreementStatus
    RestLinkResponseOperationAgreementId:
      type: object
      properties:
        data:
          $ref: "#/components/schemas/OperationAgreementId"
        links:
          type: array
          items:
            $ref: "#/components/schemas/Link"
      title: RestLinkResponseOperationAgreementId
    SMS:
      type: object
      properties:
        areaCode:
          type: integer
          format: int64
        barcode:
          type: string
        countryCode:
          type: integer
          format: int64
        date:
          type: string
          example: dd/MM
        numberPhone:
          type: integer
          format: int64
        product:
          type: string
        value:
          type: number
          format: double
      title: SMS
    Site:
      type: object
      properties:
        title:
          type: string
        url:
          type: string
      title: Site
    Status:
      type: object
      properties:
        key:
          type: string
        name:
          type: string
      title: Status
    Support:
      type: object
      properties:
        description:
          type: string
        title:
          type: string
      title: Support
    Term:
      type: object
      properties:
        term:
          type: string
        title:
          type: string
      title: Term
    Terms:
      type: object
      properties:
        acceptanceTerms:
          type: array
          items:
            $ref: "#/components/schemas/Term"
      title: Terms
    Value:
      type: object
      properties:
        cet:
          type: number
          format: double
        iof:
          type: number
          format: double
        total:
          type: number
          format: double
        value:
          type: number
          format: double
      title: Value
  securitySchemes:
    api_key:
      type: apiKey
      name: x-api-key
      in: header
    basicAuth:
      type: http
      scheme: basic
security:
- basicAuth: []
- api_key: []