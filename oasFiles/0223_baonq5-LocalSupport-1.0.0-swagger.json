{
  "openapi" : "3.0.0",
  "info" : {
    "version" : "1.0.0",
    "title" : "Cloud.V2.API.LocalSupport",
    "description" : "Ghi chú:<br/><ul><li>Các API update đối tượng hỗ trợ update từng field riêng lẻ.</li><li>API tạo đối tượng không có ràng buộc đặc biệt. Một số ràng buộc thông thường  được áp dụng là: thiếu các field bắt buộc, duplicate data.</li><li>Với API tạo đối tượng, các field không được khai báo thì giá trị mặc định là rỗng (không phải giá trị NULL)</li><li>Toàn bộ API đều có thể được gọi mà không cần xác thực (trừ API call_rating sẽ có document cụ thể từng API). </li><li>Với các API get list hoặc search, có thể dùng order_field và order_type ở phần query param để sort kết quả trả về. Thông tin chi tiết xem tại từng API cụ thể.</li><br/><br/><i>Cập nhật cuối: Thêm thiết kế sơ bộ API đánh giá chất lượng cuộc gọi (11/02/2020 15:17)</i>"
  },
  "servers" : [ {
    "description" : "SwaggerHub API Auto Mockingde",
    "url" : "https://virtserver.swaggerhub.com/baonq5/LocalSupport/1.0.0"
  }, {
    "description" : "Môi trường staging",
    "url" : "http://localsupport-v1:8080"
  } ],
  "tags" : [ {
    "name" : "customer_info",
    "description" : "Thông tin khách hàng"
  }, {
    "name" : "transaction",
    "description" : "Ghi nhận giao dịch"
  }, {
    "name" : "invoice_item",
    "description" : "Danh mục các item trong invoice"
  }, {
    "name" : "tenant_info",
    "description" : "Thông tin quản lí tenant"
  }, {
    "name" : "tenant_package",
    "description" : "Thông tin về package phần tổng đài và SupportTicket đang được sử dụng bởi tenant"
  }, {
    "name" : "tenant_public_number",
    "description" : "Thông tin về đầu số đang được sử dụng bởi tenant"
  }, {
    "name" : "tenant_supportticket_package",
    "description" : "[DECRAPTED] Thông tin về package SupportTicket đang được sử dụng bởi tenant"
  }, {
    "name" : "all",
    "description" : "Lấy toàn bộ thông tin liên quan đến tenant"
  }, {
    "name" : "call_rating",
    "description" : "Đánh giá chất lượng cuộc gọi"
  } ],
  "paths" : {
    "/optool/call_rating/tenant_id/{tenant_id}" : {
      "post" : {
        "tags" : [ "call_rating" ],
        "summary" : "Tạo đánh giá chất lượng cuộc gọi. Link gọi qua API gateway xem trong mô tả",
        "description" : "Tạo đánh giá chất lượng cuộc gọi. API được gọi qua API gateway và cần authentication. URL: apigw.321cs.vn/call_rating",
        "parameters" : [ {
          "name" : "tenant_id",
          "in" : "path",
          "description" : "tenant id",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "5d884f49bca30d00b90a9adc"
        } ],
        "security" : [ {
          "bearerAuth" : [ ]
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CallRating"
              },
              "example" : {
                "call_id" : "ieq33MBlds",
                "call_type" : "inbound",
                "call_from_number" : 101,
                "call_to_number" : 2.812345678E9,
                "call_date_epoch" : 1581406206357,
                "call_duration_ms" : 353956,
                "call_rating" : 4,
                "call_mos_average" : 4.1,
                "device_app_version" : "3.0.1",
                "device_os" : "Android",
                "device_os_version" : "8.0.1",
                "device_name" : "Samsung Galaxy Note 10",
                "device_network" : "Wifi",
                "device_network_external_ip" : "46.12.75.3",
                "device_network_provider" : "Mobifone"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "object",
                  "properties" : {
                    "code" : {
                      "example" : 1000
                    },
                    "data" : {
                      "$ref" : "#/components/schemas/CallRating"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/call_rating" : {
      "get" : {
        "tags" : [ "call_rating" ],
        "summary" : "Lấy danh sách đánh giá chất lượng cuộc gọi",
        "parameters" : [ {
          "name" : "page",
          "description" : "Trang cần lấy. Mặc định là 1 (trang đầu tiên ứng với data mới nhất)",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "integer"
          },
          "example" : 5
        }, {
          "name" : "page_size",
          "description" : "Kích thước trang cần lấy. Mặc định là 50",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "integer"
          },
          "example" : 3
        }, {
          "name" : "order_field",
          "description" : "Field cần sắp xếp trong kết quả trả về. API sẽ trả về lỗi nếu field vừa nhập không hợp lệ. Giá trị mặc định của order_field là id.",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          },
          "example" : "call_rating"
        }, {
          "name" : "order_type",
          "description" : "Cách sắp xếp tăng dần (asc) hoặc giảm dần (desc). API sẽ trả về lỗi nếu giá trị của order_type  không hợp lệ.",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string",
            "enum" : [ "asc", "desc" ]
          },
          "example" : "desc"
        }, {
          "name" : "search_field_name",
          "description" : "Tên field cần tìm",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          },
          "example" : "tenant_id"
        }, {
          "name" : "search_value",
          "description" : "Giá trị field cần tìm.",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          },
          "example" : "5d884f49bca30d00b90a9adc"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "page_number" : 5,
                    "page_size" : 3,
                    "total_items" : 1195,
                    "total_pages" : 399,
                    "has_next" : true,
                    "next_page" : 6,
                    "has_previous" : true,
                    "previous_page" : 4,
                    "total_data_in_page" : 3,
                    "get_from" : 12,
                    "get_to" : 15,
                    "detail" : [ {
                      "id" : 5,
                      "call_id" : "ieq33MBlds",
                      "tenant_id" : "5d884f49bca30d00b90a9adc",
                      "tenant_domain" : "cc11",
                      "call_type" : "inbound",
                      "call_from_number" : 101,
                      "call_to_number" : 2.812345678E9,
                      "hotline" : 2.811111111E9,
                      "call_date" : "2020-02-02 12:12:12",
                      "call_date_epoch" : 1581406206357,
                      "call_duration_ms" : 353956,
                      "call_rating" : 4,
                      "call_mos_average" : 4.1,
                      "modification_date" : "2018-11-20 06:44:04"
                    }, {
                      "id" : 6,
                      "call_id" : "kLEKSzvz3c",
                      "tenant_id" : "5d884f49bca30d00b90a9adc",
                      "tenant_domain" : "cc11",
                      "call_type" : "inbound",
                      "call_from_number" : 101,
                      "call_to_number" : 2.812345678E9,
                      "hotline" : 2.811111111E9,
                      "call_date" : "2020-02-02 12:12:12",
                      "call_date_epoch" : 1581406206357,
                      "call_duration_ms" : 353956,
                      "call_rating" : 4,
                      "call_mos_average" : 4.1,
                      "modification_date" : "2018-11-20 06:44:04"
                    }, {
                      "id" : 7,
                      "call_id" : "93FD0D0-ECDCFEHrE1wj6NKOAQIg3OdYs0AWDlCd5ogronisOebjrmxrCFx6TNsLbt8eexUKYABMnj",
                      "tenant_id" : "5d884f49bca30d00b90a9adc",
                      "tenant_domain" : "cc11",
                      "call_type" : "outbound",
                      "call_from_number" : 101,
                      "call_to_number" : 2.812345678E9,
                      "hotline" : 2.811111111E9,
                      "call_date" : "2020-02-02 12:12:12",
                      "call_date_epoch" : 1581406206357,
                      "call_duration_ms" : 353956,
                      "call_rating" : 4,
                      "call_mos_average" : 4.1,
                      "modification_date" : "2018-11-20 06:44:04"
                    } ]
                  }
                }
              }
            }
          }
        }
      },
      "post" : {
        "tags" : [ "call_rating" ],
        "summary" : "Tìm kiếm đánh giá chất lượng cuộc gọi",
        "description" : "Tìm chính xác: id, call_id, tenant_id, tenant_domain, call_type, call_from_number, call_to_number, hotline, device_app_version, device_os, device_os_version, device_name, device_network, device_network_external_ip, device_network_provider. Tìm theo khoảng [from,to]: call_rating, call_mos_average, call_date, call_date_epoch, call_duration_ms, creation_date, modification_date. Tìm dạng wildcard: (không có field nào thích hợp để tìm theo dạng wildcard)",
        "parameters" : [ {
          "name" : "page",
          "description" : "Trang cần lấy. Trang đầu tiên là 1.",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 1
        }, {
          "name" : "page_size",
          "description" : "Kích thước trang cần lấy",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 3
        }, {
          "name" : "order_field",
          "description" : "Field cần sắp xếp trong kết quả trả về. API sẽ trả về lỗi nếu field vừa nhập không hợp lệ. Giá trị mặc định của order_field là id.",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          },
          "example" : "id"
        }, {
          "name" : "order_type",
          "description" : "Cách sắp xếp tăng dần (asc) hoặc giảm dần (desc). API sẽ trả về lỗi nếu giá trị của order_type  không hợp lệ.",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string",
            "enum" : [ "asc", "desc" ]
          },
          "example" : "desc"
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "type" : "array",
                "items" : {
                  "oneOf" : [ {
                    "type" : "object",
                    "properties" : {
                      "field" : {
                        "type" : "string",
                        "enum" : [ "id", "call_id", "tenant_id", "tenant_domain", "call_type", "call_from_number", "call_to_number", "hotline", "device_app_version", "device_os", "device_os_version", "device_name", "device_network", "device_network_external_ip", "device_network_provider" ],
                        "description" : "Tên field cần thực hiện tìm kiếm chính xác",
                        "example" : "call_id"
                      },
                      "value" : {
                        "type" : "string",
                        "description" : "Tìm kiếm với giá trị chính xác.",
                        "example" : "baonq5"
                      }
                    }
                  }, {
                    "type" : "object",
                    "properties" : {
                      "field" : {
                        "type" : "string",
                        "enum" : [ "call_rating", "call_mos_average", "call_date", "call_date_epoch", "call_duration_ms", "creation_date", "modification_date" ],
                        "description" : "Tên field cần thực hiện tìm kiếm theo khoảng giá trị",
                        "example" : "amount"
                      },
                      "from" : {
                        "type" : "string",
                        "description" : "Giá trị chặn dưới",
                        "example" : 100000
                      },
                      "to" : {
                        "type" : "string",
                        "description" : "Giá trị chặn trên",
                        "example" : 200000
                      }
                    }
                  }, {
                    "type" : "object",
                    "properties" : {
                      "field" : {
                        "type" : "string",
                        "enum" : [ "khong_co_field_nao_thich_hop" ],
                        "description" : "Tên field cần thực hiện tìm kiếm theo dạng wildcard",
                        "example" : "note"
                      },
                      "from" : {
                        "type" : "string",
                        "description" : "Giá trị tìm kiếm",
                        "example" : "lorem isum"
                      }
                    }
                  } ]
                }
              },
              "example" : [ {
                "field" : "call_rating",
                "from" : 4,
                "to" : 5
              }, {
                "field" : "os_name",
                "value" : "Android"
              } ]
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "Successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "page_number" : 1,
                    "page_size" : 3,
                    "total_items" : 37,
                    "total_pages" : 13,
                    "has_next" : true,
                    "next_page" : 2,
                    "has_previous" : false,
                    "previous_page" : 1,
                    "total_data_in_page" : 3,
                    "get_from" : 0,
                    "get_to" : 3,
                    "detail" : [ {
                      "id" : 1939,
                      "transaction_code" : "5BD2F14E66",
                      "amount" : 100000,
                      "invoice_amount" : 0,
                      "currency" : "VND",
                      "method" : "Bank transfer",
                      "tenant_id" : "",
                      "invoice_id" : "",
                      "note" : "updating note from an example in Postman",
                      "creation_date" : 1540550990593,
                      "modify_date" : 1540551198823,
                      "modify_reason" : "a reason to modify this transaction",
                      "transaction_date" : 1539055384135,
                      "creator" : "baonq5",
                      "editor" : "baonq5",
                      "custom_data" : ""
                    }, {
                      "id" : 1936,
                      "transaction_code" : "5BD2D0C85C",
                      "amount" : 123456,
                      "invoice_amount" : 11792000,
                      "currency" : "USD",
                      "method" : "Bank transfer",
                      "tenant_id" : "5bd2c6d023840b00ba06758c",
                      "invoice_id" : "181026NKEZKB",
                      "note" : "This is a note test",
                      "creation_date" : 1540542664673,
                      "modify_date" : 1540550907431,
                      "modify_reason" : "",
                      "transaction_date" : 1540542664662,
                      "creator" : "baonq5",
                      "editor" : "baonq5",
                      "custom_data" : ""
                    }, {
                      "id" : 1924,
                      "transaction_code" : "5BD186C277",
                      "amount" : 100000,
                      "invoice_amount" : 0,
                      "currency" : "VND",
                      "method" : "",
                      "tenant_id" : "5bd1cff823840b00bc4f6e75",
                      "invoice_id" : "181025NKE3ZK",
                      "note" : "creating an example of transaction by Postman",
                      "creation_date" : 1540458178730,
                      "modify_date" : 1540476961475,
                      "modify_reason" : "",
                      "transaction_date" : 1539055384135,
                      "creator" : "baonq5",
                      "editor" : "baonq5",
                      "custom_data" : ""
                    } ]
                  }
                }
              }
            }
          }
        }
      }
    },
    "/feature" : {
      "get" : {
        "summary" : "Lấy danh sách feature của tenant (gọi qua API gateway)",
        "description" : "Lấy danh sách feature của tenant (gọi qua API gateway). URL: apigw.312cs.vn/tenants/feature",
        "tags" : [ "call_rating" ],
        "security" : [ {
          "bearerAuth" : [ ]
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "object",
                  "properties" : {
                    "code" : {
                      "example" : 1000
                    },
                    "data" : {
                      "type" : "object",
                      "properties" : {
                        "call_rating" : {
                          "type" : "boolean",
                          "description" : "Bật đánh giá chất lượng cuộc gọi",
                          "example" : true
                        },
                        "call_rating_points" : {
                          "type" : "integer",
                          "description" : "Thang điểm sử dụng để đánh giá",
                          "example" : 3
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/call_rating/call_id/{call_id}/" : {
      "put" : {
        "summary" : "Sửa đánh giá chất lượng cuộc gọi (chưa sử dụng)",
        "description" : "Sửa đánh giá chất lượng cuộc gọi. API được gọi qua API gateway và cần authentication.",
        "deprecated" : true,
        "tags" : [ "call_rating" ],
        "security" : [ {
          "bearerAuth" : [ ]
        } ],
        "parameters" : [ {
          "name" : "call_id",
          "in" : "path",
          "description" : "call_id ở dạng base64",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "aWVxMzNNQmxkcw=="
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "type" : "integer",
                "description" : "Đánh giá chất lượng cuộc gọi. Nếu không có đánh giá thì lưu là 0. Không tốt: 2. Hài lòng: 3. Tốt: 4",
                "minimum" : 0,
                "maximum" : 5,
                "example" : 4
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "object",
                  "properties" : {
                    "code" : {
                      "example" : 1000
                    },
                    "data" : {
                      "$ref" : "#/components/schemas/CallRating"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get" : {
        "tags" : [ "call_rating" ],
        "summary" : "Xem chi tiết đánh giá chất lượng cuộc gọi",
        "description" : "Xem chi tiết đánh giá chất lượng cuộc gọi",
        "parameters" : [ {
          "name" : "call_id",
          "in" : "path",
          "description" : "call_id ở dạng base64",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "aWVxMzNNQmxkcw=="
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "object",
                  "properties" : {
                    "code" : {
                      "example" : 1000
                    },
                    "data" : {
                      "$ref" : "#/components/schemas/CallRating"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "call_rating" ],
        "summary" : "Xóa đánh giá chất lượng cuộc gọi. (chưa sử dụng)",
        "description" : "Xóa đánh giá chất lượng cuộc gọi. API được gọi qua API gateway và cần authentication.",
        "deprecated" : true,
        "security" : [ {
          "bearerAuth" : [ ]
        } ],
        "parameters" : [ {
          "name" : "call_id",
          "in" : "path",
          "description" : "call_id ở dạng base64",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "aWVxMzNNQmxkcw=="
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "object",
                  "properties" : {
                    "code" : {
                      "example" : 1000
                    },
                    "data" : {
                      "$ref" : "#/components/schemas/CallRating"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/tenant/public_number" : {
      "post" : {
        "tags" : [ "tenant_public_number" ],
        "summary" : "Thêm số điện thoại mới",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/TenantId"
                }, {
                  "$ref" : "#/components/schemas/TenantPublicNumber"
                } ]
              },
              "example" : {
                "tenant_id" : "5bbdcbb8fc13ae2c75000078",
                "public_number" : 2.812345678E9
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 153,
                    "tenant_id" : "5bbdcbb8fc13ae2c75000078",
                    "public_number" : 2.812345678E9
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/tenant/public_number/tenant_id/{tenant_id}" : {
      "get" : {
        "tags" : [ "tenant_public_number" ],
        "summary" : "Lấy danh sách số điện thoại đang tích hợp vào tenant",
        "parameters" : [ {
          "name" : "tenant_id",
          "in" : "path",
          "description" : "tenant id",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "5bcd3da8f93d0f00bac385a6"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : [ {
                    "id" : 148,
                    "tenant_id" : "5bcd3da8f93d0f00bac385a6",
                    "public_number" : 1.9001139E7
                  }, {
                    "id" : 149,
                    "tenant_id" : "5bcd3da8f93d0f00bac385a6",
                    "public_number" : 2.367109339E9
                  }, {
                    "id" : 150,
                    "tenant_id" : "5bcd3da8f93d0f00bac385a6",
                    "public_number" : 2.367308768E9
                  }, {
                    "id" : 151,
                    "tenant_id" : "5bcd3da8f93d0f00bac385a6",
                    "public_number" : 1.9001117E7
                  }, {
                    "id" : 152,
                    "tenant_id" : "5bcd3da8f93d0f00bac385a6",
                    "public_number" : 1.682682578E9
                  } ]
                }
              }
            }
          }
        }
      }
    },
    "/optool/tenant/public_number/id/{id}" : {
      "get" : {
        "tags" : [ "tenant_public_number" ],
        "summary" : "Lấy số điện thoại theo id",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "id của số trong MySQL",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 150
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 150,
                    "tenant_id" : "5bcd3da8f93d0f00bac385a6",
                    "public_number" : 2.367308768E9
                  }
                }
              }
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "tenant_public_number" ],
        "summary" : "Xóa số điện thoại theo id",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "id của số trong MySQL",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 150
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : null
                }
              }
            }
          }
        }
      },
      "put" : {
        "tags" : [ "tenant_public_number" ],
        "summary" : "Cập nhật số điện thoại theo id",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "id của số trong MySQL",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : 1
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "example" : {
                "number_dest" : 2.812345678E9,
                "type" : "dest"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 1,
                    "tenant_id" : "5bbdcbb8fc13ae2c75000077",
                    "public_number" : 2.897266081E9,
                    "number_dest" : 2.812345678E9,
                    "type" : "dest",
                    "creation_date" : "2018-12-12 10:07:14",
                    "modify_date" : "2018-12-12 10:44:36"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/tenant/public_number/number/{number}" : {
      "delete" : {
        "tags" : [ "tenant_public_number" ],
        "summary" : "Thu hồi (xóa) số điện thoại",
        "parameters" : [ {
          "name" : "number",
          "in" : "path",
          "description" : "Số điện thoại cần xóa",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : 2.367308768E9
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : ""
                }
              }
            }
          }
        }
      },
      "put" : {
        "tags" : [ "tenant_public_number" ],
        "summary" : "Cập nhật số điện thoại theo số",
        "parameters" : [ {
          "name" : "number",
          "in" : "path",
          "description" : "Số điện thoại cần cập nhật",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : 2.897266081E9
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "example" : {
                "number_dest" : 2.812345678E9,
                "type" : "dest"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 1,
                    "tenant_id" : "5bbdcbb8fc13ae2c75000077",
                    "public_number" : 2.897266081E9,
                    "number_dest" : 2.812345678E9,
                    "type" : "dest",
                    "creation_date" : "2018-12-12 10:07:14",
                    "modify_date" : "2018-12-12 10:44:36"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/tenant/package" : {
      "post" : {
        "tags" : [ "tenant_package" ],
        "summary" : "Tạo package mới. Các field không khai báo sẽ được set giá trị mặc định là rỗng (không phải null).",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/TenantId"
                }, {
                  "$ref" : "#/components/schemas/TenantPackage"
                } ]
              },
              "example" : {
                "package_id" : "call-center-service-base-essential",
                "package_name" : "Dich vu Base Essential",
                "package_type" : "monthly",
                "tenant_id" : "59c8bd6f47e72100b9b2772b",
                "product_id" : "call-center-service-support-center-or-support-ticket"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 264,
                    "package_id" : "call-center-service-base-essential",
                    "package_name" : "Dich vu Base Essential",
                    "package_type" : "monthly",
                    "product_id" : "call-center-service-support-center-or-support-ticket",
                    "tenant_id" : "59c8bd6f47e72100b9b2772b",
                    "number_user" : 0,
                    "month_transaction_free" : 0,
                    "month_transaction_free_used" : 0,
                    "month_saving_data" : 0,
                    "creation_date" : "2018-10-22 15:45:41",
                    "modify_date" : "2018-10-22 15:45:41"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/tenant/package/id/{id}" : {
      "get" : {
        "tags" : [ "tenant_package" ],
        "summary" : "Lấy thông tin package theo id",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "id của package trong MySQL",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 264
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 264,
                    "package_id" : "call-center-service-base-essential",
                    "package_name" : "Dich vu Base Essential",
                    "package_type" : "monthly",
                    "product_id" : "call-center-service-support-center-or-support-ticket",
                    "tenant_id" : "59c8bd6f47e72100b9b2772b",
                    "number_user" : 0,
                    "month_transaction_free" : 0,
                    "month_transaction_free_used" : 0,
                    "month_saving_data" : 0,
                    "creation_date" : "2018-10-22 15:45:41",
                    "modify_date" : "2018-10-22 15:45:41"
                  }
                }
              }
            }
          }
        }
      },
      "put" : {
        "tags" : [ "tenant_package" ],
        "summary" : "Sửa thông tin package theo id (hỗ trợ update từng field riêng lẻ)",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "id của package trong MySQL",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 20
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/TenantPackage"
                } ]
              },
              "example" : {
                "month_transaction_free" : 100
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 20,
                    "package_id" : "call-center-service-base-enterprise-1900",
                    "package_name" : "Dich vu Base Eenterprise 1900",
                    "package_type" : "yearly",
                    "product_id" : "call-center-service-support-center-or-support-ticket",
                    "tenant_id" : "5bbdcbb8fc13ae2c75000079",
                    "number_user" : 80,
                    "month_transaction_free" : 100,
                    "month_transaction_free_used" : 16,
                    "month_saving_data" : 6,
                    "creation_date" : "2018-10-22 15:45:41",
                    "modify_date" : "2018-10-22 15:45:41"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/tenant/package/tenant_id/{tenant_id}" : {
      "get" : {
        "tags" : [ "tenant_package" ],
        "summary" : "Lấy các package đang được sử dụng bởi tenant theo tenant_id",
        "parameters" : [ {
          "name" : "tenant_id",
          "in" : "path",
          "description" : "tenant_id",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "5bcd3da8f93d0f00bac385a6"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : [ {
                    "id" : 242,
                    "package_id" : "call-center-service-base-ess-call18001900",
                    "package_name" : "Business Essentials – Call 1800/1900",
                    "package_type" : "monthly",
                    "product_id" : "call-center-service-support-center-or-support-ticket",
                    "tenant_id" : "5bcd3da8f93d0f00bac385a6",
                    "number_user" : 10,
                    "month_transaction_free" : 1500,
                    "month_transaction_free_used" : null,
                    "month_saving_data" : 1,
                    "creation_date" : "2018-10-22 15:45:41",
                    "modify_date" : "2018-10-22 15:45:41"
                  }, {
                    "id" : 243,
                    "package_id" : "call-center-service-call-prepaid-5m",
                    "package_name" : "Phí hỗ trợ khác",
                    "package_type" : "monthly",
                    "product_id" : "call-center-service-support-center-or-support-ticket",
                    "tenant_id" : "5bcd3da8f93d0f00bac385a6",
                    "number_user" : null,
                    "month_transaction_free" : null,
                    "month_transaction_free_used" : null,
                    "month_saving_data" : null,
                    "creation_date" : "2018-10-22 15:45:41",
                    "modify_date" : "2018-10-22 15:45:41"
                  } ]
                }
              }
            }
          }
        }
      }
    },
    "/optool/tenant/package/tenant_id/{tenant_id}/package_id/{package_id}" : {
      "put" : {
        "tags" : [ "tenant_package" ],
        "summary" : "Cập nhật package đang được sử dụng bởi một tenant (hỗ trợ update từng field riêng lẻ) theo tenant_id và package_id",
        "parameters" : [ {
          "name" : "tenant_id",
          "in" : "path",
          "description" : "tenant_id",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "5bbdcbb8fc13ae2c75000074"
        }, {
          "name" : "package_id",
          "in" : "path",
          "description" : "id của package cần cập nhật",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "call-center-service-base-essential"
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/TenantPackage"
                } ]
              },
              "example" : {
                "package_type" : "yearly"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 15,
                    "package_id" : "call-center-service-base-essential",
                    "package_name" : "Dich vu Base Essential",
                    "package_type" : "yearly",
                    "product_id" : "call-center-service-support-center-or-support-ticket",
                    "tenant_id" : "5bbdcbb8fc13ae2c75000074",
                    "number_user" : 40,
                    "month_transaction_free" : 77,
                    "month_transaction_free_used" : 51,
                    "month_saving_data" : 6,
                    "creation_date" : "2018-10-22 15:45:41",
                    "modify_date" : "2018-10-22 15:45:41"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/tenant/info" : {
      "post" : {
        "tags" : [ "tenant_info" ],
        "summary" : "Tạo tenant mới. Các field không khai báo sẽ được set giá trị mặc định là rỗng (không phải null).",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/TenantId"
                }, {
                  "$ref" : "#/components/schemas/TenantInfo"
                } ]
              },
              "example" : {
                "tenant_id" : "5bd17a0b35bf2300baa74463",
                "tenant_domain" : "clindeberg0.stg.cs.vn",
                "time_start" : "2017-08-09 07:14:42",
                "time_end" : "2018-06-29 19:41:45",
                "wallet_operation_fee" : 62,
                "wallet_operation_promotion" : 66,
                "wallet_operation_used" : 4,
                "wallet_provider_network_fee" : 77,
                "wallet_provider_network_promotion" : 56,
                "wallet_provider_network_used" : 15,
                "wallet_supportticket_fee" : 0,
                "wallet_supportticket_promotion" : 0,
                "wallet_supportticket_used" : 0
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 204,
                    "tenant_id" : "5bd17a0b35bf2300baa74463",
                    "tenant_domain" : "clindeberg0.stg.cs.vn",
                    "time_start" : "2017-08-09 07:14:42",
                    "time_end" : "2018-06-29 19:41:45",
                    "creation_date" : "2018-10-29 14:24:09",
                    "modify_date" : "2018-10-29 14:24:09",
                    "wallet_operation_fee" : 62,
                    "wallet_operation_promotion" : 66,
                    "wallet_operation_used" : 4,
                    "wallet_provider_network_fee" : 77,
                    "wallet_provider_network_promotion" : 56,
                    "wallet_provider_network_used" : 15,
                    "wallet_supportticket_fee" : 0,
                    "wallet_supportticket_promotion" : 0,
                    "wallet_supportticket_used" : 0
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/tenant/info/id/{id}" : {
      "get" : {
        "tags" : [ "tenant_info" ],
        "summary" : "Lấy thông tin tenant theo id",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "id của tenant trong MySQL",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 204
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 204,
                    "tenant_id" : "5bd17a0b35bf2300baa74463",
                    "tenant_domain" : "clindeberg0.stg.cs.vn",
                    "time_start" : "2017-08-09 07:14:42",
                    "time_end" : "2018-06-29 19:41:45",
                    "creation_date" : "2018-10-29 14:24:09",
                    "modify_date" : "2018-10-29 14:24:09",
                    "wallet_operation_fee" : 62,
                    "wallet_operation_promotion" : 66,
                    "wallet_operation_used" : 4,
                    "wallet_provider_network_fee" : 77,
                    "wallet_provider_network_promotion" : 56,
                    "wallet_provider_network_used" : 15,
                    "wallet_supportticket_fee" : 0,
                    "wallet_supportticket_promotion" : 0,
                    "wallet_supportticket_used" : 0
                  }
                }
              }
            }
          }
        }
      },
      "put" : {
        "tags" : [ "tenant_info" ],
        "summary" : "Sửa thông tin tenant theo id (hỗ trợ update từng field riêng lẻ)",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "id của tenant trong MySQL",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 204
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/TenantInfo"
                } ]
              },
              "example" : {
                "wallet_operation_fee" : 100,
                "wallet_provider_network_used" : 50,
                "tenant_domain" : "test235364.stg.cs.vn"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 204,
                    "tenant_id" : "5bd17a0b35bf2300baa74463",
                    "tenant_domain" : "test235364.stg.cs.vn",
                    "time_start" : "2017-08-09 07:14:42",
                    "time_end" : "2018-06-29 19:41:45",
                    "creation_date" : "2018-10-29 14:24:09",
                    "modify_date" : "2018-10-29 14:25:48",
                    "wallet_operation_fee" : 100,
                    "wallet_operation_promotion" : 66,
                    "wallet_operation_used" : 4,
                    "wallet_provider_network_fee" : 77,
                    "wallet_provider_network_promotion" : 56,
                    "wallet_provider_network_used" : 50,
                    "wallet_supportticket_fee" : 0,
                    "wallet_supportticket_promotion" : 0,
                    "wallet_supportticket_used" : 0
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/tenant/info/tenant_id/{tenant_id}" : {
      "get" : {
        "tags" : [ "tenant_info" ],
        "summary" : "Lấy thông tin tenant theo tenant_id",
        "parameters" : [ {
          "name" : "tenant_id",
          "in" : "path",
          "description" : "tenant_id",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "5bd17a0b35bf2300baa74463"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 204,
                    "tenant_id" : "5bd17a0b35bf2300baa74463",
                    "tenant_domain" : "clindeberg0.stg.cs.vn",
                    "time_start" : "2017-08-09 07:14:42",
                    "time_end" : "2018-06-29 19:41:45",
                    "creation_date" : "2018-10-29 14:24:09",
                    "modify_date" : "2018-10-29 14:24:09",
                    "wallet_operation_fee" : 62,
                    "wallet_operation_promotion" : 66,
                    "wallet_operation_used" : 4,
                    "wallet_provider_network_fee" : 77,
                    "wallet_provider_network_promotion" : 56,
                    "wallet_provider_network_used" : 15,
                    "wallet_supportticket_fee" : 0,
                    "wallet_supportticket_promotion" : 0,
                    "wallet_supportticket_used" : 0
                  }
                }
              }
            }
          }
        }
      },
      "put" : {
        "tags" : [ "tenant_info" ],
        "summary" : "Sửa thông tin tenant theo tenant_id (hỗ trợ update từng field riêng lẻ)",
        "parameters" : [ {
          "name" : "tenant_id",
          "in" : "path",
          "description" : "tenant_id",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "5bd17a0b35bf2300baa74463"
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/TenantInfo"
                } ]
              },
              "example" : {
                "wallet_operation_fee" : 100,
                "wallet_provider_network_used" : 50,
                "tenant_domain" : "test235364.stg.cs.vn"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 204,
                    "tenant_id" : "5bd17a0b35bf2300baa74463",
                    "tenant_domain" : "test235364.stg.cs.vn",
                    "time_start" : "2017-08-09 07:14:42",
                    "time_end" : "2018-06-29 19:41:45",
                    "creation_date" : "2018-10-29 14:24:09",
                    "modify_date" : "2018-10-29 14:26:14",
                    "wallet_operation_fee" : 100,
                    "wallet_operation_promotion" : 66,
                    "wallet_operation_used" : 4,
                    "wallet_provider_network_fee" : 77,
                    "wallet_provider_network_promotion" : 56,
                    "wallet_provider_network_used" : 50,
                    "wallet_supportticket_fee" : 0,
                    "wallet_supportticket_promotion" : 0,
                    "wallet_supportticket_used" : 0
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/transactions" : {
      "get" : {
        "tags" : [ "transaction" ],
        "summary" : "Lấy danh sách giao dịch (hỗ trợ pagination)",
        "parameters" : [ {
          "name" : "page",
          "description" : "Trang cần lấy",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 5
        }, {
          "name" : "page_size",
          "description" : "Kích thước trang cần lấy",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 3
        }, {
          "name" : "order_field",
          "description" : "Field cần sắp xếp trong kết quả trả về. API sẽ trả về lỗi nếu field vừa nhập không hợp lệ. Giá trị mặc định của order_field là id.",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          },
          "example" : "creation_date"
        }, {
          "name" : "order_type",
          "description" : "Cách sắp xếp tăng dần (asc) hoặc giảm dần (desc). API sẽ trả về lỗi nếu giá trị của order_type  không hợp lệ.",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string",
            "enum" : [ "asc", "desc" ]
          },
          "example" : "desc"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "page_number" : 5,
                    "page_size" : 3,
                    "total_items" : 1195,
                    "total_pages" : 399,
                    "has_next" : true,
                    "next_page" : 6,
                    "has_previous" : true,
                    "previous_page" : 4,
                    "total_data_in_page" : 3,
                    "get_from" : 12,
                    "get_to" : 15,
                    "detail" : [ {
                      "id" : 2006,
                      "transaction_code" : "5BDC09E973",
                      "amount" : 4180000,
                      "invoice_amount" : 4180000,
                      "currency" : "VND",
                      "method" : "CASH",
                      "tenant_id" : "5bdc098f35bf2300b967c941",
                      "invoice_id" : "181102BKABK3",
                      "note" : "test",
                      "creation_date" : 1541147113312,
                      "modify_date" : 1541147127064,
                      "modify_reason" : "",
                      "transaction_date" : 1541091600000,
                      "creator" : "thanhttn",
                      "editor" : "thanhttn",
                      "custom_data" : "",
                      "tenant_domain" : "phivanhanh.stgsip.cs.vn"
                    }, {
                      "id" : 2005,
                      "transaction_code" : "5BDBC9C454",
                      "amount" : 3960000,
                      "invoice_amount" : 3960000,
                      "currency" : "VND",
                      "method" : "BANK_TRANSFER",
                      "tenant_id" : "5bdbc92d35bf2300b967c93b",
                      "invoice_id" : "181102ZK15K9",
                      "note" : "",
                      "creation_date" : 1541130692977,
                      "modify_date" : 1541130701654,
                      "modify_reason" : "",
                      "transaction_date" : 1541091600000,
                      "creator" : "thuatnv",
                      "editor" : "thuatnv",
                      "custom_data" : "",
                      "tenant_domain" : "thuatnv212.stgsip.cs.vn"
                    }, {
                      "id" : 2004,
                      "transaction_code" : "5BD96DF973",
                      "amount" : 5060000,
                      "invoice_amount" : 5060000,
                      "currency" : "VND",
                      "method" : "CASH",
                      "tenant_id" : "5bd96dcc35bf2300b967c920",
                      "invoice_id" : "181031ZK15K9",
                      "note" : "",
                      "creation_date" : 1540976121578,
                      "modify_date" : 1540976129044,
                      "modify_reason" : "",
                      "transaction_date" : 1540141200000,
                      "creator" : "traitv",
                      "editor" : "traitv",
                      "custom_data" : "",
                      "tenant_domain" : "trai1554.stgsip.cs.vn"
                    } ]
                  }
                }
              }
            }
          }
        }
      },
      "post" : {
        "tags" : [ "transaction" ],
        "summary" : "Tạo giao dịch",
        "description" : "Các trường bắt buộc phải có&colon; amount, currency, creator, transaction_date và method. Các field không khai báo sẽ được set giá trị mặc định là rỗng (không phải null).",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/Transaction"
                } ]
              },
              "example" : {
                "amount" : 100000,
                "currency" : "VND",
                "transaction_date" : 1539055384135,
                "creator" : "baonq5",
                "note" : "creating an example of transaction by Postman",
                "method" : "Bank transfer"
              }
            }
          }
        },
        "responses" : {
          "405" : {
            "description" : "Invalid input"
          },
          "200" : {
            "description" : "Successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "allOf" : [ {
                    "$ref" : "#/components/schemas/Id"
                  }, {
                    "$ref" : "#/components/schemas/Transaction"
                  } ]
                },
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 1691,
                    "transaction_code" : "5BCD56A553",
                    "amount" : 100000,
                    "invoice_amount" : 0,
                    "currency" : "VND",
                    "method" : "Chuyển khoản",
                    "tenant_id" : "",
                    "invoice_id" : "",
                    "note" : "creating an example of transaction by Postman",
                    "creation_date" : 1540183717754,
                    "modify_date" : 1540183717754,
                    "modify_reason" : "",
                    "transaction_date" : 1538983209000,
                    "creator" : "baonq5",
                    "editor" : "baonq5",
                    "custom_data" : ""
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/transactions/id/{id}" : {
      "get" : {
        "tags" : [ "transaction" ],
        "summary" : "Lấy giao dịch theo ID",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "ID của giao dịch trong MySQL",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : 1939
        } ],
        "responses" : {
          "405" : {
            "description" : "Invalid input"
          },
          "404" : {
            "description" : "Transaction not found"
          },
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 1939,
                    "transaction_code" : "5BD2F14E66",
                    "amount" : 100000,
                    "invoice_amount" : 0,
                    "currency" : "VND",
                    "method" : "Bank transfer",
                    "tenant_id" : "",
                    "invoice_id" : "",
                    "note" : "creating an example of transaction by Postman",
                    "creation_date" : 1540550990593,
                    "modify_date" : 1540550990593,
                    "modify_reason" : "",
                    "transaction_date" : 1539055384135,
                    "creator" : "baonq5",
                    "editor" : "baonq5",
                    "custom_data" : ""
                  }
                }
              }
            }
          }
        }
      },
      "put" : {
        "tags" : [ "transaction" ],
        "summary" : "Sửa giao dịch theo ID (hỗ trợ update từng field riêng lẻ)",
        "parameters" : [ {
          "name" : "tenant_id",
          "in" : "path",
          "description" : "Tenant ID",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "id",
          "in" : "path",
          "description" : "ID của giao dịch trong MySQL",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/Transaction"
                } ]
              },
              "example" : {
                "editor" : "baonq5",
                "note" : "updating note from an example in Postman",
                "modify_reason" : "a reason to modify this transaction"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "Successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 1939,
                    "transaction_code" : "5BD2F14E66",
                    "amount" : 100000,
                    "invoice_amount" : 0,
                    "currency" : "VND",
                    "method" : "Bank transfer",
                    "tenant_id" : "",
                    "invoice_id" : "",
                    "note" : "updating note from an example in Postman",
                    "creation_date" : 1540550990593,
                    "modify_date" : 1540551058127,
                    "modify_reason" : "a reason to modify this transaction",
                    "transaction_date" : 1539055384135,
                    "creator" : "baonq5",
                    "editor" : "baonq5",
                    "custom_data" : ""
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/transactions/code/{code}" : {
      "get" : {
        "tags" : [ "transaction" ],
        "summary" : "Lấy giao dịch theo transaction_code",
        "parameters" : [ {
          "name" : "code",
          "in" : "path",
          "description" : "transaction_code của giao dịch",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "5BD2F14E66"
        } ],
        "responses" : {
          "405" : {
            "description" : "Invalid input"
          },
          "404" : {
            "description" : "Transaction not found"
          },
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 1939,
                    "transaction_code" : "5BD2F14E66",
                    "amount" : 100000,
                    "invoice_amount" : 0,
                    "currency" : "VND",
                    "method" : "Bank transfer",
                    "tenant_id" : "",
                    "invoice_id" : "",
                    "note" : "updating note from an example in Postman",
                    "creation_date" : 1540550990593,
                    "modify_date" : 1540551198823,
                    "modify_reason" : "a reason to modify this transaction",
                    "transaction_date" : 1539055384135,
                    "creator" : "baonq5",
                    "editor" : "baonq5",
                    "custom_data" : ""
                  }
                }
              }
            }
          }
        }
      },
      "put" : {
        "tags" : [ "transaction" ],
        "summary" : "Sửa giao dịch theo transaction code (hỗ trợ update từng field riêng lẻ)",
        "parameters" : [ {
          "name" : "code",
          "in" : "path",
          "description" : "Transaction code của giao dịch",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "5BCD56A553"
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/Transaction"
                } ]
              },
              "example" : {
                "editor" : "baonq5",
                "note" : "updating note from an example in Postman",
                "modify_reason" : "a reason to modify this transaction"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "Successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 1939,
                    "transaction_code" : "5BD2F14E66",
                    "amount" : 100000,
                    "invoice_amount" : 0,
                    "currency" : "VND",
                    "method" : "Bank transfer",
                    "tenant_id" : "",
                    "invoice_id" : "",
                    "note" : "updating note from an example in Postman",
                    "creation_date" : 1540550990593,
                    "modify_date" : 1540551453111,
                    "modify_reason" : "a reason to modify this transaction",
                    "transaction_date" : 1539055384135,
                    "creator" : "baonq5",
                    "editor" : "baonq5",
                    "custom_data" : ""
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/transactions/search" : {
      "post" : {
        "tags" : [ "transaction" ],
        "summary" : "Tìm giao dịch",
        "description" : "Tìm chính xác&colon; id, transaction_code, currency, tenant_id, invoice_id. Tìm theo khoảng [from,to]&colon; creation_date, modify_date, transaction_date, amount. Tìm dạng wildcard&colon; custom_data, note, method, modify_reason, creator, editor",
        "parameters" : [ {
          "name" : "page",
          "description" : "Trang cần lấy. Trang đầu tiên là 1.",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 1
        }, {
          "name" : "page_size",
          "description" : "Kích thước trang cần lấy",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 3
        }, {
          "name" : "order_field",
          "description" : "Field cần sắp xếp trong kết quả trả về. API sẽ trả về lỗi nếu field vừa nhập không hợp lệ. Giá trị mặc định của order_field là id.",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          },
          "example" : "id"
        }, {
          "name" : "order_type",
          "description" : "Cách sắp xếp tăng dần (asc) hoặc giảm dần (desc). API sẽ trả về lỗi nếu giá trị của order_type  không hợp lệ.",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string",
            "enum" : [ "asc", "desc" ]
          },
          "example" : "desc"
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "type" : "array",
                "items" : {
                  "oneOf" : [ {
                    "type" : "object",
                    "properties" : {
                      "field" : {
                        "type" : "string",
                        "enum" : [ "id", "currency", "tenant_id", "invoice_id" ],
                        "description" : "Loại tìm kiếm",
                        "example" : "creator"
                      },
                      "value" : {
                        "type" : "string",
                        "description" : "Loại tìm kiếm với giá trị chính xác. Hỗ trợ regex (hên xui :D)",
                        "example" : "baonq5"
                      }
                    }
                  }, {
                    "type" : "object",
                    "properties" : {
                      "field" : {
                        "type" : "string",
                        "enum" : [ "creation_date", "modify_date", "transaction_date", "amount" ],
                        "description" : "Loại tìm kiếm",
                        "example" : "amount"
                      },
                      "from" : {
                        "type" : "string",
                        "description" : "Tìm kiếm theo khoảng giá trị",
                        "example" : 100000
                      },
                      "to" : {
                        "type" : "string",
                        "description" : "Giá trị biên phải",
                        "example" : 200000
                      }
                    }
                  }, {
                    "type" : "object",
                    "properties" : {
                      "field" : {
                        "type" : "string",
                        "enum" : [ "custom_data", "note", "method", "modify_reason", "creator", "editor" ],
                        "description" : "Loại dữ liệu tìm kiếm theo dạng wildcard",
                        "example" : "note"
                      },
                      "from" : {
                        "type" : "string",
                        "description" : "Giá trị tìm kiếm",
                        "example" : "lorem isum"
                      }
                    }
                  } ]
                }
              },
              "example" : [ {
                "field" : "amount",
                "from" : 100000,
                "to" : 900000
              }, {
                "field" : "creator",
                "value" : "baonq5"
              } ]
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "Successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "page_number" : 1,
                    "page_size" : 3,
                    "total_items" : 37,
                    "total_pages" : 13,
                    "has_next" : true,
                    "next_page" : 2,
                    "has_previous" : false,
                    "previous_page" : 1,
                    "total_data_in_page" : 3,
                    "get_from" : 0,
                    "get_to" : 3,
                    "detail" : [ {
                      "id" : 1939,
                      "transaction_code" : "5BD2F14E66",
                      "amount" : 100000,
                      "invoice_amount" : 0,
                      "currency" : "VND",
                      "method" : "Bank transfer",
                      "tenant_id" : "",
                      "invoice_id" : "",
                      "note" : "updating note from an example in Postman",
                      "creation_date" : 1540550990593,
                      "modify_date" : 1540551198823,
                      "modify_reason" : "a reason to modify this transaction",
                      "transaction_date" : 1539055384135,
                      "creator" : "baonq5",
                      "editor" : "baonq5",
                      "custom_data" : ""
                    }, {
                      "id" : 1936,
                      "transaction_code" : "5BD2D0C85C",
                      "amount" : 123456,
                      "invoice_amount" : 11792000,
                      "currency" : "USD",
                      "method" : "Bank transfer",
                      "tenant_id" : "5bd2c6d023840b00ba06758c",
                      "invoice_id" : "181026NKEZKB",
                      "note" : "This is a note test",
                      "creation_date" : 1540542664673,
                      "modify_date" : 1540550907431,
                      "modify_reason" : "",
                      "transaction_date" : 1540542664662,
                      "creator" : "baonq5",
                      "editor" : "baonq5",
                      "custom_data" : ""
                    }, {
                      "id" : 1924,
                      "transaction_code" : "5BD186C277",
                      "amount" : 100000,
                      "invoice_amount" : 0,
                      "currency" : "VND",
                      "method" : "",
                      "tenant_id" : "5bd1cff823840b00bc4f6e75",
                      "invoice_id" : "181025NKE3ZK",
                      "note" : "creating an example of transaction by Postman",
                      "creation_date" : 1540458178730,
                      "modify_date" : 1540476961475,
                      "modify_reason" : "",
                      "transaction_date" : 1539055384135,
                      "creator" : "baonq5",
                      "editor" : "baonq5",
                      "custom_data" : ""
                    } ]
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/invoice/customer_info" : {
      "get" : {
        "tags" : [ "customer_info" ],
        "summary" : "Lấy danh sách khách hàng (hỗ trợ pagination)",
        "parameters" : [ {
          "name" : "page",
          "description" : "Trang cần lấy",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 1
        }, {
          "name" : "page_size",
          "description" : "Kích thước trang cần lấy",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 2
        }, {
          "name" : "order_field",
          "description" : "Field cần sắp xếp trong kết quả trả về. API sẽ trả về lỗi nếu field vừa nhập không hợp lệ. Giá trị mặc định của order_field là id.",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          },
          "example" : "modify_date"
        }, {
          "name" : "order_type",
          "description" : "Cách sắp xếp tăng dần (asc) hoặc giảm dần (desc). API sẽ trả về lỗi nếu giá trị của order_type  không hợp lệ.",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string",
            "enum" : [ "asc", "desc" ]
          },
          "example" : "asc"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "page_number" : 1,
                    "page_size" : 2,
                    "total_items" : 1027,
                    "total_pages" : 514,
                    "has_next" : true,
                    "next_page" : 2,
                    "has_previous" : false,
                    "previous_page" : 1,
                    "total_data_in_page" : 2,
                    "get_from" : 0,
                    "get_to" : 2,
                    "detail" : [ {
                      "id" : 1027,
                      "company_name" : "Ông",
                      "company_address" : "Ông",
                      "company_phone" : 9.85716925E8,
                      "company_taxcode" : "Ông",
                      "company_registration_img" : "509ed1106a8deedd13e36942/registration_img/company_registration_img/Barbershop-Vinyl-Wall.jpg",
                      "cmnd_front_img" : "509ed1106a8deedd13e36942/registration_img/cmnd_front_img/b4adf88019b6ce878f4a0f548e153091.png",
                      "cmnd_back_img" : "509ed1106a8deedd13e36942/registration_img/cmnd_back_img/2303714514_5ea99500bd.jpg",
                      "company_wheretosend_invoice" : "",
                      "customer_name" : "Vinh Thuat Nguyen",
                      "customer_email" : "vinhthuat@gmail.com",
                      "customer_phone" : 9.85716925E8,
                      "custom_data" : ""
                    }, {
                      "id" : 1026,
                      "company_name" : "Ông",
                      "company_address" : "Ông",
                      "company_phone" : 9.85716925E8,
                      "company_taxcode" : "Ông",
                      "company_registration_img" : "",
                      "cmnd_front_img" : "",
                      "cmnd_back_img" : "",
                      "company_wheretosend_invoice" : "",
                      "customer_name" : "Vinh Thuat Nguyen",
                      "customer_email" : "vinhthuat@gmail.com",
                      "customer_phone" : 9.85716925E8,
                      "custom_data" : ""
                    } ]
                  }
                }
              }
            }
          }
        }
      },
      "post" : {
        "tags" : [ "customer_info" ],
        "summary" : "Tạo khách hàng (customer) mới. Các field không khai báo sẽ được set giá trị mặc định là rỗng (không phải null).",
        "parameters" : [ {
          "name" : "tenant_id",
          "description" : "Tenant ID được tạo ra bởi customer này",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "5bbdcbb8fc13ae2c75000096"
        }, {
          "name" : "tenant_domain",
          "description" : "Domain được gắn với tenant_id",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "gjaycox1c.stg.cs.vn"
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/CustomerInfo"
                } ]
              },
              "example" : {
                "company_director" : "Renate Colls",
                "company_name" : "Flatley-Harber",
                "company_address" : "90988 Anderson Hill",
                "company_phone" : 2.860356281E9,
                "company_taxcode" : "5757225147",
                "company_business_areas" : "Tools",
                "company_registration_img" : "http://dummyimage.com/166x148.bmp/cc0000/ffffff",
                "cmnd_front_img" : "http://dummyimage.com/177x172.jpg/dddddd/000000",
                "cmnd_back_img" : "http://dummyimage.com/227x195.jpg/cc0000/ffffff",
                "company_name_invoice" : "Rempel Inc",
                "company_address_invoice" : "33 Riverside Drive",
                "company_taxcode_invoice" : "9164388147",
                "company_note_invoice" : "Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.",
                "company_wheretosend_invoice" : "5 Walton Alley",
                "customer_name" : "Aurora Zouch",
                "customer_email" : "azouch9@simplemachines.org",
                "customer_phone" : 1.17956543E8
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 1053,
                    "company_director" : "Renate Colls",
                    "company_name" : "Flatley-Harber",
                    "company_address" : "90988 Anderson Hill",
                    "company_phone" : 2.860356281E9,
                    "company_taxcode" : "5757225147",
                    "company_business_areas" : "Tools",
                    "company_registration_img" : "http://dummyimage.com/166x148.bmp/cc0000/ffffff",
                    "cmnd_front_img" : "http://dummyimage.com/177x172.jpg/dddddd/000000",
                    "cmnd_back_img" : "http://dummyimage.com/227x195.jpg/cc0000/ffffff",
                    "company_name_invoice" : "Rempel Inc",
                    "company_address_invoice" : "33 Riverside Drive",
                    "company_taxcode_invoice" : "9164388147",
                    "company_note_invoice" : "Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.",
                    "company_wheretosend_invoice" : "5 Walton Alley",
                    "customer_name" : "Aurora Zouch",
                    "customer_email" : "azouch9@simplemachines.org",
                    "customer_phone" : 1.17956543E8,
                    "custom_data" : null
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/invoice/customer_info/id/{id}" : {
      "get" : {
        "tags" : [ "customer_info" ],
        "summary" : "Lấy thông tin khách hàng theo id trong database",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "ID của giao dịch trong MySQL",
          "required" : true,
          "schema" : {
            "type" : "integer"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 1,
                    "tenant_id" : "5bbc58d4fc13ae6e260000c8",
                    "company_director" : "Delcina Clapperton",
                    "company_name" : "Rolfson and Sons",
                    "company_address" : "8 Namekagon Way",
                    "company_phone" : 2.852383104E9,
                    "company_taxcode" : "3902651198",
                    "company_business_areas" : "Health",
                    "company_registration_img" : "http://dummyimage.com/186x182.bmp/cc0000/ffffff",
                    "cmnd_front_img" : "http://dummyimage.com/167x157.png/cc0000/ffffff",
                    "cmnd_back_img" : "http://dummyimage.com/109x166.jpg/dddddd/000000",
                    "company_name_invoice" : "Frami Inc",
                    "company_address_invoice" : "85 Melby Street",
                    "company_taxcode_invoice" : "2012141367",
                    "company_note_invoice" : "Fusce consequat.",
                    "company_wheretosend_invoice" : "259 Golden Leaf Alley",
                    "customer_name" : "Lynnea Skyrm",
                    "customer_email" : "lskyrm0@intel.com",
                    "customer_phone" : 1.28144276E8,
                    "custom_data" : null
                  }
                }
              }
            }
          }
        }
      },
      "put" : {
        "tags" : [ "customer_info" ],
        "summary" : "Sửa thông tin khách hàng theo id trong database (hỗ trợ update từng field riêng lẻ)",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "ID của giao dịch trong MySQL",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 4
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/CustomerInfo"
                } ]
              },
              "example" : {
                "cmnd_front_img" : "front.jpg",
                "cmnd_back_img" : "back.jpg"
              }
            }
          }
        },
        "responses" : {
          "405" : {
            "description" : "Invalid input"
          },
          "404" : {
            "description" : "Transaction not found"
          },
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 4,
                    "company_director" : "Tamma Gude",
                    "company_name" : "Franecki-Reinger",
                    "company_address" : "6 Fordem Court",
                    "company_phone" : 2.887233599E9,
                    "company_taxcode" : "8402196873",
                    "company_business_areas" : "Automotive",
                    "company_registration_img" : "http://dummyimage.com/243x210.bmp/5fa2dd/ffffff",
                    "cmnd_front_img" : "front.jpg",
                    "cmnd_back_img" : "back.jpg",
                    "company_name_invoice" : "Kunze-Predovic",
                    "company_address_invoice" : "4569 Transport Street",
                    "company_taxcode_invoice" : "1047231816",
                    "company_note_invoice" : "Vestibulum rutrum rutrum neque.",
                    "company_wheretosend_invoice" : "304 Messerschmidt Lane",
                    "customer_name" : "Waylon Kleinmann",
                    "customer_email" : "wkleinmann3@jalbum.net",
                    "customer_phone" : "0163505217",
                    "custom_data" : null
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/invoice/customer_info/agent_id/{agent_id}" : {
      "get" : {
        "deprecated" : true,
        "tags" : [ "customer_info" ],
        "summary" : "Lấy thông tin khách hàng (agent) theo agent_id",
        "parameters" : [ {
          "name" : "agent_id",
          "in" : "path",
          "description" : "Agent ID (agent là người tạo ra các tenant)",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "allOf" : [ {
                    "$ref" : "#/components/schemas/Id"
                  }, {
                    "$ref" : "#/components/schemas/TenantId"
                  }, {
                    "$ref" : "#/components/schemas/CustomerInfo"
                  } ]
                },
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 1,
                    "agent_id" : "85991c15cb8e07bfcdf0741c",
                    "company_director" : "Delcina Clapperton",
                    "company_name" : "Rolfson and Sons",
                    "company_address" : "8 Namekagon Way",
                    "company_phone" : 2.852383104E9,
                    "company_taxcode" : "3902651198",
                    "company_business_areas" : "Health",
                    "company_registration_img" : "http://dummyimage.com/186x182.bmp/cc0000/ffffff",
                    "cmnd_front_img" : "http://dummyimage.com/167x157.png/cc0000/ffffff",
                    "cmnd_back_img" : "http://dummyimage.com/109x166.jpg/dddddd/000000",
                    "company_name_invoice" : "Frami Inc",
                    "company_address_invoice" : "85 Melby Street",
                    "company_taxcode_invoice" : "2012141367",
                    "company_note_invoice" : "Fusce consequat.",
                    "company_wheretosend_invoice" : "259 Golden Leaf Alley",
                    "customer_name" : "Lynnea Skyrm",
                    "customer_email" : "lskyrm0@intel.com",
                    "customer_phone" : 1.28144276E8,
                    "custom_data" : null
                  }
                }
              }
            }
          }
        }
      },
      "put" : {
        "deprecated" : true,
        "tags" : [ "customer_info" ],
        "summary" : "Sửa thông tin khách hàng (agent) theo agent_id (hỗ trợ update từng field riêng lẻ)",
        "parameters" : [ {
          "name" : "agent_id",
          "in" : "path",
          "description" : "Agent ID (agent là người tạo ra các tenant)",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/TenantId"
                } ]
              },
              "example" : {
                "company_business_areas" : "Game online"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 42,
                    "agent_id" : "fe9dd5aaa3203f6789da1479",
                    "company_director" : "Hieronymus Brisland",
                    "company_name" : "Bergstrom Group",
                    "company_address" : "13 Shoshone Terrace",
                    "company_phone" : 2.877900274E9,
                    "company_taxcode" : "2974940990",
                    "company_business_areas" : "Game online",
                    "company_registration_img" : "http://dummyimage.com/117x125.bmp/5fa2dd/ffffff",
                    "cmnd_front_img" : "http://dummyimage.com/168x188.bmp/cc0000/ffffff",
                    "cmnd_back_img" : "http://dummyimage.com/247x171.jpg/ff4444/ffffff",
                    "company_name_invoice" : "King-Veum",
                    "company_address_invoice" : "326 Bay Crossing",
                    "company_taxcode_invoice" : "7039640440",
                    "company_note_invoice" : "Morbi ut odio.",
                    "company_wheretosend_invoice" : "270 Michigan Pass",
                    "customer_name" : "Joleen Traylen",
                    "customer_email" : "jtraylen15@jimdo.com",
                    "customer_phone" : 1.30428148E8,
                    "custom_data" : null
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/invoice/customer_info/tenant" : {
      "post" : {
        "tags" : [ "customer_info" ],
        "summary" : "Thêm mới tenant được tạo bởi một agent. Các field không khai báo sẽ được set giá trị mặc định là rỗng (không phải null). API ĐƯỢC TỰ ĐỘNG GỌI KHI GỌI API TẠO MỚI KHÁCH HÀNG (CUSTOMER)",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/CustomerTenant"
                } ]
              },
              "example" : {
                "customer_id" : 6,
                "tenant_id" : "5bbdcbb8fc13ae2c7500007a",
                "tenant_domain" : "abispok.stg.cs.vn"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 33,
                    "customer_id" : 6,
                    "tenant_id" : "5bbdcbb8fc13ae2c7500007a",
                    "tenant_domain" : "abispok.stg.cs.vn",
                    "created_date" : "2018-10-22 11:11:24"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/invoice/customer_info/tenant/tenant_id/{tenant_id}" : {
      "get" : {
        "tags" : [ "customer_info" ],
        "summary" : "Lấy thông tin khách hàng đã tạo ra tenant",
        "parameters" : [ {
          "name" : "tenant_id",
          "in" : "path",
          "description" : "tenant_id cần tìm",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 1053,
                    "agent_id" : "8d4c016ab36e12767fd8f307",
                    "company_director" : "Renate Colls",
                    "company_name" : "Flatley-Harber",
                    "company_address" : "90988 Anderson Hill",
                    "company_phone" : 2.860356281E9,
                    "company_taxcode" : "5757225147",
                    "company_business_areas" : "Tools",
                    "company_registration_img" : "8d4c016ab36e12767fd8f307/registration_img/company_registration_img/2303714514_5ea99500bd.jpg",
                    "cmnd_front_img" : "8d4c016ab36e12767fd8f307/registration_img/cmnd_front_img/Barbershop-Vinyl-Wall.jpg",
                    "cmnd_back_img" : "8d4c016ab36e12767fd8f307/registration_img/cmnd_back_img/4244.jpg",
                    "company_name_invoice" : "Rempel Inc",
                    "company_address_invoice" : "33 Riverside Drive",
                    "company_taxcode_invoice" : "9164388147",
                    "company_note_invoice" : "Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.",
                    "company_wheretosend_invoice" : "fdsafdsafdsfdsa",
                    "customer_name" : "Aurora Zouch Cuonglt5",
                    "customer_email" : "azouch9@simplemachines.org",
                    "customer_phone" : 1.17956543E8,
                    "custom_data" : null,
                    "creation_date" : "2018-10-24 10:15:34",
                    "modify_date" : "2018-10-24 10:15:32"
                  }
                }
              }
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "customer_info" ],
        "summary" : "Xóa tenant đang thuộc sở hữu của khách hàng",
        "parameters" : [ {
          "name" : "tenant_id",
          "in" : "path",
          "description" : "tenant_id đang thuộc sở hữu của khách hàng",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : ""
                }
              }
            }
          }
        }
      }
    },
    "/optool/invoice/customer_info/tenant/customer_id/{customer_id}" : {
      "get" : {
        "tags" : [ "customer_info" ],
        "summary" : "Lấy danh sách tenant_id được tạo ra bởi khách hàng (customer)",
        "parameters" : [ {
          "name" : "customer_id",
          "in" : "path",
          "description" : "id (lưu trong MySQL) của customer cần tìm",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : 1053
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "tenants" : [ {
                      "id" : 37,
                      "customer_id" : 1053,
                      "tenant_id" : "5bbdcbb8fc13ae2c75000096",
                      "tenant_domain" : "gjaycox1c.stg.cs.vn",
                      "created_date" : "2018-10-22 11:35:20"
                    } ],
                    "totalTenant" : 1
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/invoice/customer_info/tenant/agent_id/{agent_id}" : {
      "get" : {
        "deprecated" : true,
        "tags" : [ "customer_info" ],
        "summary" : "Lấy danh sách tenant_id được tạo ra bởi khách hàng (agent)",
        "parameters" : [ {
          "name" : "agent_id",
          "in" : "path",
          "description" : "id (lưu trong MongoDB) của agent cần tìm",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : 1053
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "tenants" : [ {
                      "id" : 37,
                      "customer_id" : 1053,
                      "tenant_id" : "5bbdcbb8fc13ae2c75000096",
                      "tenant_domain" : "gjaycox1c.stg.cs.vn",
                      "created_date" : "2018-10-22 11:35:20"
                    } ],
                    "totalTenant" : 1
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/invoice/customer_info/upload/customer_id/{customer_id}/{type}" : {
      "post" : {
        "tags" : [ "customer_info" ],
        "summary" : "Upload ảnh chụp giấy tờ của khách hàng",
        "parameters" : [ {
          "name" : "customer_id",
          "in" : "path",
          "description" : "Customer ID",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 1020
        }, {
          "name" : "type",
          "in" : "path",
          "description" : "Loại giấy giờ",
          "required" : true,
          "schema" : {
            "type" : "string",
            "enum" : [ "company_registration_img", "cmnd_front_img", "cmnd_back_img", "custom_img" ]
          },
          "example" : "company_registration_img"
        }, {
          "name" : "replace_img",
          "in" : "query",
          "description" : "Hình sẽ bị thay thế khi upload hình mới",
          "schema" : {
            "type" : "string",
            "example" : "old_image.png"
          }
        } ],
        "requestBody" : {
          "content" : {
            "multipart/form-data" : {
              "schema" : {
                "type" : "object",
                "properties" : {
                  "file" : {
                    "type" : "string",
                    "format" : "binary"
                  }
                }
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 1020,
                    "company_director" : "Wilhelmina Rainsden",
                    "company_name" : "Kihn, Grady and Simonis",
                    "company_address" : "256 Mariners Cove Junction",
                    "company_phone" : 2.839434725E9,
                    "company_taxcode" : "4640896017",
                    "company_business_areas" : "Games",
                    "company_registration_img" : "fd462a0d6a11237e92765d8a/registration_img/company_registration_img/Selection_364.png,/registration_img/company_registration_img/Selection_365.png",
                    "cmnd_front_img" : "http://dummyimage.com/215x176.bmp/ff4444/ffffff",
                    "cmnd_back_img" : "http://dummyimage.com/247x178.png/dddddd/000000",
                    "company_name_invoice" : "Cartwright-Jacobi",
                    "company_address_invoice" : "206 Haas Hill",
                    "company_taxcode_invoice" : "6812015071",
                    "company_note_invoice" : "Nulla tempus.",
                    "company_wheretosend_invoice" : "269 Canary Plaza",
                    "customer_name" : "Darn Drysdale",
                    "customer_email" : "ddrysdalej@ifeng.com",
                    "customer_phone" : 1.7705358E8,
                    "custom_data" : null
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/invoice/customer_info/search" : {
      "post" : {
        "tags" : [ "customer_info" ],
        "summary" : "Tìm thông tin khách hàng",
        "description" : "Tìm chính xác&colon; id, company_phone, company_taxcode, company_taxcode_invoice, customer_email, customer_phone. Tìm theo khoảng [from,to]&colon; creation_date, modify_date, Tìm dạng wildcard&colon; company_director, company_name, company_address, company_business_areas, company_registration_img, cmnd_front_img, cmnd_back_img, company_name_invoice, company_address_invoice, company_note_invoice, company_wheretosend_invoice, customer_name, custom_data",
        "parameters" : [ {
          "name" : "page",
          "description" : "Trang cần lấy. Trang đầu tiên là 1.",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 1
        }, {
          "name" : "page_size",
          "description" : "Kích thước trang cần lấy",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 5
        }, {
          "name" : "order_field",
          "description" : "Field cần sắp xếp trong kết quả trả về. API sẽ trả về lỗi nếu field vừa nhập không hợp lệ. Giá trị mặc định của order_field là id.",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          },
          "example" : "modify_date"
        }, {
          "name" : "order_type",
          "description" : "Cách sắp xếp tăng dần (asc) hoặc giảm dần (desc). API sẽ trả về lỗi nếu giá trị của order_type  không hợp lệ.",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string",
            "enum" : [ "asc", "desc" ]
          },
          "example" : "asc"
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "type" : "array",
                "items" : {
                  "oneOf" : [ {
                    "type" : "object",
                    "properties" : {
                      "field" : {
                        "type" : "string",
                        "enum" : [ "id", "company_phone", "company_taxcode", "company_taxcode_invoice", "customer_email", "customer_phone" ],
                        "description" : "Tên field cần tìm chính xác nội dung.",
                        "example" : "customer_email"
                      },
                      "value" : {
                        "type" : "string",
                        "description" : "Giá trị của field cần tìm chính xác nội dung.",
                        "example" : "baonq5"
                      }
                    }
                  }, {
                    "type" : "object",
                    "properties" : {
                      "field" : {
                        "type" : "string",
                        "enum" : [ "creation_date", "modify_date" ],
                        "description" : "Tên field cần tìm theo khoảng giá trị.",
                        "example" : "creation_date"
                      },
                      "from" : {
                        "type" : "string",
                        "description" : "Giá trị biên trái",
                        "example" : "2017-07-29 07:26:20"
                      },
                      "to" : {
                        "type" : "string",
                        "description" : "Giá trị biên phải",
                        "example" : "2018-09-09 17:09:50"
                      }
                    }
                  }, {
                    "type" : "object",
                    "properties" : {
                      "field" : {
                        "type" : "string",
                        "enum" : [ "company_director", "company_name", "company_address", "company_business_areas", "company_registration_img", "cmnd_front_img", "cmnd_back_img", "company_name_invoice", "company_address_invoice", "company_note_invoice", "company_wheretosend_invoice", "customer_name", "custom_data" ],
                        "description" : "Tên field cần tìm theo dạng wildcard.",
                        "example" : "company_director"
                      },
                      "from" : {
                        "type" : "string",
                        "description" : "Giá trị field cần tìm theo wildcard.",
                        "example" : "John"
                      }
                    }
                  } ]
                }
              },
              "example" : [ {
                "field" : "company_director",
                "value" : " John"
              } ]
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "Successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "page_number" : 1,
                    "page_size" : 5,
                    "total_items" : 1,
                    "total_pages" : 1,
                    "has_next" : false,
                    "next_page" : 1,
                    "has_previous" : false,
                    "previous_page" : 1,
                    "total_data_in_page" : 1,
                    "get_from" : 0,
                    "get_to" : 1,
                    "detail" : [ {
                      "id" : 924,
                      "company_director" : "Maxie John",
                      "company_name" : "Fisher, Stark and Rosenbaum",
                      "company_address" : "22117 Rieder Park",
                      "company_phone" : 2.872499866E9,
                      "company_taxcode" : "1171582877",
                      "company_business_areas" : "Games",
                      "company_registration_img" : "http://dummyimage.com/130x233.bmp/ff4444/ffffff",
                      "cmnd_front_img" : "http://dummyimage.com/156x111.png/cc0000/ffffff",
                      "cmnd_back_img" : "http://dummyimage.com/174x188.png/ff4444/ffffff",
                      "company_name_invoice" : "Deckow Inc",
                      "company_address_invoice" : "7085 Gerald Avenue",
                      "company_taxcode_invoice" : "1503377475",
                      "company_note_invoice" : "Morbi non quam nec dui luctus rutrum.",
                      "company_wheretosend_invoice" : "6 Gulseth Junction",
                      "customer_name" : "Stephanus Balcers",
                      "customer_email" : "sbalcerspn@utexas.edu",
                      "customer_phone" : 1.69754616E8,
                      "custom_data" : null,
                      "creation_date" : null,
                      "modify_date" : null
                    } ]
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/tenant/support_ticket_package" : {
      "post" : {
        "deprecated" : true,
        "tags" : [ "tenant_supportticket_package" ],
        "summary" : "Tạo support ticket package mới. Các field không khai báo sẽ được set giá trị mặc định là rỗng (không phải null).",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/TenantId"
                }, {
                  "$ref" : "#/components/schemas/TenantSupportTicketPackage"
                } ]
              },
              "example" : {
                "package_id" : "supportticket-general-package",
                "package_name" : "Dich vu SupportTicket",
                "package_type" : "monthly",
                "tenant_id" : "96382875c91e213487e42952"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 1002,
                    "package_id" : "supportticket-general-package",
                    "package_name" : "Dich vu SupportTicket",
                    "package_type" : "monthly",
                    "tenant_id" : "96382875c91e213487e42952",
                    "number_user" : 0,
                    "last_update_date" : "2018-10-24 18:28:30",
                    "month_contact_free" : 0,
                    "month_contact_free_used" : 0,
                    "month_saving_data" : 0
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/tenant/support_ticket_package/id/{id}" : {
      "get" : {
        "deprecated" : true,
        "tags" : [ "tenant_supportticket_package" ],
        "summary" : "Lấy thông tin support ticket package theo id",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "id trong MySQL",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 264
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 1002,
                    "package_id" : "supportticket-general-package",
                    "package_name" : "Dich vu SupportTicket",
                    "package_type" : "monthly",
                    "tenant_id" : "96382875c91e213487e42952",
                    "number_user" : 0,
                    "last_update_date" : "2018-10-24 18:28:31",
                    "month_contact_free" : 0,
                    "month_contact_free_used" : 0,
                    "month_saving_data" : 0
                  }
                }
              }
            }
          }
        }
      },
      "put" : {
        "deprecated" : true,
        "tags" : [ "tenant_supportticket_package" ],
        "summary" : "Sửa thông tin package theo id (hỗ trợ update từng field riêng lẻ)",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "id trong MySQL",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 20
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/TenantSupportTicketPackage"
                } ]
              },
              "example" : {
                "package_type" : "yearly"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 1002,
                    "package_id" : "supportticket-general-package",
                    "package_name" : "Dich vu SupportTicket",
                    "package_type" : "yearly",
                    "tenant_id" : "96382875c91e213487e42952",
                    "number_user" : 0,
                    "last_update_date" : "2018-10-24 18:30:49",
                    "month_contact_free" : 0,
                    "month_contact_free_used" : 0,
                    "month_saving_data" : 0
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/tenant/support_ticket_package/tenant_id/{tenant_id}" : {
      "get" : {
        "deprecated" : true,
        "tags" : [ "tenant_supportticket_package" ],
        "summary" : "Lấy dan sách các support ticket package đang được sử dụng bởi tenant",
        "parameters" : [ {
          "name" : "tenant_id",
          "in" : "path",
          "description" : "tenant id",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "5bcd3da8f93d0f00bac385a6"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : [ {
                    "id" : 1002,
                    "package_id" : "supportticket-general-package",
                    "package_name" : "Dich vu SupportTicket",
                    "package_type" : "yearly",
                    "tenant_id" : "96382875c91e213487e42952",
                    "number_user" : 0,
                    "last_update_date" : "2018-10-24 18:30:49",
                    "month_contact_free" : 0,
                    "month_contact_free_used" : 0,
                    "month_saving_data" : 0
                  }, {
                    "id" : 1004,
                    "package_id" : "supportticket-special-package",
                    "package_name" : "Dich vu SupportTicket",
                    "package_type" : "monthly",
                    "tenant_id" : "96382875c91e213487e42952",
                    "number_user" : 0,
                    "last_update_date" : "2018-10-24 18:34:06",
                    "month_contact_free" : 0,
                    "month_contact_free_used" : 0,
                    "month_saving_data" : 0
                  } ]
                }
              }
            }
          }
        }
      }
    },
    "/optool/tenant/support_ticket_package/tenant_id/{tenant_id}/package_id/{package_id}" : {
      "put" : {
        "deprecated" : true,
        "tags" : [ "tenant_supportticket_package" ],
        "summary" : "Cập nhật support ticket package đang được sử dụng bởi một tenant (hỗ trợ update từng field riêng lẻ)",
        "parameters" : [ {
          "name" : "tenant_id",
          "in" : "path",
          "description" : "tenant id",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "96382875c91e213487e42952"
        }, {
          "name" : "package_id",
          "in" : "path",
          "description" : "id của package cần cập nhật",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "supportticket-special-package"
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/TenantSupportTicketPackage"
                } ]
              },
              "example" : {
                "package_type" : "yearly"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 1004,
                    "package_id" : "supportticket-special-package",
                    "package_name" : "Dich vu SupportTicket",
                    "package_type" : "yearly",
                    "tenant_id" : "96382875c91e213487e42952",
                    "number_user" : 0,
                    "last_update_date" : "2018-10-24 18:35:24",
                    "month_contact_free" : 0,
                    "month_contact_free_used" : 0,
                    "month_saving_data" : 0
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/invoice/item" : {
      "post" : {
        "tags" : [ "invoice_item" ],
        "summary" : "Tạo mới item trong invoice",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "allOf" : [ {
                  "$ref" : "#/components/schemas/InvoiceItem"
                } ]
              },
              "example" : {
                "invoice_id" : "MR3QHY11CY24",
                "license_id" : "call-center-service-simple-license-id",
                "license_type" : "request",
                "unit_price" : 63000,
                "quantity" : 1,
                "total_amount" : 63000,
                "creation_date" : "2018-02-16 02:16:18",
                "modify_date" : "2018-10-05 14:08:20"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 106,
                    "invoice_id" : "MR3QHY11CY24",
                    "license_id" : "call-center-service-simple-license-id",
                    "license_type" : "request",
                    "unit_price" : 63000,
                    "quantity" : 1,
                    "total_amount" : 63000,
                    "creation_date" : "2018-10-26 16:38:07",
                    "modify_date" : "2018-10-26 16:38:07"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/invoice/item/id/{id}" : {
      "get" : {
        "tags" : [ "invoice_item" ],
        "summary" : "Lấy thông tin một item trong invoice theo id (id của record trong MySQL)",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "id trong MySQL",
          "required" : true,
          "schema" : {
            "type" : "integer"
          },
          "example" : 106
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 106,
                    "invoice_id" : "MR3QHY11CY24",
                    "license_id" : "call-center-service-simple-license-id",
                    "license_type" : "request",
                    "unit_price" : 63000,
                    "quantity" : 1,
                    "total_amount" : 63000,
                    "creation_date" : "2018-10-26 16:38:08",
                    "modify_date" : "2018-10-26 16:38:08"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/invoice/item/invoice_id/{invoice_id}/license_id/{license_id}" : {
      "get" : {
        "tags" : [ "invoice_item" ],
        "summary" : "Lấy thông tin một item trong invoice theo invoice_id và license_id",
        "parameters" : [ {
          "name" : "invoice_id",
          "in" : "path",
          "description" : "id của invoice",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "MR3QHY11CY24"
        }, {
          "name" : "license_id",
          "in" : "path",
          "description" : "id của một item",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "call-center-service-simple-license-id"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 101,
                    "invoice_id" : "MR3QHY11CY24",
                    "license_id" : "call-center-service-simple-license-id",
                    "license_type" : "request",
                    "unit_price" : 63000,
                    "quantity" : 1,
                    "total_amount" : 63000,
                    "creation_date" : "2018-10-26 14:54:00",
                    "modify_date" : "2018-10-26 14:54:00"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/invoice/item/invoice_id/{invoice_id}" : {
      "get" : {
        "tags" : [ "invoice_item" ],
        "summary" : "Lấy danh sách các item trong một invoice",
        "parameters" : [ {
          "name" : "invoice_id",
          "in" : "path",
          "description" : "id của invoice",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "MR3QHY11CY24"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : [ {
                    "id" : 101,
                    "invoice_id" : "MR3QHY11CY24",
                    "license_id" : "call-center-service-simple-license-id",
                    "license_type" : "request",
                    "unit_price" : 63000,
                    "quantity" : 1,
                    "total_amount" : 63000,
                    "creation_date" : "2018-10-26 14:54:00",
                    "modify_date" : "2018-10-26 14:54:00"
                  }, {
                    "id" : 102,
                    "invoice_id" : "MR3QHY11CY24",
                    "license_id" : "call-center-service-simple-license-id",
                    "license_type" : "request",
                    "unit_price" : 63000,
                    "quantity" : 1,
                    "total_amount" : 63000,
                    "creation_date" : "2018-10-26 14:54:46",
                    "modify_date" : "2018-10-26 14:54:46"
                  } ]
                }
              }
            }
          }
        }
      }
    },
    "/optool/tenant/tenant_id/{tenant_id}" : {
      "get" : {
        "tags" : [ "all" ],
        "summary" : "Lấy toàn bộ thông tin liên quan đến tenant theo tenant_id",
        "parameters" : [ {
          "name" : "tenant_id",
          "in" : "path",
          "description" : "tenant_id",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "5bd5610621aa8600b970fe04"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 188,
                    "tenant_id" : "5bd5610621aa8600b970fe04",
                    "tenant_domain" : "so1900.stgsip.cs.vn",
                    "time_start" : "2018-10-28 14:14:20",
                    "time_end" : "2019-01-26 14:14:20",
                    "creation_date" : "2018-10-28 14:58:04",
                    "modify_date" : "2018-10-28 14:58:04",
                    "wallet_operation_fee" : 24000,
                    "wallet_operation_promotion" : 0,
                    "wallet_operation_used" : 0,
                    "wallet_provider_network_fee" : 100000,
                    "wallet_provider_network_promotion" : 0,
                    "wallet_provider_network_used" : 0,
                    "wallet_supportticket_fee" : 0,
                    "wallet_supportticket_promotion" : 0,
                    "wallet_supportticket_used" : 0,
                    "tenant_package" : [ {
                      "id" : 402,
                      "package_id" : "call-center-service-base-ess-call18001900",
                      "package_name" : "Business Essentials – Call 1800/1900",
                      "package_type" : "monthly",
                      "tenant_id" : "5bd5610621aa8600b970fe04",
                      "product_id" : "call-center-service-support-center-or-support-ticket",
                      "number_user" : 0,
                      "month_transaction_free" : 1500,
                      "month_transaction_free_used" : 0,
                      "month_saving_data" : 0,
                      "creation_date" : null,
                      "modify_date" : null
                    }, {
                      "id" : 403,
                      "package_id" : "call-center-service-call-prepaid-100k",
                      "package_name" : "Phí hỗ trợ khác",
                      "package_type" : "monthly",
                      "product_id" : "call-center-service-support-center-or-support-ticket",
                      "tenant_id" : "5bd5610621aa8600b970fe04",
                      "number_user" : 0,
                      "month_transaction_free" : 0,
                      "month_transaction_free_used" : 0,
                      "month_saving_data" : 0,
                      "creation_date" : null,
                      "modify_date" : null
                    }, {
                      "id" : 404,
                      "package_id" : "call-center-service-addon-operation-fee-120m",
                      "package_name" : "Gói phí vận hành 120 phút",
                      "package_type" : "monthly",
                      "product_id" : "call-center-service-support-center-or-support-ticket",
                      "tenant_id" : "5bd5610621aa8600b970fe04",
                      "number_user" : 0,
                      "month_transaction_free" : 0,
                      "month_transaction_free_used" : 0,
                      "month_saving_data" : 0,
                      "creation_date" : null,
                      "modify_date" : null
                    } ],
                    "tenant_public_number" : [ {
                      "id" : 214,
                      "tenant_id" : "5bd5610621aa8600b970fe04",
                      "public_number" : 2.367304868E9
                    }, {
                      "id" : 215,
                      "tenant_id" : "5bd5610621aa8600b970fe04",
                      "public_number" : "1900545569000078"
                    } ]
                  }
                }
              }
            }
          }
        }
      }
    },
    "/optool/tenant/tenant_id/{tenant_id}/limit" : {
      "get" : {
        "tags" : [ "all" ],
        "summary" : "Lấy thông tin wallet của tenant và hạn mức sử dụng của các gói mà tenant đang sử dụng",
        "parameters" : [ {
          "name" : "tenant_id",
          "in" : "path",
          "description" : "tenant_id",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "5bf7a8fcf533a600b95ff926"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "content" : {
              "application/json" : {
                "schema" : {
                  "allOf" : [ {
                    "$ref" : "#/components/schemas/TenantInfo"
                  }, {
                    "type" : "object",
                    "properties" : {
                      "limit" : {
                        "description" : "Hạn mức sử dụng miễn phí của các gói dịch vụ",
                        "type" : "object",
                        "properties" : {
                          "callcenter_free_minutes" : {
                            "type" : "integer",
                            "description" : "Số miliseconds gọi miễn phí trong tháng của gói dịch vụ tổng đài"
                          },
                          "callcenter_used_minutes" : {
                            "type" : "integer",
                            "description" : "Số miliseconds gọi miễn phí đã sử dụng trong tháng của gói dịch vụ tổng đài"
                          },
                          "support_ticket_free_transaction" : {
                            "type" : "integer",
                            "description" : "Số lần liên hệ miễn phí trong tháng của gói dịch vụ SupportTicket"
                          },
                          "support_ticket_used_transaction" : {
                            "type" : "integer",
                            "description" : "Số lần liên hệ miễn phí đã sử dụng trong tháng của gói dịch vụ SupportTicket"
                          }
                        }
                      }
                    }
                  } ]
                },
                "example" : {
                  "code" : 1000,
                  "data" : {
                    "id" : 251,
                    "tenant_id" : "5bf7a8fcf533a600b95ff926",
                    "tenant_domain" : "ngocthu",
                    "time_start" : "2018-11-23 14:15:17",
                    "time_end" : "2019-02-21 14:15:17",
                    "creation_date" : "2018-11-23 14:18:57",
                    "modify_date" : "2018-11-26 14:22:08",
                    "wallet_operation_fee" : 200000,
                    "wallet_operation_promotion" : 0,
                    "wallet_operation_used" : 0,
                    "wallet_provider_network_fee" : 100000,
                    "wallet_provider_network_promotion" : 0,
                    "wallet_provider_network_used" : 824,
                    "wallet_supportticket_fee" : 0,
                    "wallet_supportticket_promotion" : 0,
                    "wallet_supportticket_used" : 0,
                    "limit" : {
                      "callcenter_free_minutes" : 300000,
                      "callcenter_used_minutes" : 402089,
                      "support_ticket_free_transaction" : null,
                      "support_ticket_used_transaction" : null
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components" : {
    "schemas" : {
      "CustomerInfo" : {
        "description" : "Thông tin về một customer. Một customer có thể sở hữu nhiều tenant",
        "type" : "object",
        "properties" : {
          "company_director" : {
            "type" : "string",
            "description" : "Tên giám đốc công ty"
          },
          "company_name" : {
            "type" : "string",
            "description" : "Tên đầy đủ của công ty"
          },
          "company_address" : {
            "type" : "string",
            "description" : "Địa chỉ công ty"
          },
          "company_phone" : {
            "type" : "string",
            "description" : "Số điện thoại của công ty"
          },
          "company_taxcode" : {
            "type" : "string",
            "description" : "Mã số thuế"
          },
          "company_business_areas" : {
            "type" : "string",
            "description" : "Lĩnh vực kinh doanh (tùy chọn)"
          },
          "company_registration_img" : {
            "type" : "string",
            "description" : "Link ảnh chụp giấy phép kinh doanh của công ty trong server FTP. Nếu có nhiều ảnh thì các link ảnh cách nhau bởi dấu phẩy.",
            "example" : "customer_info/1190/registration_img/company_registration_img/Screen Shot 2018-01-25 at 3.26.05 PM.png,customer_info/1190/registration_img/company_registration_img/Screen Shot 2018-04-19 at 5.02.15 PM.png,customer_info/1190/registration_img/company_registration_img/Screen Shot 2018-05-18 at 3.07.09 PM.png"
          },
          "cmnd_front_img" : {
            "type" : "string",
            "description" : "Link ảnh chụp CMND mặt trước của người mua trong server FTP."
          },
          "cmnd_back_img" : {
            "type" : "string",
            "description" : "Link ảnh chụp CMND mặt sau của người mua trong server FTP."
          },
          "company_name_invoice" : {
            "type" : "string",
            "description" : "Tên công ty trên hóa đơn xuất ra"
          },
          "company_address_invoice" : {
            "type" : "string",
            "description" : "Địa chỉ công ty trên hóa đơn xuất ra"
          },
          "company_taxcode_invoice" : {
            "type" : "string",
            "description" : "Mã số thuế của công ty trên hóa đơn xuất ra"
          },
          "company_note_invoice" : {
            "type" : "string",
            "description" : "Ghi chú trên hóa đơn xuất ra"
          },
          "company_wheretosend_invoice" : {
            "type" : "string",
            "description" : "Địa chỉ gửi hóa đơn"
          },
          "customer_name" : {
            "type" : "string",
            "description" : "Tên người mua"
          },
          "customer_phone" : {
            "type" : "string",
            "description" : "Số điện thoại người mua"
          },
          "customer_email" : {
            "type" : "string",
            "description" : "Địa chỉ email người mua"
          },
          "custom_data" : {
            "type" : "string",
            "description" : "Customized data"
          }
        }
      },
      "CustomerTenant" : {
        "description" : "Mapping các tenant nào đang thuộc về customer nào",
        "type" : "object",
        "properties" : {
          "customer_id" : {
            "type" : "integer",
            "description" : "id của customer (là field id được trả về khi lấy thông tin của customer)"
          },
          "tenant_id" : {
            "type" : "string",
            "description" : "id của tenant được tạo bởi customer"
          },
          "tenant_domain" : {
            "type" : "string",
            "description" : "domain của tenant được tạo bởi customer"
          },
          "created_date" : {
            "type" : "string",
            "description" : "Ngày tạo",
            "format" : "yyyy-mm-dd hh:mm:ss",
            "example" : "2018-10-19 11:25:07"
          }
        }
      },
      "Id" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "format" : "long",
            "description" : "ID của giao dịch trong MySQL",
            "example" : 142
          }
        }
      },
      "TenantId" : {
        "type" : "object",
        "properties" : {
          "tenant_id" : {
            "type" : "string",
            "format" : "ObjectId",
            "description" : "Tenant ID",
            "example" : "6cd96653ee2da7a0f407b2ef"
          }
        }
      },
      "Transaction" : {
        "type" : "object",
        "properties" : {
          "transaction_code" : {
            "type" : "string",
            "description" : "Mã duy nhất ứng với một transaction",
            "example" : "5BCD16A553"
          },
          "amount" : {
            "type" : "integer",
            "format" : "long",
            "description" : "Giá trị giao dịch. Có thể âm hoặc dương",
            "example" : 10000000
          },
          "invoice_amount" : {
            "type" : "integer",
            "format" : "long",
            "description" : "Khi map transaction vào invoice thì invoice_amount là số tiền cần thanh toán của invoice",
            "example" : 10000000
          },
          "currency" : {
            "type" : "string",
            "pattern" : "^[A-Z]{3}$",
            "description" : "Đơn vị tiền tệ. Mặc định VND",
            "example" : "VND"
          },
          "method" : {
            "type" : "string",
            "enum" : [ "Chuyển khoản", "ZaloPay", "Tiền mặt", "Ghi gì cũng được" ],
            "description" : "Phương thức chuyển tiền",
            "example" : "Chuyển khoản"
          },
          "tenant_id" : {
            "type" : "string",
            "format" : "ObjectId",
            "description" : "Tenant ID",
            "example" : "1664b1bcf0ddb19c08e645c1"
          },
          "invoice_id" : {
            "type" : "string",
            "description" : "Invoice ID",
            "pattern" : "^[A-Z0-9]{12}$",
            "example" : "1804121K91K5"
          },
          "note" : {
            "type" : "string",
            "description" : "Ghi chú cho giao dịch",
            "example" : "Thanh toan order ABC XYZ dot 1"
          },
          "creation_date" : {
            "type" : "integer",
            "format" : "long",
            "description" : "Ngày ghi nhận giao dịch theo UNIX timestamp (milisec)",
            "example" : 1537861711642
          },
          "modify_date" : {
            "type" : "integer",
            "format" : "long",
            "description" : "Thời gian giao dịch được chỉnh sửa gần đây nhất theo UNIX timestamp (milisec)",
            "example" : 1537861711463
          },
          "modify_reason" : {
            "type" : "string",
            "description" : "Lí do sửa",
            "example" : "Lỗi tại thằng đánh máy"
          },
          "transaction_date" : {
            "type" : "integer",
            "format" : "long",
            "description" : "Thời gian giao dịch thực sự diễn ra theo UNIX timestamp (milisec)",
            "example" : 1537861711251
          },
          "creator" : {
            "type" : "string",
            "description" : "Người tạo giao dịch",
            "example" : "baonq5"
          },
          "editor" : {
            "type" : "string",
            "description" : "Người sửa giao dịch",
            "example" : "boss"
          },
          "custom_data" : {
            "type" : "string",
            "description" : "Lưu thông tin tùy chỉnh (lưu cái gì vào đây cũng được)",
            "example" : "this field can be used to store anything as string"
          }
        }
      },
      "TenantInfo" : {
        "type" : "object",
        "description" : "Thông tin về một tenant",
        "properties" : {
          "tenant_domain" : {
            "type" : "string",
            "description" : "Domain dành cho tenant",
            "example" : "baonq5.stg.cs.vn"
          },
          "time_start" : {
            "type" : "string",
            "example" : "2017-08-09 07:14:42",
            "description" : "Thời gian tenant bắt đầu chu kì sử dụng"
          },
          "time_end" : {
            "type" : "string",
            "example" : "2018-06-29 19:41:45",
            "description" : "Thời gian tenant kết thúc chu kì sử dụng"
          },
          "creation_date" : {
            "type" : "string",
            "format" : "yyyy-mm-dd hh:mm:ss",
            "example" : "2018-11-20 06:44:04",
            "description" : "Ngày tạo dữ liệu"
          },
          "modify_date" : {
            "type" : "string",
            "format" : "yyyy-mm-dd hh:mm:ss",
            "example" : "2018-11-20 06:44:04",
            "description" : "Lần cập nhật dữ liệu cuối"
          },
          "wallet_operation_fee" : {
            "type" : "integer",
            "description" : "Phí vận hành call center"
          },
          "wallet_operation_promotion" : {
            "type" : "integer",
            "description" : "Phí vận hành call center được miễn phí"
          },
          "wallet_operation_used" : {
            "type" : "integer",
            "description" : "Phí vận hành call center tạm tính"
          },
          "wallet_provider_network_fee" : {
            "type" : "integer",
            "description" : "Phí vận hành của nhà mạng"
          },
          "wallet_provider_network_promotion" : {
            "type" : "integer",
            "description" : "Phí vận hành của nhà mạng được miễn phí"
          },
          "wallet_provier_network_used" : {
            "type" : "integer",
            "description" : "Phí vận hành của nhà mạng tạm tính"
          },
          "wallet_supportticket_fee" : {
            "type" : "integer",
            "description" : "Phí vận hàng của gói SupportTicket"
          },
          "wallet_supportticket_promotion" : {
            "type" : "integer",
            "description" : "Phí vận hành của gói SupportTicket được khuyến mãi"
          },
          "wallet_supportticket_used" : {
            "type" : "integer",
            "description" : "Phí vận hành của gói SupportTicket đã sử dụng"
          }
        }
      },
      "TenantPackage" : {
        "type" : "object",
        "description" : "Gói dịch vụ tổng đài hoặc SupportTicket",
        "properties" : {
          "package_id" : {
            "type" : "string",
            "description" : "ID của package"
          },
          "package_name" : {
            "type" : "string",
            "description" : "Tên package"
          },
          "package_type" : {
            "type" : "string",
            "enum" : [ "monthly", "yearly" ],
            "description" : "Loại package"
          },
          "product_id" : {
            "type" : "string",
            "description" : "Phân biệt gói dịch vụ tổng đài hoặc gói dịch vụ SupportTicket",
            "example" : "call-center-service-support-center"
          },
          "number_user" : {
            "type" : "integer",
            "description" : "Số người dùng. Với package tổng đài, nếu package khiện tại không phải là base package thì number_user = 0."
          },
          "month_transaction_free" : {
            "type" : "integer",
            "description" : "Số phút gọi/số lần liên hệ miễn phí hàng tháng"
          },
          "month_transaction_free_used" : {
            "type" : "integer",
            "description" : "Số phút gọi/số lần liên hệ miễn phí hàng tháng đã sử dụng"
          },
          "month_saving_data" : {
            "type" : "integer",
            "description" : "Số tháng lưu trữ file ghi âm/lưu trữ dữ liệu (tùy theo package hiện tại)"
          },
          "meeting_max_room" : {
            "type" : "integer",
            "description" : "Số phòng vMeeting tối đa được tạo"
          },
          "meeting_max_attendee" : {
            "type" : "integer",
            "description" : "Số người tham gia tối đa một phòng vMeeting"
          },
          "meeting_max_duration" : {
            "type" : "integer",
            "description" : "Thời gian tồn tại tối đa của một phòng vMeeting"
          },
          "meeting_live_stream" : {
            "type" : "integer",
            "description" : "Cho phép chia sẻ link tới phòng họp",
            "enum" : [ 0, 1 ]
          },
          "creation_date" : {
            "type" : "string",
            "format" : "yyyy-mm-dd hh:mm:ss",
            "example" : "2018-11-20 06:44:04",
            "description" : "Ngày tạo"
          },
          "modify_date" : {
            "type" : "string",
            "format" : "yyyy-mm-dd hh:mm:ss",
            "example" : "2018-11-20 06:44:04",
            "description" : "Ngày cập nhật cuối"
          }
        }
      },
      "TenantSupportTicketPackage" : {
        "description" : "DECRAPTED",
        "type" : "object",
        "properties" : {
          "package_id" : {
            "type" : "string",
            "description" : "ID của package"
          },
          "package_name" : {
            "type" : "string",
            "description" : "Tên package"
          },
          "package_type" : {
            "type" : "string",
            "description" : "Loại package"
          },
          "number_user" : {
            "type" : "integer",
            "description" : "Số người dùng. Nếu package không phải là base package thì number_user = 0"
          },
          "last_update_date" : {
            "type" : "string",
            "description" : "Ngày cập nhật cuối"
          },
          "month_contact_free" : {
            "type" : "integer",
            "description" : "Số lần liên hệ miễn phí hàng tháng"
          },
          "month_transaction_free_used" : {
            "type" : "integer",
            "description" : "Số lần liên hệ miễn phí hàng tháng đã sử dụng"
          },
          "month_saving_data" : {
            "type" : "integer",
            "description" : "Số tháng lưu trữ dữ liệu*/"
          }
        }
      },
      "InvoiceItem" : {
        "description" : "Thông tin về các item chứa trong invoice.",
        "type" : "object",
        "properties" : {
          "invoice_id" : {
            "type" : "string",
            "description" : "id của invoice"
          },
          "license_id" : {
            "type" : "string",
            "description" : "id của gói dịch vụ trong invoice"
          },
          "license_type" : {
            "type" : "string",
            "description" : "Loại gói dịch vụ trong invoice"
          },
          "license_name" : {
            "type" : "string",
            "description" : "Tên gói dịch vụ trong invoice"
          },
          "unit_price" : {
            "type" : "integer",
            "description" : "Giá một đơn vị"
          },
          "quantity" : {
            "type" : "integer",
            "description" : "Số lượng đơn vị"
          },
          "total_amount" : {
            "type" : "integer",
            "description" : "Tổng tiền cần thanh toán"
          },
          "creation_date" : {
            "type" : "string",
            "format" : "yyyy-mm-dd hh:mm:ss",
            "example" : "2018-11-20 06:44:04",
            "description" : "Ngày tạo"
          },
          "modify_date" : {
            "type" : "string",
            "format" : "yyyy-mm-dd hh:mm:ss",
            "example" : "2018-11-20 06:44:04",
            "description" : "Ngày cập nhật cuối"
          }
        }
      },
      "TenantPublicNumber" : {
        "type" : "object",
        "properties" : {
          "public_number" : {
            "type" : "string",
            "description" : "Số điện thoại public",
            "example" : 19001234
          },
          "number_dest" : {
            "type" : "string",
            "description" : "Số điện thoại đích",
            "example" : 2.812345678E9
          },
          "type" : {
            "type" : "string",
            "description" : "Loại số điện thoại (dùng thử, số đích, số đã bị khóa,...)"
          },
          "creation_date" : {
            "type" : "string",
            "format" : "yyyy-mm-dd hh:mm:ss",
            "example" : "2018-11-20 06:44:04",
            "description" : "Ngày tạo"
          },
          "modify_date" : {
            "type" : "string",
            "format" : "yyyy-mm-dd hh:mm:ss",
            "example" : "2018-11-20 06:44:04",
            "description" : "Ngày cập nhật cuối"
          }
        }
      },
      "CallRating" : {
        "type" : "object",
        "description" : "Đánh giá chất lượng cuộc gọi",
        "properties" : {
          "id" : {
            "type" : "integer",
            "description" : "ID tăng dần tự động trên MySQL",
            "example" : 5
          },
          "call_id" : {
            "type" : "string",
            "description" : "call_id",
            "example" : "ieq33MBlds"
          },
          "tenant_id" : {
            "type" : "string",
            "description" : "tenant_id",
            "example" : "5d884f49bca30d00b90a9adc"
          },
          "tenant_domain" : {
            "type" : "string",
            "description" : "domain của tenant",
            "example" : "cc11"
          },
          "call_rating" : {
            "type" : "integer",
            "description" : "Đánh giá chất lượng cuộc gọi. Nếu không có đánh giá thì lưu là 0. Không tốt: 2. Hài lòng: 3. Tốt: 4",
            "minimum" : 0,
            "maximum" : 5,
            "example" : 4
          },
          "call_mos_average" : {
            "type" : "integer",
            "format" : "float",
            "description" : "Điểm đánh giá chất lượng cuộc gọi được tính tự động (MOS average)",
            "example" : 4.1
          },
          "call_type" : {
            "type" : "string",
            "description" : "Chiều cuộc gọi",
            "enum" : [ "inbound", "outbound", "internal" ],
            "example" : "inbound"
          },
          "call_from_number" : {
            "type" : "string",
            "description" : "Số gọi đi",
            "example" : 101
          },
          "call_to_number" : {
            "type" : "string",
            "description" : "Số gọi đến",
            "example" : 2.812345678E9
          },
          "hotline" : {
            "type" : "string",
            "description" : "Đầu số tổng đài gọi vào/gọi ra. Nếu gọi nội bộ thì để rỗng.",
            "example" : 2.811111111E9
          },
          "call_date" : {
            "type" : "string",
            "pattern" : "yyyy-mm-dd hh:mm:ss",
            "description" : "Thời điểm bắt đầu cuộc gọi theo epoch unix time (ms)",
            "example" : "2020-02-02 12:12:12"
          },
          "call_date_epoch" : {
            "type" : "integer",
            "description" : "Thời điểm bắt đầu cuộc gọi theo epoch unix time (ms)",
            "example" : 1581406206357
          },
          "call_duration_ms" : {
            "type" : "integer",
            "format" : "long",
            "description" : "Thời gian cuộc gọi diễn ra tính theo ms. Trường hợp cuộc gọi thất bại thì lưu là 0.",
            "example" : 353956
          },
          "device_app_version" : {
            "type" : "string",
            "description" : "Phiên bản vCS hiện tại trên máy",
            "example" : "3.0.1"
          },
          "device_os" : {
            "type" : "string",
            "enum" : [ "Android", "iOS" ],
            "example" : "Android"
          },
          "device_os_version" : {
            "type" : "string",
            "description" : "Phiên bản hệ điều hành hiện tại. Chỉ lưu số hiệu version, không lưu tên OS.",
            "example" : "8.0.1"
          },
          "device_name" : {
            "type" : "string",
            "description" : "Tên thiết bị sử dụng",
            "example" : "Samsung Galaxy Note 10"
          },
          "device_network" : {
            "type" : "string",
            "enum" : [ "Wifi", "3G", "4G", "EDGE", "GPRS" ],
            "example" : "Wifi"
          },
          "device_network_external_ip" : {
            "type" : "string",
            "description" : "IP public của thiết bị. Trường hợp có nhiều IP thì các IP ngăn cách nhau bởi dấu phẩy",
            "example" : "46.12.75.3"
          },
          "device_network_provider" : {
            "type" : "string",
            "description" : "Tên nhà mạng cung cấp dịch vụ. Trường hợp máy sử dụng nhiều SIM thì tên nhà mạng ngăn cách nhau bởi dấu phẩy",
            "enum" : [ "Mobifone", "Vinaphone", "Viettel", "Vietnammobile", "Gtel" ],
            "example" : "Mobifone"
          },
          "creation_date" : {
            "type" : "string",
            "pattern" : "yyyy-mm-dd hh:mm:ss",
            "example" : "2018-11-20 06:44:04",
            "description" : "Ngày tạo đánh giá chất lượng cuộc gọi."
          },
          "modification_date" : {
            "type" : "string",
            "pattern" : "yyyy-mm-dd hh:mm:ss",
            "example" : "2018-11-20 06:44:04",
            "description" : "Ngày cập nhật cuối. Để rỗng nếu tạo mới."
          }
        }
      }
    },
    "securitySchemes" : {
      "bearerAuth" : {
        "type" : "http",
        "scheme" : "bearer",
        "bearerFormat" : "JWT"
      }
    }
  }
}