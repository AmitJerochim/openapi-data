penapi: 3.0.0
info:
  title: monarch-api
  version: "1.0.0.1"
paths:
  /transactions/count:
    get:
      x-controller-name: TransactionsController
      x-operation-name: count
      tags:
        - TransactionsController
      security:
        - apiKey: []
          appId: []
      responses:
        '200':
          description: TxLedger model count
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: number
              example: 
                3
      parameters:
        - name: where
          in: query
          style: deepObject
          explode: true
          schema:
            type: object
      operationId: TransactionsController.count
  '/transactions/{id}':
    put:
      x-controller-name: TransactionsController
      x-operation-name: replaceById
      tags:
        - TransactionsController
      security:
        - apiKey: []
          appId: []
      responses:
        '204':
          description: TxLedger PUT success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TxLedger'
              example: 
                  customerInformation:
                    companyName: ACME
                    customerName: John Doe
                    customerPhone: 552553
                    customerEmail: example@email.com
                    address1: 123 New Avenue
                    address2: Apt. 111
                    city: North Jana
                    stateProvince: us
                    zipCode: '75991'
                    last_4ssn: 8868
                  paymentInformation:
                    accountNumber: '011401533'
                    routingNumber: '072403004'
                    accountType: debit
                  billingInformation:
                    transactType: S
                    retryAmount: 00.00
                    initialAmount: '7.00'
                    recurringAmount: '25.00'
                    billingCycle: '3'
                    futureInitialDate: '2019-11-15T19:35:27.650Z'
                  otherInformation:
                    orderdCustomerName: '126562'
                    customerComment: The quick brown fox jumps over the little lazy dog.
      parameters:
        - name: id
          in: path
          schema:
            type: string
          required: true
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TxLedger'
            example:
              customerInformation:
                companyName: ACME
                customerName: John Doe
                customerPhone: 552553
                customerEmail: example@email.com
                address1: 123 New Avenue
                address2: Apt. 111
        x-parameter-index: 1
      operationId: TransactionsController.replaceById
    get:
      x-controller-name: TransactionsController
      x-operation-name: findById
      tags:
        - TransactionsController
      security:
        - apiKey: []
          appId: []
      responses:
        '200':
          description: TxLedger model instance
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TxLedger'
              example: 
                  customerInformation:
                    companyName: Wilkinson - Lubowitz
                    customerName: Silas Considine
                    customerPhone: 498600515
                    customerEmail: Bradley_Gutkowski51@example.org
                    address1: 561 Cassandre Motorway
                    address2: Apt. 683
                    city: North Jana
                    stateProvince: us
                    zipCode: '75991'
                    last_4ssn: 8868
                  paymentInformation:
                    accountNumber: '011401533'
                    routingNumber: '072403004'
                    accountType: debit
                  billingInformation:
                    transactType: S
                    retryAmount: 00.00
                    initialAmount: '7.00'
                    recurringAmount: '25.00'
                    billingCycle: '3'
                    futureInitialDate: '2019-11-15T19:35:27.650Z'
                  otherInformation:
                    orderdCustomerName: '126562'
                    customerComment: The quick brown fox jumps over the little lazy dog.
      parameters:
        - name: id
          in: path
          schema:
            type: string
          required: true
      operationId: TransactionsController.findById
  /transactions:
    post:
      x-controller-name: TransactionsController
      x-operation-name: create
      tags:
        - TransactionsController
      security:
        - apiKey: []
          appId: []
      responses:
        '200':
          description: TxLedger model instance
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TxLedgerExcluding[nacha_file_created,capture_type,_id]'
              example:
                customerInformation:
                  companyName: Wilkinson - Lubowitz
                  customerName: Silas Considine
                  customerPhone: 498600515
                  customerEmail: Bradley_Gutkowski51@example.org
                  address1: 561 Cassandre Motorway
                  address2: Apt. 683
                  city: North Jana
                  stateProvince: us
                  zipCode: '75991'
                  last_4ssn: 8868
                paymentInformation:
                  accountNumber: '011401533'
                  routingNumber: '072403004'
                  accountType: debit
                billingInformation:
                  transactType: S
                  retryAmount: 00.00
                  initialAmount: '7.00'
                  recurringAmount: '25.00'
                  billingCycle: '3'
                  futureInitialDate: '2019-11-15T19:35:27.650Z'
                otherInformation:
                  orderdCustomerName: '126562'
                  customerComment: The quick brown fox jumps over the little lazy dog.
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
        - name: X-APP-ID
          in: header
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TxLedgerExcluding[_id]'
            example:
              customerInformation:
                companyName: Wilkinson - Lubowitz
                customerName: Silas Considine
                customerPhone: 498600515
                customerEmail: Bradley_Gutkowski51@example.org
                address1: 561 Cassandre Motorway
                address2: Apt. 683
                city: North Jana
                stateProvince: us
                zipCode: '75991'
                last_4ssn: 8868
              paymentInformation:
                accountNumber: '011401533'
                routingNumber: '072403004'
                accountType: debit
              billingInformation:
                transactType: S
                retryAmount: 00.00
                initialAmount: '7.00'
                recurringAmount: '25.00'
                billingCycle: '3'
                futureInitialDate: '2019-11-15T19:35:27.650Z'
              otherInformation:
                orderdCustomerName: '126562'
                customerComment: The quick brown fox jumps over the little lazy dog.
      operationId: TransactionsController.create
    get:
      x-controller-name: TransactionsController
      x-operation-name: find
      tags:
        - TransactionsController
      security:
        - apiKey: []
          appId: []
      responses:
        '200':
          description: Array of TxLedger model instances
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TxLedger'
              example: 
                - customerInformation:
                    companyName: Wilkinson - Lubowitz
                    customerName: Silas Considine
                    customerPhone: 498600515
                    customerEmail: Bradley_Gutkowski51@example.org
                    address1: 561 Cassandre Motorway
                    address2: Apt. 683
                    city: North Jana
                    stateProvince: us
                    zipCode: '75991'
                    last_4ssn: 8868
                  paymentInformation:
                    accountNumber: '011401533'
                    routingNumber: '072403004'
                    accountType: debit
                  billingInformation:
                    transactType: S
                    retryAmount: 00.00
                    initialAmount: '7.00'
                    recurringAmount: '25.00'
                    billingCycle: '3'
                    futureInitialDate: '2019-11-15T19:35:27.650Z'
                  otherInformation:
                    orderdCustomerName: '126562'
                    customerComment: The quick brown fox jumps over the little lazy dog.
                    
                - customerInformation:
                    companyName: Wilkinson - Lubowitz
                    customerName: Silas Considine
                    customerPhone: 498600515
                    customerEmail: Bradley_Gutkowski51@example.org
                    address1: 561 Cassandre Motorway
                    address2: Apt. 683
                    city: North Jana
                    stateProvince: us
                    zipCode: '75991'
                    last_4ssn: 8868
                  paymentInformation:
                    accountNumber: '011401533'
                    routingNumber: '072403004'
                    accountType: debit
                  billingInformation:
                    transactType: S
                    retryAmount: 00.00
                    initialAmount: '7.00'
                    recurringAmount: '25.00'
                    billingCycle: '3'
                    futureInitialDate: '2019-11-15T19:35:27.650Z'
                  otherInformation:
                    orderdCustomerName: '126562'
                    customerComment: The quick brown fox jumps over the little lazy dog.
                    
                - customerInformation:
                    companyName: Wilkinson - Lubowitz
                    customerName: Silas Considine
                    customerPhone: 498600515
                    customerEmail: Bradley_Gutkowski51@example.org
                    address1: 561 Cassandre Motorway
                    address2: Apt. 683
                    city: North Jana
                    stateProvince: us
                    zipCode: '75991'
                    last_4ssn: 8868
                  paymentInformation:
                    accountNumber: '011401533'
                    routingNumber: '072403004'
                    accountType: debit
                  billingInformation:
                    transactType: S
                    retryAmount: 00.00
                    initialAmount: '7.00'
                    recurringAmount: '25.00'
                    billingCycle: '3'
                    futureInitialDate: '2019-11-15T19:35:27.650Z'
                  otherInformation:
                    orderdCustomerName: '126562'
                    customerComment: The quick brown fox jumps over the little lazy dog.
                  
      parameters:
        - name: filter
          in: query
          style: deepObject
          explode: true
          schema:
            type: object
            properties:
              where:
                type: object
              fields:
                type: object
                properties:
                  _id:
                    type: boolean
                  customerInformation:
                    type: boolean
                  paymentInformation:
                    type: boolean
                  capture_type:
                    type: boolean
                  nacha_file_created:
                    type: boolean
                  app_mode:
                    type: boolean
                  billingInformation:
                    type: boolean
                  otherInformation:
                    type: boolean
              offset:
                type: integer
                minimum: 0
              limit:
                type: integer
                minimum: 0
              skip:
                type: integer
                minimum: 0
              order:
                type: array
                items:
                  type: string
      operationId: TransactionsController.find
  "/users":
    post:
      x-controller-name: UsersController
      x-operation-name: create
      tags:
      - UsersController
      responses:
        '200':
          description: User model instance
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/User"
              example:
                name: Luke Skywalker
                email: luke.skywalker@jedy.com
                password: rbaBvOwvc9
                API:
                  prod:
                    app_name: Monarch API prod KEY
                    api_key: 695beeb2-fdac-449e-93dc-a731bd7e207a
                    app_id: 175401dc
                    userId: 5e18b4c9bbda0ed42710c5ea
                    app_mode: prod
                  test:
                    app_name: Monarch API test KEY
                    api_key: b1a5915d-d526-40b0-9e26-794f2e543272
                    app_id: 644a7062
                    userId: 5e18b4c9bbda0ed42710c5ea
                    app_mode: test
                micro1:
                  _id: 5e18b4cdbbda0ed42710c5ef
                  customerInformation:
                    companyName: Enterprises
                    customerName: Luke Skywalker
                    customerPhone: 1-123-456-7890
                    customerEmail: luke.skywalker@jedy.com
                    address1: add1
                    address2: add2
                    city: city
                    stateProvince: Maine
                    zipCode: 46747-6803
                    last_4ssn: '7890'
                  paymentInformation:
                    accountNumber: '011401533'
                    routingNumber: '072403004'
                    accountType: debit
                    returnStatus: 1
                    returnDate: '2020-01-10T17:30:53.513Z'
                  capture_type: micro
                  nacha_file_created: 0
                  billingInformation:
                    transactType: S
                    retryAmount: '00.00'
                    initialAmount: '0.12'
                    recurringAmount: '25.00'
                    billingCycle: "-1"
                  otherInformation:
                    orderdCustomerName: '126562'
                    customerComment: Micro
                    returnresponse:
                      status: Accepted
                      order_id: '19843385'
                      history_id: '86253820'
                      consumer_unique: Lv5btt60W906B5Mdt8b2YVXovQxZzoyj
                      authcode: CheckAuth:086253820
                      PostedVars: END
                      parent_id: ACTUM
                      sub_id: PNKTEST
                      pmt_type: chk
                      companyname: Enterprises
                      custname: Luke Skywalker
                      custemail: luke.skywalker@jedy.com
                      custaddress1: add1
                      custaddress2: add2
                      custcity: city
                      custstate: Maine
                      custzip: 46747-6803
                      custphone: 1-123-456-7890
                      custssn: '7890'
                      acct_type: debit
                      initial_amount: '0.12'
                      billing_cycle: "-1"
                      merordernumber: '126562'
                      trans_modifier: S
                      comments: Micro
                      enc_acct: xxxxx1533
                    submitingData: '2020-01-10T17:30:53.513Z'
                    insertedbyId: 5e18b4c9bbda0ed42710c5ea
                micro2:
                  _id: 5e18b4ccbbda0ed42710c5ee
                  customerInformation:
                    companyName: Enterprises
                    customerName: Luke Skywalker
                    customerPhone: 1-123-456-7890
                    customerEmail: luke.skywalker@jedy.com
                    address1: add1
                    address2: add2
                    city: city
                    stateProvince: Maine
                    zipCode: 46747-6803
                    last_4ssn: '7890'
                  paymentInformation:
                    accountNumber: '011401533'
                    routingNumber: '072403004'
                    accountType: debit
                    returnStatus: 1
                    returnDate: '2020-01-10T17:30:52.151Z'
                  capture_type: micro
                  nacha_file_created: 0
                  billingInformation:
                    transactType: S
                    retryAmount: '00.00'
                    initialAmount: '0.35'
                    recurringAmount: '25.00'
                    billingCycle: "-1"
                  otherInformation:
                    orderdCustomerName: '126562'
                    customerComment: Micro
                    returnresponse:
                      status: Accepted
                      order_id: '19843384'
                      history_id: '86253819'
                      consumer_unique: 7YX/Gj7pq3y4Est9pyKcOFpKb.ZM0vga
                      authcode: CheckAuth:086253819
                      PostedVars: END
                      parent_id: ACTUM
                      sub_id: PNKTEST
                      pmt_type: chk
                      companyname: Enterprises
                      custname: Luke Skywalker
                      custemail: luke.skywalker@jedy.com
                      custaddress1: add1
                      custaddress2: add2
                      custcity: city
                      custstate: Maine
                      custzip: 46747-6803
                      custphone: 1-123-456-7890
                      custssn: '7890'
                      acct_type: debit
                      initial_amount: '0.35'
                      billing_cycle: "-1"
                      merordernumber: '126562'
                      trans_modifier: S
                      comments: Micro
                      enc_acct: xxxxx1533
                    submitingData: '2020-01-10T17:30:52.151Z'
                    insertedbyId: 5e18b4c9bbda0ed42710c5ea
      requestBody:
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/UserExcluding[_id,password]"
            example:
              name: Luke Skywalker
              email: luke.skywalker@jedy.com
              user_metadata:
                phone: '1-123-456-7890'
                companyName: Enterprises
                add1: 'add1'
                add2: 'add2'
                city: city
                state: Maine
                zip: 46747-6803
                country: Cape Verde
                website: 'luke.skywalker.com'
                einSocialNumber: '1234567890'
                birth_date: ''
                bankName: 'Bank of Jedy'
                bank_dda: '011401533'
                bank_rt: '072403004'
            operationId: UsersController.create    
components:
  # securitySchemes:
  #   apiKey:
  #     type: apiKey
  #     in: header
  #     name: X-API-KEY
  #   appId:
  #     type: apiKey
  #     in: header
  #     name: X-APP-ID
  schemas:
    'TxLedgerExcluding[nacha_file_created,capture_type,_id]':
      title: 'TxLedgerExcluding[nacha_file_created,capture_type,_id]'
      not:
        anyOf:
          - required:
              - _id
          - required:
              - capture_type
          - required:
              - nacha_file_created
      properties:
        customerInformation:
          type: object
        paymentInformation:
          type: object
        app_mode:
          type: string
        billingInformation:
          type: object
        otherInformation:
          type: object
      required:
        - customerInformation
        - paymentInformation
        - billingInformation
        - otherInformation
    'TxLedgerExcluding[_id]':
      title: 'TxLedgerExcluding[_id]'
      not:
        anyOf:
          - required:
              - _id
      properties:
        customerInformation:
          type: object
        paymentInformation:
          type: object
        capture_type:
          type: string
        nacha_file_created:
          type: number
        app_mode:
          type: string
        billingInformation:
          type: object
        otherInformation:
          type: object
      required:
        - customerInformation
        - paymentInformation
        - billingInformation
        - otherInformation
    TxLedger:
      title: TxLedger
      properties:
        _id:
          type: string
        customerInformation:
          type: object
        paymentInformation:
          type: object
        capture_type:
          type: string
        nacha_file_created:
          type: number
        app_mode:
          type: string
        billingInformation:
          type: object
        otherInformation:
          type: object
      required:
        - customerInformation
        - paymentInformation
        - billingInformation
        - otherInformation

    TxLedgerPartial:
      title: TxLedgerPartial
      properties:
        _id:
          type: string
        customerInformation:
          type: object
        paymentInformation:
          type: object
        capture_type:
          type: string
        nacha_file_created:
          type: number
        app_mode:
          type: string
        billingInformation:
          type: object
        otherInformation:
          type: object
          
    User:
      title: User
      properties:
        _id:
          type: string
        name:
          type: string
        email:
          type: string
        password:
          type: string
        user_metadata:
          type: object
        API:
          type: object
        micro1:
          type: object
        micro2:
          type: object
      required:
        - name
        - email
        
    UserExcluding[_id,password]:
      title: UserExcluding[_id,password]
      not:
        anyOf:
        - required:
          - _id
        - required:
          - password
      properties:
        name:
          type: string
        email:
          type: string
        user_metadata:
          type: object
        API:
          type: object
        micro1:
          type: object
        micro2:
          type: object
      required:
        - name
        - email
# Added by API Auto Mocking Plugin
servers:
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/Pink-Pineapple/monarch/1.0.0.1