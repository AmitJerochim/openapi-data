{"openapi":"3.0.0","info":{"title":"Profile viewer API","description":"Profile viewer API","contact":{"email":"mark.mizen@sage.com"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"},"version":"1.0.5"},"servers":[{"url":"https://localhost:8080/Profile_Exporter/Profile_Exporter/1.0.4","description":"Local server"}],"tags":[{"name":"admins","description":"Secured Admin-only calls"},{"name":"developers","description":"Operations available to regular developers"}],"paths":{"/package/{packageID}/{version}":{"post":{"tags":["admins"],"summary":"Add a new version","description":"Add profiles with a specific version number\n","parameters":[{"name":"packageID","in":"path","description":"The","required":true,"style":"simple","explode":false,"schema":{"type":"string"}},{"name":"version","in":"path","description":"The","required":true,"style":"simple","explode":false,"schema":{"type":"string"}}],"requestBody":{"description":"This is the description\n","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfilesExport"}},"text/plain":{"schema":{"type":"string"}}},"required":true},"responses":{"201":{"description":"Record created"},"304":{"description":"There was an error. Records not modified"}}},"put":{"tags":["admins"],"summary":"Add or update an existing version","description":"Updates an existing version details\n","parameters":[{"name":"packageID","in":"path","description":"The","required":true,"style":"simple","explode":false,"schema":{"type":"string"}},{"name":"version","in":"path","description":"The","required":true,"style":"simple","explode":false,"schema":{"type":"string"}}],"requestBody":{"description":"This is the description\n","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfilesExport"}},"text/plain":{"schema":{"type":"string"}}},"required":true},"responses":{"200":{"description":"Record updated"},"201":{"description":"Record created"},"304":{"description":"There was an error. Records not modified"}}},"delete":{"tags":["admins"],"summary":"Deletes a record","description":"Deletes a record by specified package and version number\n","parameters":[{"name":"packageID","in":"path","description":"The","required":true,"style":"simple","explode":false,"schema":{"type":"string"}},{"name":"version","in":"path","description":"The","required":true,"style":"simple","explode":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"Record deleted"},"304":{"description":"Record not found"}}}},"/package/{packageID}/{version}/profiles":{"patch":{"tags":["admins"],"summary":"Add profiles to an existing package version","description":"Updates an existing version details\n","parameters":[{"name":"packageID","in":"path","description":"The","required":true,"style":"simple","explode":false,"schema":{"type":"string"}},{"name":"version","in":"path","description":"The","required":true,"style":"simple","explode":false,"schema":{"type":"string"}}],"requestBody":{"description":"This is the description\n","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Profile"}}},"text/plain":{"schema":{"type":"string"}}},"required":true},"responses":{"200":{"description":"Record updated"},"201":{"description":"Record created"},"304":{"description":"There was an error. Records not modified"}}}},"/versions":{"get":{"tags":["developers"],"summary":"List of versions","description":"Returns a list of the different versions that can be queried for all packages\n","responses":{"200":{"description":"List of versions","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PackageInfo"}}}}}}}},"/versions/{packageId}":{"get":{"tags":["developers"],"summary":"List of versions of a specific package","description":"Returns a list of the different versions of a specific package that can be queried\n","parameters":[{"name":"packageId","in":"path","description":"The name of the Saledforce package","required":true,"style":"simple","explode":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"List of versions","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PackageInfo"}}}}}}}},"/profiles":{"get":{"tags":["developers"],"summary":"List profiles","description":"Get a list of all profiles\n","parameters":[{"name":"version","in":"query","description":"Specify the package version number","required":false,"style":"form","explode":true,"schema":{"type":"string"}},{"name":"packageId","in":"query","description":"Specify the package name.","required":false,"style":"form","explode":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"List of profiles","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProfileSummary"}}}}}}}},"/profile/{id}":{"get":{"tags":["developers"],"summary":"View profile","description":"Gets profile details at a specific version\n","parameters":[{"name":"id","in":"path","description":"The ID of the profile to get","required":true,"style":"simple","explode":false,"schema":{"type":"string"}},{"name":"version","in":"query","description":"Specify the package version. Defaults to current OR most recent version","required":false,"style":"form","explode":true,"schema":{"type":"string"}},{"name":"packageId","in":"query","description":"Specify the package to get. Defaults to HCM","required":false,"style":"form","explode":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Profile Details","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Profile"},"x-content-type":"application/json"}}}}},"x-swagger-router-controller":"Developers"}}},"components":{"schemas":{"Profile":{"required":["summary","details"],"type":"object","properties":{"summary":{"$ref":"#/components/schemas/ProfileSummary"},"details":{"$ref":"#/components/schemas/ProfileDetails"}}},"ProfileSummary":{"required":["id","name"],"type":"object","properties":{"id":{"type":"string","example":"someId"},"name":{"type":"string","example":"Platform Team Member"}},"example":{"name":"Platform Team Member","id":"someId"}},"ProfilesExport":{"required":["version","profiles"],"type":"object","properties":{"package":{"$ref":"#/components/schemas/PackageInfo"},"profiles":{"type":"array","items":{"$ref":"#/components/schemas/Profile"}}}},"PackageInfo":{"required":["package","version"],"type":"object","properties":{"version":{"type":"string","example":38.1},"package":{"type":"string","description":"A URL-safe unique identifier for the package this comes from","example":"hcm"},"label":{"type":"string","example":"Sage People 2020 R3"},"published":{"type":"string"},"releaseType":{"type":"string","enum":["elective","general"]}},"example":{"published":"2017-07-21T00:00:00.000+0000","description":"ISO 8601 format date","versionNumber":"38.1"}},"FieldPermission":{"type":"object","properties":{"editable":{"type":"boolean","example":true},"field":{"type":"string","example":"namespace__Object__c.Some_Field__c"},"readable":{"type":"boolean","example":true}}},"ObjectPermission":{"type":"object","properties":{"allowCreate":{"type":"boolean","example":true},"allowDelete":{"type":"boolean","example":true},"allowEdit":{"type":"boolean","example":true},"allowRead":{"type":"boolean","example":true},"modifyAllRecords":{"type":"boolean","example":true},"object":{"type":"string","example":"namespace__Object__c"},"viewAllRecords":{"type":"boolean","example":true}}},"RecordTypeVisibility":{"type":"object","properties":{"isDefault":{"type":"boolean","example":false},"recordType":{"type":"string","example":"namespace__Object__c.Some_Record"},"visible":{"type":"string","example":"true"}}},"UserPermission":{"type":"object","properties":{"enabled":{"type":"string","example":"true"},"label":{"type":"string","example":"ToggleAnOption"},"name":{"type":"string","example":"permissiontoggleanoption"}}},"ApplicationVisibility":{"required":["application","isDefault","visible"],"type":"object","properties":{"application":{"type":"string","example":"nameOfTheApplication"},"isDefault":{"type":"boolean","example":true},"visible":{"type":"boolean","example":false}}},"ClassAccess":{"required":["apexClass","enabled"],"type":"object","properties":{"apexClass":{"type":"string","example":"nameOfTheClass"},"enabled":{"type":"boolean","example":true}}},"CustomPermission":{"required":["name","enabled"],"type":"object","properties":{"name":{"type":"string","example":"nameOfTheCustomPermission"},"enabled":{"type":"boolean","example":false}}},"LayoutAssignment":{"required":["layout"],"type":"object","properties":{"layout":{"type":"string","example":"sobjectAPIName-Name of the layout"}}},"PageAccess":{"required":["apexPage","enabled"],"type":"object","properties":{"apexPage":{"type":"string","example":"nameOfThePage"},"enabled":{"type":"boolean","example":true}}},"TabVisibility":{"required":["tab","visibility"],"type":"object","properties":{"tab":{"type":"string","example":"nameOfTheTab"},"visibility":{"type":"string","enum":["DefaultOn","DefaultOff","Hidden"],"example":"DefaultOn"}}},"ProfileDetails":{"required":["custom","fieldPermissions","objectPermissions","recordTypeVisibilities","userLicense","userPermissions","classAccesses","layoutAssignments","pageAccesses","tabVisibilities"],"type":"object","properties":{"custom":{"type":"boolean","example":true},"userLicense":{"type":"string","example":"Salesforce"},"fieldPermissions":{"type":"array","items":{"$ref":"#/components/schemas/FieldPermission"}},"objectPermissions":{"type":"array","items":{"$ref":"#/components/schemas/ObjectPermission"}},"recordTypeVisibilities":{"type":"array","items":{"$ref":"#/components/schemas/RecordTypeVisibility"}},"userPermissions":{"type":"array","items":{"$ref":"#/components/schemas/UserPermission"}},"applicationVisibilities":{"type":"array","items":{"$ref":"#/components/schemas/ApplicationVisibility"}},"classAccesses":{"type":"array","items":{"$ref":"#/components/schemas/ClassAccess"}},"customPermissions":{"type":"array","items":{"$ref":"#/components/schemas/CustomPermission"}},"layoutAssignments":{"type":"array","items":{"$ref":"#/components/schemas/LayoutAssignment"}},"pageAccesses":{"type":"array","items":{"$ref":"#/components/schemas/PageAccess"}},"tabVisibilities":{"type":"array","items":{"$ref":"#/components/schemas/TabVisibility"}}}}}}}