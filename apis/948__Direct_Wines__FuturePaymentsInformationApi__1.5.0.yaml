penapi: 3.0.2
# Added by API Auto Mocking Plugin
servers:
# Added by API Auto Mocking Plugin
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/Direct_Wines/FuturePaymentsInformationApi/1.5.0
  - url: '/api'
    description: This Website
info:
  description: This API suite has a set operations to provide information about future payments when purchasing Direct Wines products
  version: "1.5.0"
  title: Future Payments Information API
  contact:
    email: apisupport@laithwaiteswine.com

# =========================================================================================
#  API methods start here
# =========================================================================================
paths:
  /futurepayments/bycart:
    get:
      tags:
      - Future Payments Information API
      summary: Provides a list of the Future Payments that will be created if the current order is purchased.
      description: |
        This method provides details of the subscriptions or other recurring payments
        that a customer with be subscribed to if they continue to process this order to a successful completion.
        
        The purpose is to make it explicitly clear to the customer about future benefits
        they will be entitled to and what future costs they will wish to budget for.
        
      operationId: getFuturePaymentsFromCurrentCart
     
      responses:
        '200':
          description: successful operation
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/FuturePaymentsResponse'
        '403':
           description: This will be returned if a points scheme is not in operation on the current site
           content: 
            application/json:
              schema:
                 $ref: 'https://api.swaggerhub.com/apis/Direct_Wines/CommonAPIModelsSuite/1.2.0#/components/schemas/CommonResponseHeader'  
        '422':
           description: A validation error occured when calling this method.  For example it may be that the supplied account Id was invalid or was unauthorized for this user. 
           content: 
            application/json:
              schema:
                 $ref: 'https://api.swaggerhub.com/apis/Direct_Wines/CommonAPIModelsSuite/1.2.0#/components/schemas/CommonResponseHeader'  


  /futurepayments/byproduct:
    get:
      tags:
      - Future Payments Information API
      summary: Provides a list of the Future Payments that will be created if the supplied set of product codes is purchased.
      description: |
        This method provides details of the subscriptions or other recurring payments
        that a customer with be subscribed to if they continue to process this order to a successful completion.
        
        The purpose is to make it explicitly clear to the customer about future benefits
        they will be entitled to and what future costs they will wish to budget for.
        
      operationId: getFuturePaymentsFromProductList
      parameters:
        - in: query
          name: items
          description: Supply a list of item codes to validate whether purchase will result in future payments
          required: true
          schema:
            type: array
            description: A List of item codes to validate for future payments
            items:
              type: string
          example: [3807118, 0022618, 0003918]              

      responses:
        '200':
          description: successful operation
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/FuturePaymentsResponse'
        '403':
           description: This will be returned if a points scheme is not in operation on the current site
           content: 
            application/json:
              schema:
                 $ref: 'https://api.swaggerhub.com/apis/Direct_Wines/CommonAPIModelsSuite/1.2.0#/components/schemas/CommonResponseHeader'  
        '422':
           description: A validation error occured when calling this method.  For example it may be that the supplied account Id was invalid or was unauthorized for this user. 
           content: 
            application/json:
              schema:
                 $ref: 'https://api.swaggerhub.com/apis/Direct_Wines/CommonAPIModelsSuite/1.2.0#/components/schemas/CommonResponseHeader'  

  /futurepayments/bycardidentifier:
    get:
      tags:
      - Future Payments Information API
      summary: Provides a list of the Future Payments that will be effected if there is a change in the designated wallet entry
      description: |
        This API provides details of the subscriptions or other recurring payments that are associated with a given credit card.
        
        The purpose is to make it explicitly clear to the customer about future benefits
        they will be entitled to and what future costs they will wish to budget for by continuing to use that card.
        
      operationId: getFuturePaymentsFromWalletId
      parameters:
        - in: query
          name: cardIdentifier
          description: Identifies the card to be reviewed. For example:- This might identify an entry from the customers credit card wallet.
          required: true
          schema:
            $ref: '#/components/schemas/CardIdentifier'             

      responses:
        '200':
          description: successful operation
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/FuturePaymentsResponse'
        '403':
           description: This will be returned if a points scheme is not in operation on the current site
           content: 
            application/json:
              schema:
                 $ref: 'https://api.swaggerhub.com/apis/Direct_Wines/CommonAPIModelsSuite/1.2.0#/components/schemas/CommonResponseHeader'  
        '422':
           description: A validation error occured when calling this method.  For example it may be that the supplied account Id was invalid or was unauthorized for this user. 
           content: 
            application/json:
              schema:
                 $ref: 'https://api.swaggerhub.com/apis/Direct_Wines/CommonAPIModelsSuite/1.2.0#/components/schemas/CommonResponseHeader'  



components:
  schemas:
# ==============================================================================  
#   Request Objects
# ==============================================================================================================          
    CardIdentifier:
      type: object
      description: ''
      readOnly: true   
      properties:
        type:
          type: string
          description: This defines the type of the card identifier.
          enum:
          - WALLET
          example: WALLET
        id:
          type: string
          description: The actual card identifier.  e.g. If this is an identifier from the Wallet,  it would be the id of a valid wallet entry. 
          example: ew010001
      required: 
      - type
      - id
# ==============================================================================  
#   Response Objects
# ==============================================================================  
    FuturePaymentsResponse:
      allOf:
        - $ref: 'https://api.swaggerhub.com/apis/Direct_Wines/CommonAPIModelsSuite/1.2.0#/components/schemas/ApiResponse'
        - type: object
          properties:
            response:
                $ref: '#/components/schemas/FuturePaymentsDetails'


# ==============================================================================  
#   Data Objects/Beans
# ==============================================================================  

# ==============================================================================================================          
    FuturePaymentsDetails:
      type: object
      description: This object defines the list of pending subscriptions that will be created by processing this cart as an order.
      properties:
        itemDetails:
          type: array
          items:
            $ref: '#/components/schemas/FuturePaymentItem'

# ==============================================================================================================          
    FuturePaymentItem:
      type: object
      description: ''
      readOnly: true   
      properties:
        subscriptionType:
          type: string
          readOnly: true
          enum: 
          - WINEREWARD_SUBSCRIPTION
          - GENERAL_SUBSCRIPTION
          - WINEPLAN_SUBSCRIPTION
          - STORAGE_SUBSCRIPTION
          description: >
            This describes the type of item or subscription scheme that the customer will be making future payments for.
            
            Subscription Types:
             * `WINEREWARD_SUBSCRIPTION` - The future payment will be associated with a 'Wine Reward' subscription. 
             * `GENERAL_SUBSCRIPTION` - The future payment will be associated with the 'General Subscription'.  This provides bonus items on each purchase,  free shipping on each purchase or both!
             * `WINEPLAN_SUBSCRIPTION` - The future payment will be associated with a 'Wine Plan'.
             * `STORAGE_SUBSCRIPTION` - The future payment will be associated with a 'Storage Subscription'.
          example: 'WINEREWARD_SUBSCRIPTION'

        displayName:
          type: string
          readOnly: true
          example: 'The Seasons'
          description: |
            A descriptive name of the actual scheme that the customer will be enrolled onto.
        schemeId:
          type: string
          readOnly: true
          example: 'SEAS'
          description: |
            The internal schemeIf of the actual scheme.
            
            e.g. 'SEAS' might be the internal scheme id representing 'The Seasons' wine plan/club.
        frequency:
          type: string
          readOnly: true
          example: "12 weeks"
          description: |
            A 'free text' string representing the frequency between renewals.
            
            This period indicates how long it will be and often the customer will be asked to make future payments
            to continue to enjoy the benefits of the scheme
            
            e.g.   If frequency contains '12 weeks' and the subscription type is `WINEPLAN_RECRUITMENT_ITEM` then this would indicate that the customer will receive their first case in 12 weeks at which time payment will be taken
        currentCasePrice:
          description: |
            The amount the customer will pay for the case being purchased as a line item in this order.
          type: number
          readOnly: true
          format: double
          example: 69.99  
        nextCasePrice:
          description: |
            The amount the customer is expected to pay for the next renewal
          type: number
          readOnly: true
          format: double
          example: 89.99  
        nextCaseDeliveryCharge:
          description: |
            The amount the customer is expected to pay for delivery assuming they have no active subscription which provides for free delivery
          type: number
          readOnly: true
          format: double
          example: 7.99