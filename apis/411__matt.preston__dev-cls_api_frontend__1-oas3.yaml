penapi: 3.0.1
info:
  title: cls-api-frontend
  version: '1-oas3'
servers:
  - url: 'https://dev.api.cls-dev.digital.coop.co.uk/{basePath}'
    variables:
      basePath:
        default: /webleads
paths:
  /:
    post:
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/webLead'
        required: true
      security:
        - api_key: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response'
    options:
      responses:
        '200':
          description: 200 response
          headers:
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Methods:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content: {}
components:
  schemas:
    webLead:
      required:
        - dateStamp
        - enquiryType
        - telephone
      type: object
      properties:
        interestWills:
          title: Interest Wills
          type: boolean
          description: The prospective customer is interested in wills. CEP only.
        referralStaffTitle:
          title: Referral Staff Title.
          maxLength: 10
          type: string
          description: Referrers title
        referralStaffID:
          title: Referral Staff ID
          maxLength: 100
          type: string
          description: Referrers staff/employee identifier.
        scottish:
          title: Scottish
          type: boolean
          description: The prospective customer resides in scottish jurisdiction. CEP only.
        existingClient:
          title: Existing Client
          type: boolean
          description: Is the prospective customer an existing CLS client?
        interestProbate:
          title: Intrest Probate
          type: boolean
          description: The prospective customer is interested in probate. CEP only.
        forename:
          title: Forename
          maxLength: 50
          type: string
          description: >-
            The forename of the prospective customer. Only required when full
            name is not provided.
        preferredContactTime:
          title: Preferred Contact Time
          maxLength: 10
          type: string
          description: >-
            The preferred time we should attempt to contact the prospective
            customer. Format should be 10AM-12PM. We use this to schedule the
            call back task in Proclaim.
        staffMember:
          title: Staff Member
          type: boolean
          description: Is the prospective customer a Co-op employee.
        interestFuneralPlans:
          title: Interest Funeral Plans
          type: boolean
          description: The prospective customer is interested in funeral plans. CEP only.
        interestGeneral:
          title: Intrest Client General
          type: boolean
          description: >-
            The prospective customer is interested in a non specific product.
            CEP only.
        vulnerableCustomer:
          title: Vulnerable Customer
          type: boolean
          description: The prospective customer has special or specific needs. CEP only.
        addressLine1:
          title: Address Line 1
          maxLength: 50
          type: string
          description: The first line of the address for the prospective customer.
        addressLine2:
          title: Address Line 2
          maxLength: 50
          type: string
          description: The second line of the address for the prospective customer.
        addressLine3:
          title: Address Line 3
          maxLength: 50
          type: string
          description: The third line of the address for the prospective customer.
        addressLine4:
          title: Address Line 4
          maxLength: 50
          type: string
          description: The fourth line of the address for the prospective customer
        area:
          title: Area
          type: string
          description: 'Which area of the business does this relate to, CLS or CEP?'
          enum:
            - cls
            - cep
        referralStaffSurname:
          title: Referral Staff Surname.
          maxLength: 50
          type: string
          description: Referrers surname
        appointmentType:
          title: Appointment Type
          maxLength: 50
          type: string
          description: '?TBC?'
        utmSource:
          title: UTM_Source
          maxLength: 100
          type: string
          description: Google Analytics tracking utm_source parameter.
        voicemail:
          title: Voicemail
          type: boolean
          description: >-
            Does the prospective customer wish for us to leave a voicemail in
            the event that we can't get hold of them?
        postcode:
          title: Postcode
          maxLength: 50
          type: string
          description: The postcode of the prospective customer.
        telephone:
          title: Telephone
          maxLength: 50
          type: string
          description: The telephone number of the prospective customer.
          format: phone
        utmCampaign:
          title: UTM_Campaign
          maxLength: 100
          type: string
          description: Google Analytics tracking utm_campaign parameter.
        referralReference:
          title: Referral Reference
          maxLength: 100
          type: string
          description: Reference provided by 3rd party referrer.
        referralTelephone:
          title: Referral Telephone
          maxLength: 50
          type: string
          description: Referrers telephone number.
          format: phone
        referralEmail:
          title: Referral Email
          maxLength: 100
          type: string
          description: Referrers Email Address.
          format: email
        enquiryType:
          title: Enquiry Type
          type: string
          description: >-
            The type of enquiry being submitted. This allows us to direct the
            lead to the correct part of the business.
          enum:
            - other
            - probate
            - family
            - wills
            - personalInjury
            - conveyancing
            - employment
            - legalAdvice
            - consumerLaw
            - lastingPowerOfAttorney
            - prePaidFuneralPlans
            - assetProtection
            - communityGroupTalks
        dateStamp:
          title: Date Stamp
          type: string
          description: >-
            The date and time that the lead was submitted by the prospective
            customer.
          format: date-time
        preferredContactMethod:
          title: Preferred Contact Method
          type: string
          description: >-
            The preferred method of contact requested by the prospective
            customer.
          enum:
            - noPreference
            - phone
            - email
        freeWillEligable:
          title: Free Will Eligable
          type: boolean
          description: The prospective customer is eligable for a free will. CEP only.
        subType:
          title: Sub Type
          type: string
          description: >-
            The sub-type of enquiry being submitted. This allows us to direct
            the lead to the correct part of the business.
          enum:
            - probateSelfService
            - divorce
            - finance
            - children
            - divorceAndFinance
            - divorceAndChildren
            - financeAndChildren
            - divorceFinanceAndChildren
            - other
        utmMedium:
          title: UTM_Medium
          maxLength: 100
          type: string
          description: Google Analytics tracking utm_medium parameter.
        referralStaffForename:
          title: Referral Staff Forename.
          maxLength: 50
          type: string
          description: Referrers forename
        interestAssetProtection:
          title: Intrest Asset Protection
          type: boolean
          description: >-
            The prospective customer is interested in asset protection. CEP
            only.
        membership:
          title: Membership
          type: boolean
          description: Is the prospective customer a Co-op member?
        title:
          title: Title
          maxLength: 10
          type: string
          description: >-
            The title of the prospective customer. Only required when full name
            is not provided.
        interestLPA:
          title: Interest LPA
          type: boolean
          description: The prospective customer is interested in LPA's. CEP only.
        interestHealthWelware:
          title: Intrest Health & Welfare
          type: boolean
          description: >-
            The prospective customer is interested in health & welfare. CEP
            only.
        surname:
          title: Surname
          maxLength: 50
          type: string
          description: >-
            The surname of the prospective customer. Only required when full
            name is not provided.
        preferredContactDay:
          title: Preferred Contact Day
          type: string
          description: >-
            The preferred day we should attempt to contact the prospective
            customer.
          enum:
            - sunday
            - today
            - tomorrow
            - monday
            - tuesday
            - wednesday
            - thursday
            - friday
            - saturday
        enquiryMethod:
          title: Enquiry Method
          type: string
          description: Is this a standard web enquiry or a referral?
          enum:
            - none
            - referral
        email:
          title: Email Address
          maxLength: 100
          type: string
          description: The email address of the prospective customer.
          format: email
        interestTrusts:
          title: Interest Trusts
          type: boolean
          description: The prospective customer is interested in trusts. CEP only.
        utmTerm:
          title: UTM_Term
          maxLength: 100
          type: string
          description: >-
            Google Analytics tracking utm_term parameter. This is currently used
            to populate the 'Marketing Code' in Proclaim
        referralBranchID:
          title: Referral Branch ID
          maxLength: 100
          type: string
          description: Referrers branch/office identifier.
        mobile:
          title: Mobile
          maxLength: 50
          type: string
          description: The mobile number for the prospective customer.
          format: phone
        fullName:
          title: Full Name
          maxLength: 100
          type: string
          description: >-
            The full name of the prospective customer. Only required when full
            name is not provided.
        message:
          title: Message
          maxLength: 500
          type: string
          description: >-
            The enquiry message, allowing the prospective customer to give us
            more information.
        promotions:
          title: Promotions
          type: boolean
          description: >-
            Is the prospective customer contacting us in relation to a
            promotion?
        referralType:
          title: Referral Type
          type: string
          description: What type of referral is it?.
          enum:
            - none
            - buildingSociety
            - dct
            - probateCIF
            - legalEnquiryService
        dateOfFuneral:
          title: Date of Funeral
          type: string
          description: The date of the funeral. This is for DCT referrals only. CEP only.
          format: date-time
        interestFinanceProperty:
          title: Intrest Finance & Property
          type: boolean
          description: >-
            The prospective customer is interested in finance & property. CEP
            only.
    response:
      type: object
      properties:
        message:
          title: Message
          type: string
          description: Descriptive response message.
  securitySchemes:
    api_key:
      type: apiKey
      name: x-api-key
      in: header