openapi: 3.0.0
info:
  title: BOOKME Beta Api
  description: BOOKME API Documentation
  termsOfService: 'http://example.com/terms'
  contact:
    name: Datainfosec Consult Limited
    url: 'https://datainfosec.net'
    email: info@datainfosec.net
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
  version: "1.0.0-oas3-oas3"
servers:
  - url: 'https://bookme.herokuapp.com'
    description: Development server
  - url: //bookme.herokuapp.com/
externalDocs:
  url: 'http://www.bookme.herokuapp.com'
tags:
  - name: Admin
  - name: Bankaccounts
  - name: Business
  - name: Businesshours
  - name: Category
  - name: Clients
  - name: Jobs
  - name: Notification
  - name: Providers
  - name: Reply
  - name: Reviews
  - name: Services
  - name: Staff
  - name: Ticket
  - name: User
paths:
  /providers/signup:
    post:
      summary: ''
      description: ''
      tags:
        - Providers
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                email:
                  type: string
                password:
                  type: string
                phone_number:
                  type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /providers/verifyemail:
    get:
      summary: ''
      description: ''
      tags:
        - Providers
      parameters:
        - name: email
          in: query
          description: Provider email
          required: true
          schema:
            type: string
        # - name: signupUrl
        #   in: query
        #   description: Url for signing user up if email does not exist
        #   required: true
        #   schema:
        #     type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /providers/activateAcct:
    put:
      summary: 'Activate provider account'
      description: 'isBiz defaults to false and businessName is not requires except when signing up as a business'
      tags:
        - Providers
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                first_name:
                  type: string
                isBiz:
                  type: boolean
                businessName:
                  type: string
                last_name:
                  type: string
                user_name:
                  type: string
                bvn:
                  type: number
                description:
                  type: number
                category:
                  type: string
                address:
                  type: string
                city:
                  type: string
                state:
                  type: string
                country:
                  type: string
                phone_number:
                  type: string
                birth_date:
                  type: string
                  format: date-time
              required:
              - first_name
              - last_name
              - user_name
              - bvn
              - address
              - city
              - state
              - country
              - phone_number
              - birth_date
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /providers/login:
    get:
      summary: Login as a provider
      description: Api endpoint for provider login
      tags:
        - Providers
      parameters:
        - name: email
          in: query
          description: Provider email
          required: true
          schema:
            type: string
        - name: password
          in: query
          description: Provider password
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /providers/categoricalsearch:
    get:
      summary: Provider Categorical Search
      description: Search for providers by category
      tags:
        - Providers
      parameters:
        - name: category
          in: query
          description: Provider category
          required: true
          schema:
            type: string
        - name: client
          in: query
          description: Logged in client id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /providers/locativesearch:
    get:
      summary: Provider Locative Search
      description: Search for providers by location
      tags:
        - Providers
      parameters:
        - name: city
          in: query
          description: Providers city, country, address or state
          required: true
          schema:
            type: string
        - name: client
          in: query
          description: Logged in client id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  # /providers/signup:
  #   post:
  #     summary: 'Provider Signup'
  #     description: 'Create new provider'
  #     tags:
  #       - Providers
  #     requestBody:
  #       required: true
  #       content:
  #         application/json:
  #           schema:
  #             type: object
  #             properties:
  #               first_name:
  #                 type: string
  #               last_name:
  #                 type: string
  #               user_name:
  #                 type: string
  #               email:
  #                 type: string
  #               password:
  #                 type: string
  #               bvn:
  #                 type: number
  #               address:
  #                 type: string
  #               city:
  #                 type: string
  #               state:
  #                 type: string
  #               country:
  #                 type: string
  #               phone_number:
  #                 type: string
  #               category:
  #                 type: string
  #               birth_date:
  #                 type: string
  #                 format: date-time
  #             required:
  #             - first_name
  #             - last_name
  #             - user_name
  #             - email
  #             - password
  #             - bvn
  #             - address
  #             - city
  #             - state
  #             - country
  #             - phone_number
  #             - category
  #             - birth_date
  #     responses:
  #       '200':
  #         description: The requested resource
  #       '404':
  #         description: Resource not found
  #       '500':
  #         description: Internal server error
  /providers/updateProfile:
    put:
      summary: 'Update a provider'
      description: 'Modify a provider account'
      security:
        - bearerAuth: []
      tags:
        - Providers
      parameters:
        # # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: string
                skills:
                  type: array
                  items:
                    type: string
                  minItems: 0
                  maxItems: 5
                description:
                  type: string
                password:
                  type: string
                picture:
                  type: string
                city:
                  type: string
                address:
                  type: string
                country:
                  type: string
                state:
                  type: string
              required:
              - id
              - skills
              - description
              - password
              - picture
              - city
              - address
              - country
              - state
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /providers/getProviders:
    get:
      summary: ''
      description: ''
      tags:
        - Providers
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /providers/getProvider:
    get:
      summary: 'Get A particular provider'
      description: 'Uually fired on opening dashboard route for provider details'
      tags:
        - Providers
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: id
          in: query
          description: The provider id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /providers/searchByCatLoc:
    get:
      summary: ''
      description: ''
      tags:
        - Providers
      parameters:
        - name: category
          in: query
          description: Provider category
          required: true
          schema:
            type: string
        - name: city
          in: query
          description: Providers city, country, address or state
          required: true
          schema:
            type: string
        - name: client
          in: query
          description: Logged in client id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /providers/searchUserName:
    get:
      summary: ''
      description: ''
      tags:
        - Providers
      parameters:
        - name: user_name
          in: query
          description: Provider username
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /providers/addAvatar:
    put:
      summary: ''
      description: ''
      tags:
        - Providers
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                picture:
                  description: Base64 string
                  type: string
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: id
          in: query
          description: Provider id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /providers/getProviderLoc:
    get:
      summary: 'Get provider loc'
      description: 'Returns last known provider location in lng lat'
      tags:
        - Providers
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: id
          in: query
          description: Provider id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /providers/updateLocation:
    put:
      summary: 'Update the provider loc'
      description: 'Update the provider loc'
      tags:
        - Providers
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: long
          in: query
          description: Provider long
          required: true
          schema:
            type: number
        - name: lat
          in: query
          description: Provider lat
          required: true
          schema:
            type: number
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /providers/retrievePassword:
    get:
      summary: 'Password retrieval'
      description: 'Recover forgotten passwords'
      tags:
        - Providers
      parameters:
        - name: email
          in: query
          description: Provider email
          required: true
          schema:
            type: string
        - name: user_name
          in: query
          description: Provider username
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /location/getlocation:
    get:
      summary: ''
      description: ''
      tags:
        - location
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: type
          in: query
          description: A string of value 'provider' or 'client' for getting their location data
          required: true
          schema:
            type: string
        - name: id
          in: query
          description: The 'provider' or 'client' id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /category:
    post:
      summary: 'Create category'
      description: ''
      tags:
        - Category
      parameters:
      - name: name
        in: query
        description: Category name
        required: true
        schema:
          type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
    get:
      summary: 'Fetch categories'
      description: 'Fetch all category records'
      tags:
        - Category
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  '/category/{id}':
    get:
      summary: 'Create category'
      description: ''
      tags:
        - Category
      parameters:
      - name: id
        in: path
        description: Category id
        required: true
        schema:
          type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /clients/login:
    get:
      summary: ''
      description: ''
      tags:
        - Clients
      parameters:
        - name: email
          in: query
          description: Client email
          required: true
          schema:
            type: string
        - name: password
          in: query
          description: Client password
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /clients/delete:
    delete:
      summary: ''
      description: ''
      tags:
        - Clients
      parameters:
        - name: id
          in: query
          description: Client ID
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /clients/deleteByEmail:
    delete:
      summary: ''
      description: ''
      tags:
        - Clients
      parameters:
        - name: email
          in: query
          description: Client email
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /clients/updateProfile:
    put:
      summary: ''
      description: ''
      tags:
        - Clients
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: string
                description:
                  type: string
                password:
                  type: string
                picture:
                  type: string
                city:
                  type: string
                address:
                  type: string
                country:
                  type: string
                state:
                  type: string
              required:
              - id
              - description
              - password
              - picture
              - city
              - address
              - country
              - state
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  # /clients/createProviderAcct:
  #   post:
  #     summary: 'Create provider account'
  #     description: 'Generate provider account for the client'
  #     tags:
  #       - Clients
  #     parameters:
  #       # - $ref: '#/components/parameters
  #       - $ref: '#/components/parameters/TokenQueryParam'
  #       - name: id
  #         in: query
  #         description: The client id
  #         required: true
  #         schema:
  #           type: string
  #     responses:
  #       '200':
  #         description: The requested resource
  #       '404':
  #         description: Resource not found
  #       '500':
  #         description: Internal server error
  /clients/getClients:
    get:
      summary: ''
      description: ''
      tags:
        - Clients
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /clients/getUnactivatedAcct:
    get:
      summary: ''
      description: ''
      tags:
        - Clients
      parameters:
        - name: id
          in: query
          description: The client id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /clients/getClient:
    get:
      summary: ''
      description: ''
      tags:
        - Clients
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: id
          in: query
          description: The client id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  # /clients/searchClientByLocation:
  #   get:
  #     summary: ''
  #     description: ''
  #     tags:
  #       - Clients
  #     parameters:
  #       # - $ref: '#/components/parameters
  #       - $ref: '#/components/parameters/TokenQueryParam'
  #     responses:
  #       '200':
  #         description: The requested resource
  #       '404':
  #         description: Resource not found
  #       '500':
  #         description: Internal server error
  # /clients/searchClientByUserName:
  #   get:
  #     summary: ''
  #     description: ''
  #     tags:
  #       - Clients
  #     parameters:
  #       # - $ref: '#/components/parameters
  #       - $ref: '#/components/parameters/TokenQueryParam'
  #     responses:
  #       '200':
  #         description: The requested resource
  #       '404':
  #         description: Resource not found
  #       '500':
  #         description: Internal server error
  /clients/verifyEmail:
    get:
      summary: ''
      description: ''
      tags:
        - Clients
      parameters:
        - name: email
          in: query
          description: Client email
          required: true
          schema:
            type: string
        # - name: signupUrl
        #   in: query
        #   description: Url for signing user up if email does not exist
        #   required: true
        #   schema:
        #     type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /clients/signup:
    post:
      summary: ''
      description: ''
      tags:
        - Clients
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                email:
                  type: string
                password:
                  type: string
                phone_number:
                  type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /clients/activateAcct:
    put:
      summary: ''
      description: ''
      tags:
        - Clients
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                first_name:
                  type: string
                last_name:
                  type: string
                user_name:
                  type: string
                bvn:
                  type: number
                address:
                  type: string
                city:
                  type: string
                state:
                  type: string
                country:
                  type: string
                phone_number:
                  type: string
                birth_date:
                  type: string
                  format: date-time
              required:
              - first_name
              - last_name
              - user_name
              - bvn
              - address
              - city
              - state
              - country
              - phone_number
              - birth_date
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /clients/addAvatar:
    put:
      summary: ''
      description: ''
      tags:
        - Clients
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                picture:
                  description: Base64 string
                  type: string
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: id
          in: query
          description: Client id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /clients/updateLocation:
    put:
      summary: ''
      description: ''
      tags:
        - Clients
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: long
          in: query
          description: Client long
          required: true
          schema:
            type: number
        - name: lat
          in: query
          description: Client lat
          required: true
          schema:
            type: number
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /clients/getClientLoc:
    get:
      summary: ''
      description: ''
      tags:
        - Clients
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: id
          in: query
          description: Client id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  # /clients/deleteCLient:
  #   get:
  #     summary: ''
  #     description: ''
  #     tags:
  #       - Clients
  #     parameters:
  #       # - $ref: '#/components/parameters
  #       - $ref: '#/components/parameters/TokenQueryParam'
  #     responses:
  #       '200':
  #         description: The requested resource
  #       '404':
  #         description: Resource not found
  #       '500':
  #         description: Internal server error
  /clients/clientExists:
    get:
      summary: ''
      description: ''
      tags:
        - Clients
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: email
          in: query
          description: Client email
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /clients/retrievePassword:
    get:
      summary: ''
      description: ''
      tags:
        - Clients
      parameters:
        - name: email
          in: query
          description: Client email
          required: true
          schema:
            type: string
        - name: user_name
          in: query
          description: Client username
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  # '/client/requests/{client}':
  #   get:
  #     summary: ''
  #     description: ''
  #     tags:
  #       - requests
  #     parameters:
  #       - in: path
  #         name: client
  #         required: true
  #         description: This is a path param for client
  #         schema:
  #           type: string
  #       # - $ref: '#/components/parameters
  #       - $ref: '#/components/parameters/TokenQueryParam'
  #     responses:
  #       '200':
  #         description: The requested resource
  #       '404':
  #         description: Resource not found
  #       '500':
  #         description: Internal server error
  /admin/validateBVN:
    get:
      summary: 'Validate a BVN'
      description: 'Validate the BVN provided during account activation'
      tags:
        - Admin
      parameters:
        - name: bvn
          in: query
          description: Client bvn
          required: true
          schema:
            type: number
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /business/register:
    post:
      summary: 'Register Business'
      description: 'First step in business account creation'
      tags:
        - Business
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                business_name:
                  type: string
                bio:
                  type: string
                address:
                  type: string
                lga:
                  type: string
                state:
                  type: string
                business_email:
                  type: string
                provider:
                  type: string
                work_hours:
                  type: array
                  items:
                    type: object
                    properties:
                      week_day:
                        type: integer
                      from:
                        type: number
                      to:
                        type: number
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /business/addservices:
    post:
      summary: 'Register Business services'
      description: 'second step in business account creation'
      tags:
        - Business
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                bizId:
                  type: string
                services:
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                      price:
                        type: number
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /business/addaccount:
    post:
      summary: 'Register Business'
      description: 'Final step in business account creation'
      tags:
        - Business
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                bizId:
                  type: string
                bank_name:
                  type: string
                bvn:
                  type: string
                account_number:
                  type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /business/addstaff:
    post:
      summary: 'Register Business staff'
      description: 'Third step in business account creation'
      tags:
        - Business
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                bizId:
                  type: string
                staff:
                  type: array
                  items:
                    type: object
                    properties:
                      phone_number:
                        type: string
                      email:
                        type: string
                      name:
                        type: string
                      job_title:
                        type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /jobs/updateComplete:
    put:
      summary: ''
      description: ''
      tags:
        - Jobs
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                comment:
                  description: Client's comment
                  type: string
                rating:
                  description: Clients rating
                  type: number
                id:
                  description: Job ID
                  type: string
                job_id:
                  description: The jobs Job_NO attribute
                  type: string
                provider_id:
                  description: Job Provider ID
                  type: string
                client_id:
                  description: Job Client ID
                  type: string
                pay:
                  description: Job pay
                  type: number
                email:
                  description: Client email
                  type: string
                phone:
                  description: Client phonenumber
                  type: string
                number:
                  description: Card number
                  type: number
                cvv:
                  description: Card
                  type: number
                name:
                  description: Job provider's name
                  type: string
                payerName:
                  description: Job Client's name
                  type: string
                month:
                  description: Card expiry month
                  type: string
                year:
                  description: Card expiry year
                  type: string
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /jobs/updateCancel:
    put:
      summary: ''
      description: ''
      tags:
        - Jobs
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: id
          in: query
          required: true
          description: the job ID
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /jobs/createJob:
    post:
      summary: ''
      description: ''
      tags:
        - Jobs
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                service:
                  description: ID of the request business service
                  type: string
                description:
                  description: Job Description
                  type: string
                provider:
                  description: Job Provider ID
                  type: string
                client:
                  description: Job Client ID
                  type: string
                business:
                  description: Provider business ID
                  type: string
                duration:
                  description: Job span in hours
                  type: number
                start:
                  description: Job Start date
                  type: string
                  format: datetime
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /jobs/getJobs:
    get:
      summary: ''
      description: ''
      tags:
        - Jobs
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: user
          in: query
          description: Client or provider id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /jobs/getJobsbyCompletion:
    get:
      summary: 'Get jobs'
      description: 'Get jobs by completion state for a period'
      tags:
        - Jobs
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: user
          in: query
          description: Client or provider id
          required: true
          schema:
            type: string
        - name: completed
          in: query
          description: Client or provider id
          required: true
          schema:
            type: boolean
        - name: year
          in: query
          description: The year of the query period
          required: false
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /jobs/expenditure:
    get:
      summary: 'Get client or provider expenditure in a time frame'
      description: 'Get client or provider expenditure for completed jobs'
      tags:
        - Jobs
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: user
          in: query
          description: Client or provider id
          required: true
          schema:
            type: string
        - name: start
          in: query
          description: Start of period date string
          required: true
          schema:
            type: string
        - name: end
          in: query
          description: End of period date string
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /jobs/getJob:
    get:
      summary: ''
      description: ''
      tags:
        - Jobs
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: id
          in: query
          required: true
          description: the job ID
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /jobs/declineRequest:
    put:
      summary: ''
      description: ''
      tags:
        - Jobs
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: id
          in: query
          required: true
          description: the job ID
          schema:
            type: string
        - name: app_id
          in: query
          required: true
          description: onesignal app id
          schema:
            type: string
        - name: client
          in: query
          required: true
          description: the cancelling client id
          schema:
            type: string
        - name: production
          in: query
          required: true
          description: the app env
          schema:
            type: string
            enum: 
              - 'true'
              - 'false'
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /jobs/acceptRequest:
    put:
      summary: ''
      description: ''
      tags:
        - Jobs
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: app_id
          in: query
          required: true
          description: onesignal app id
          schema:
            type: string
        - name: client
          in: query
          required: true
          description: the cancelling client id
          schema:
            type: string
        - name: production
          in: query
          required: true
          description: the app env
          schema:
            type: string
            enum: 
              - 'true'
              - 'false'
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /jobs/destroyRequest:
    delete:
      summary: ''
      description: ''
      tags:
        - Jobs
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /reviews/getReviews:
    get:
      summary: ''
      description: ''
      tags:
        - Reviews
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: user
          in: query
          description: The 'provider' or 'client' id for the reviwed user
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /reviews/makeProviderReview:
    post:
      summary: ''
      description: ''
      tags:
        - Reviews
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                rating:
                  type: number
                reviewer_name:
                  type: string
                reviewer:
                  type: string
                text:
                  type: string
                user:
                  type: string
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /reviews/makeClientReview:
    post:
      summary: ''
      description: ''
      tags:
        - Reviews
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                rating:
                  type: number
                reviewer_name:
                  type: string
                reviewer:
                  type: string
                text:
                  type: string
                user:
                  type: string
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /ticket/createTicket:
    post:
      summary: ''
      description: ''
      tags:
        - Ticket
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                complaint:
                  type: string
                priority:
                  type: string
                  enum: [low, medium, high]
                client:
                  type: string
                provider:
                  type: string
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /ticket/listTicket:
    get:
      summary: ''
      description: ''
      tags:
        - Ticket
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: provider
          in: query
          description: The provider id
          required: false
          schema:
            type: string
        - name: client
          in: query
          description: The client id
          required: false
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
  /ticket/getTicket:
    get:
      summary: ''
      description: ''
      tags:
        - Ticket
      parameters:
        # - $ref: '#/components/parameters
        - $ref: '#/components/parameters/TokenQueryParam'
        - name: id
          in: query
          description: The ticket id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The requested resource
        '404':
          description: Resource not found
        '500':
          description: Internal server error
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT  
  parameters:
    WhereQueryParam:
      in: query
      name: where
      required: false
      description: >-
        This follows the standard from
        http://sailsjs.com/documentation/reference/blueprint-api/find-where
      schema:
        type: string
    LimitQueryParam:
      in: query
      name: limit
      required: false
      description: >-
        The maximum number of records to send back (useful for pagination).
        Defaults to undefined
      schema:
        type: integer
    SkipQueryParam:
      in: query
      name: skip
      required: false
      description: The number of records to skip (useful for pagination).
      schema:
        type: integer
    SortQueryParam:
      in: query
      name: sort
      required: false
      description: >-
        The sort order. By default, returned records are sorted by primary key
        value in ascending order. e.g. ?sort=lastName%20ASC
      schema:
        type: string
    PopulateQueryParam:
      in: query
      name: populate
      required: false
      description: >-
        check for better understanding ->
        http://sailsjs.com/documentation/reference/blueprint-api/find-where
      schema:
        type: string
    PageQueryParam:
      in: query
      name: page
      required: false
      description: This helps with pagination and when the limit is known
      schema:
        type: integer
    SelectQueryParam:
      in: query
      name: select
      required: false
      description: 'This helps with what to return for the user and its "," delimited'
      schema:
        type: string
    TokenHeaderParam:
      in: header
      name: token
      required: false
      description: Incase we want to send header information along our request
      schema:
        type: string
    AuthorizationHeaderParam:
      in: header
      name: Authorization
      required: true
      description: Auth token of format (Authorization, `Bearer ${JWTTOKEN}`)
      schema:
        type: string
    IDPathParam:
      in: path
      name: id
      required: true
      description: This is to identify a particular object out
      schema:
        type: string
    PerPageQueryParam:
      in: query
      name: perPage
      required: false
      description: This helps with pagination and when the limit is known for pagify
      schema:
        type: integer
    TokenQueryParam:
      in: query
      name: token
      required: true
      description: Currently logged in users id
      schema:
        type: string
  schemas:
    admin:
      properties:
        name:
          type: string
        email:
          type: string
        replies:
          type: string
        picture:
          type: string
      required:
      - name
    bankaccounts:
      properties:
        bank_name:
          type: string
        business:
          type: string
        account_number:
          type: string
        bvn_data:
          type: string
      required:
      - bank_name
      - account_number
      - bvn_data
    business:
      properties:
        business_name:
          type: string
        business_email:
          type: string
        business_phone_number:
          type: string
        password:
          type: string
        encrypted_password:
          type: string
        bvn:
          type: string
        bio:
          type: string
        address:
          type: string
        city:
          type: string
        lga:
          type: string
        state:
          type: string
        country:
          type: string
        rating:
          type: number
          format: float
        business_category:
          type: string
        business_logo:
          type: string
        jobs:
          type: string
        tickets:
          type: string
        reviews:
          type: string
        services:
          type: string
        staff:
          type: string
        accounts:
          type: string
        workHours:
          type: string
        notifications:
          type: string
        toJSON:
          type: string
      required:
      - business_name
      - business_email
      - password
      - bio
    businesshours:
      properties:
        week_day:
          type: integer
          format: int32
        from:
          type: number
          format: float
        to:
          type: number
          format: float
        business:
          type: string
        isActive:
          type: boolean
      required:
      - week_day
      - from
      - to
    category:
      properties:
        name:
          type: string
        code:
          type: string
      required:
      - name
      - code
    clients:
      properties:
        first_name:
          type: string
        last_name:
          type: string
        user_name:
          type: string
        email:
          type: string
        password:
          type: string
        encrypted_password:
          type: string
        bvn:
          type: string
        description:
          type: string
        phone_number:
          type: string
        address:
          type: string
        city:
          type: string
        state:
          type: string
        country:
          type: string
        picture:
          type: string
        birth_date:
          type: string
          format: date-time
        jobs:
          type: string
        tickets:
          type: string
        long:
          type: number
          format: float
        lat:
          type: number
          format: float
        reviews:
          type: string
        providerAcct:
          type: string
        activated:
          type: boolean
        isProvider:
          type: boolean
        replies:
          type: string
        notifications:
          type: string
        name:
          type: string
        toJSON:
          type: string
      required:
      - email
      - password
    jobs:
      properties:
        title:
          type: string
        year:
          type: string
        comment:
          type: string
        job_no:
          type: string
        rating:
          type: integer
          format: int32
        status:
          type: string
          enum:
          - pending
          - ongoing
          - cancelled
          - completed
          - declined
        description:
          type: string
        start:
          type: string
          format: date-time
        end:
          type: string
          format: date-time
        pay:
          type: number
          format: float
        provider:
          type: string
        client:
          type: string
        business:
          type: string
      required:
      - title
      - description
      - start
      - end
      - pay
    notification:
      properties:
        body:
          type: string
        from:
          type: string
        client:
          type: string
        provider:
          type: string
        business:
          type: string
    providers:
      properties:
        first_name:
          type: string
        last_name:
          type: string
        user_name:
          type: string
        email:
          type: string
        password:
          type: string
        encrypted_password:
          type: string
        bvn:
          type: string
        description:
          type: string
        police_report:
          type: string
        phone_number:
          type: string
        address:
          type: string
        city:
          type: string
        state:
          type: string
        country:
          type: string
        rating:
          type: number
          format: float
        category:
          type: string
        picture:
          type: string
        birth_date:
          type: string
          format: date-time
        jobs:
          type: string
        tickets:
          type: string
        reviews:
          type: string
        skills:
          type: string
          maximum: 5
        long:
          type: number
          format: float
        lat:
          type: number
          format: float
        isBiz:
          type: boolean
        businessName:
          type: string
        replies:
          type: string
        notifications:
          type: string
        toJSON:
          type: string
      required:
      - email
      - bvn
      - category
    reply:
      properties:
        body:
          type: string
        ticket:
          type: string
        admin:
          type: string
        client:
          type: string
        provider:
          type: string
        business:
          type: string
    reviews:
      properties:
        rating:
          type: number
          format: float
          maximum: 5
        reviewer:
          type: string
        content:
          type: string
        reviewer_id:
          type: string
        reviewee_id:
          type: string
        client:
          type: string
        business:
          type: string
        provider:
          type: string
        reply:
          type: string
      required:
      - reviewer
      - content
      - reviewer_id
      - reviewee_id
    services:
      properties:
        name:
          type: string
        price:
          type: number
          format: float
        business:
          type: string
      required:
      - name
      - price
    staff:
      properties:
        name:
          type: string
        phone_number:
          type: string
        email:
          type: string
        business:
          type: string
      required:
      - name
      - phone_number
      - email
    ticket:
      properties:
        title:
          type: string
        ticket_no:
          type: string
        media:
          type: string
        complaint:
          type: string
        status:
          type: string
          enum:
          - open
          - closed
        priority:
          type: string
          enum:
          - low
          - medium
          - high
        client:
          type: string
        business:
          type: string
        provider:
          type: string
        replies:
          type: string
      required:
      - title
      - complaint
    user:
      properties:
        email:
          type: string
        username:
          type: string
        password:
          type: string
          minLength: 4
        accountType:
          type: string
        active:
          type: boolean
        token:
          type: string
        isPasswordValid:
          type: string
        toJSON:
          type: string
      required:
      - password

        
        
security:
  - bearerAuth: []