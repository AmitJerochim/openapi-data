openapi: 3.0.0
info:
  description: >-
    <h2>Our NPS API makes it easy for developers to integrate many of Referion
    NPS features into their applications.</h2><p>Welcome to version 1.3 of our
    NPS API! You can use our API to access endpoints, which can get information
    on contacts, feedback, and campaign metrics in our database. Here you can
    read the docs or even try the endpoints. There are a lot of features
    implemented, but probably the most popular use is triggering to send
    surveys.</p><br /><p>Changes in version 1.3<ul><li>Adaptation to internal changes in the platform.</li><li>New fields to customize the NPS question.</li></ul></p>
  version: "1.3"
  title: NPS API
  contact:
    name: Referion NPS Support
    email: soporte@referion.com
tags:
  - name: Campaigns
    description: Operations related to Campaigns.
  - name: Templates
    description: operations related to Templates.
  - name: Contact Lists
    description: operations related to Contact Lists.
  - name: Contacts
    description: operations related to Contacts.
  - name: Feedback
    description: operations related to Feedback.
  - name: Metrics
    description: Operations related to Dashboard Metrics.
  - name: Common Replies
    description: operations related to Common replies used in the feedback control panel.
  - name: Webhooks
    description: Subscription to system webhooks. After subscription you will be notified in the callback URL provided in your subscription request.
paths:
  '/campaigns/{secret}':
    get:
      tags:
        - Campaigns
      summary: Retrieve all campaigns matching search criteria
      operationId: getCampaigns
      description: >-
        Retrieves all campaigns and their details including id, type, campaign
        name, status, original launch date, business/natural days, drip
        duration, reminder on/off, feedback forward, recurring schedule, current
        timezone, current template, current contact list.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: query
          name: searchString
          description: pass an optional search string for looking up campaign names.
          required: false
          schema:
            type: string
      responses:
        '200':
          description: search results matching criteria
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Campaign'
        '400':
          description: Bad input parameter
        '404':
          description: Client not found (wrong secret?)
    post:
      tags:
        - Campaigns
      summary: Create a new email NPS campaign
      operationId: createCampaign
      description: >-
        Create a new email NPS campaign. Creation of a campaign via the API
        <strong>requires an email template and a contact list</strong> to exist
        within your organization prior to campaign creation. No recurring
        schedule are allowed when creating campaigns via API, it can be done
        manually in the app after the campaign is created.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The new campaign created as a result of this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Campaign'
        '400':
          description: 'Invalid input, object invalid, missing params or body is not json'
        '404':
          description: Client not found (wrong secret?)
        '409':
          description: An existing campaign with that name already exists
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - send_time
                - contact_list_id
                - template_id
              properties:
                name:
                  type: string
                send_time:
                  type: string
                  format: date-time
                  example: '2018-01-23 15:00:06'
                contact_list_id:
                  type: integer
                template_id:
                  type: integer
                business_days:
                  type: boolean
                  description: >-
                    true if you want the survey to be sent only during business
                    days, or false if you want natural days.
                  default: false
                drip_days:
                  type: integer
                  enum:
                    - 0
                    - 7
                    - 15
                    - 30
                    - 60
                    - 90
                    - 120
                  description: >-
                    choose 0 if you want the survey to be sent as a whole in
                    just one block, or choose the number of dripping days if you
                    want to enable dripping.
                  default: 0
                feedback_fwd:
                  type: string
                timezone:
                  type: string
                  description: timezone you want to apply to the survey
                  default: Europe/Madrid
        description: new campaign to create
  '/campaigns/send-surveys/{secret}/{campaign_id}/{new_only}':
    get:
      tags:
        - Campaigns
      summary: Launch a new survey for a given email campaign
      operationId: launchSurvey
      description: >-
        Use this method to create and launch a new survey for the given email
        campaign. If the campaign is active (it has an ongoing survey) this
        operation is not allowed and an error will be returned.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: path
          name: campaign_id
          description: Id of the campaign.
          required: true
          schema:
            type: integer
        - in: path
          name: new_only
          description: >-
            true if only new contacts in the list should be surveyed, false if
            the survey must be sent to all contacts in the list.
          required: true
          schema:
            type: boolean
            default: true
      responses:
        '202':
          description: Accepted
        '400':
          description: Survey cannot be launched. Check your input params.
        '404':
          description: Client not found (wrong secret?)
        '409':
          description: >-
            Survey cannot be launched because this campaign is active and has an
            ongoing survey.
  '/templates/{secret}':
    get:
      tags:
        - Templates
      summary: Retrieve all templates matching search criteria
      operationId: getTemplates
      description: >-
        Retrieves all templates and their details including template id, name,
        context, type, used, reply_to, from, subject, logo, message,
        nps_question, optional_disclaimer, brand_color, button_shape,
        button_style, font_family, web_layout_style, creation date and language.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: query
          name: searchString
          description: pass an optional search string for looking up template names.
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Search results matching criteria
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Template'
        '404':
          description: Client not found (wrong secret?)
    post:
      tags:
        - Templates
      summary: Create a new template to be used in email surveys
      operationId: createTemplate
      description: >-
        Create an email template for your organization NPS surveys. Note that
        when providing a logo, it must be data from a base64 encoded image.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The new template created as a result of this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Template'
        '400':
          description: 'Invalid input, object invalid, missing params or body is not json'
        '404':
          description: Client not found (wrong secret?)
        '409':
          description: An existing template with that name already exists
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - reply_to
                - from
                - subject
                - logo
                - message
                - nps_question
              properties:
                name:
                  type: string
                  description: name for the new template.
                type:
                  type: string
                  description: 'type of template, it can be for customers or for employees.'
                  default: customers
                  enum:
                    - customers
                    - employees
                reply_to:
                  type: string
                  description: >-
                    email account for the reply_to field in NPS email surveys
                    using this template.
                  format: email
                  example: johndoe@acme.com
                from:
                  type: string
                  description: >-
                    email account for the from field in email NPS surveys using
                    this template.
                  format: email
                  example: johndoe@acme.com
                subject:
                  type: string
                  description: Email subject in email NPS surveys using this template.
                  example: We only need you for one minute
                logo:
                  type: string
                  format: byte
                  description: >-
                    Base64 encoded image data (only) representing the logo for
                    your survey. It is also the logo they see when they respond
                    to the survey with a score, located at the top of the
                    survey.
                  example: >-
                    data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOsAAAB9CAYAAABDNZSLAAAFvUlEQVR4Xu3aTU8UTRiF4SYiAokLEqNuCVtYm/j3Xbkh7ohr45adMYavNzVJTXraZpyoaTzvc7ESppk6dZ+6p7pL9q6vrx8GXwgg8M8T2CPrP9+RgAisCJDVQkAghABZQ4oSEwGyWgMIhBAga0hRYiJAVmsAgRACZA0pSkwEyGoNIBBCgKwhRYmJAFmtAQRCCJA1pCgxESCrNYBACAGyhhQlJgJktQYQCCFA1pCixESArNYAAiEEyBpSlJgIkNUaQCCEAFlDihITAbJaAwiEECBrSFFiIkBWawCBEAJkDSlKTATIag0gEEKArCFFiYkAWa0BBEIIkDWkKDERIKs1gEAIAbKGFCUmAmS1BhAIIUDWkKLERICs1gACIQTIGlKUmAiQ1RpAIIQAWUOKEhMBsloDCIQQIGtIUWIiQFZrAIEQAmQNKUpMBMhqDSAQQoCsIUWJiQBZrQEEQgiQNaQoMREgqzWAQAgBsoYUJSYCZLUGEAghQNaQosREgKzWAAIhBMgaUpSYCJDVGkAghABZQ4oSEwGyWgMIhBAga0hRYiJAVmsAgRACZA0pSkwEyGoNIBBCgKwLF3V5eTlcX1+vRz0/Px/evn27+v7+/n74+PHj8O3bt9X3L1++HN69e7e+9vb2dvjw4cNwd3e3/tne3t7w/v374ejoaOeZ9Pc5Pj7eeP/2Btvy/a3xdw7qwg0CZF1wQUxFaEN32V68eLEhao81FvbLly/D58+fNwv8DVl7jumHwbZ87cPgb42/IPL/1VBkXajO8a7UdtPXr1+v5Tw9PR1OTk6GT58+DQ8PD6ud8vv37xvfN1murq6Gr1+//rTj7jqFbTv3r/KdnZ398fi75nTdPAGyLrQy2q1vk/Hg4GB16/n8+fP1LWeTtckw/uq72OHh4U/Xj6/rt9HT6589e7bxYdDG6LfYbRf/8ePHhvS75Jvbece38QuhLDsMWZ+o+ulO1p9bW5y+g7Z/dxmmu2KPPX5m7TI1MduHQrtl7re6/ffbazc3NxuvzSHYttOOr/+dZ+YnQh4/LFmfoMKxeNPnxukhz5s3b4aLi4vVodT4Nnn8jNt35i7Y/v7+6lm47Z5zh099F54bu40/l2+X8Z8AZakhybpw3WMRtu1K23beHrnvwF3o6a48d3vdrtkm6675xmONx18YZ6nhyLpw3f1WdSrq3OHRttvax2QZP1c+tnNuk/WxfHO/M/dhsTDOUsORdcG6555F+/D9NrPtbO059dWrV+v/Ux2fFj/2ejugGgvVDrDae247vJrK/Cf5pgdkC2ItMxRZF6p67g8K+tBdqLnT1l+dBvfXx6e/TfZ2wDR+xh3/0cTcLvk38i2EsuwwZF2o+rk/KJjKOj3xHYvarx0LPX592230dAedk3WXfNPDr7l8C+EsOQxZS9Zu0okEyJrYmswlCZC1ZO0mnUiArImtyVySAFlL1m7SiQTImtiazCUJkLVk7SadSICsia3JXJIAWUvWbtKJBMia2JrMJQmQtWTtJp1IgKyJrclckgBZS9Zu0okEyJrYmswlCZC1ZO0mnUiArImtyVySAFlL1m7SiQTImtiazCUJkLVk7SadSICsia3JXJIAWUvWbtKJBMia2JrMJQmQtWTtJp1IgKyJrclckgBZS9Zu0okEyJrYmswlCZC1ZO0mnUiArImtyVySAFlL1m7SiQTImtiazCUJkLVk7SadSICsia3JXJIAWUvWbtKJBMia2JrMJQmQtWTtJp1IgKyJrclckgBZS9Zu0okEyJrYmswlCZC1ZO0mnUiArImtyVySAFlL1m7SiQTImtiazCUJkLVk7SadSICsia3JXJIAWUvWbtKJBMia2JrMJQmQtWTtJp1IgKyJrclckgBZS9Zu0okEyJrYmswlCZC1ZO0mnUiArImtyVySAFlL1m7SiQTImtiazCUJkLVk7SadSICsia3JXJIAWUvWbtKJBP4DZ8FG35Dk0xAAAAAASUVORK5CYII=
                logo_link:
                  type: string
                  description: Link associated to the logo image.
                  example: https://www.customeer.com
                message:
                  type: string
                  description: header message in email NPS surveys using this template.
                  example: >-
                    Please send us your review so that we can keep on working to
                    be a little better everyday. Thanks!
                nps_question:
                  type: string
                  description: >-
                    main subject of this NPS survey, for instance "How likely
                    would you recommend ACME Inc to other friends?"
                  example: ACME Inc.
                optional_disclaimer:
                  type: string
                  description: >-
                    legal disclaimer at the footer of the email in email NPS
                    surveys using this template.
                  example: By sending this survey you accept...
                language:
                  type: string
                  description: >
                    language code (ISO 639-1:2002). Default value "es". Idiomas
                    soportados actualmente: 'ca'  Catalá<br/> 'hr' 
                    Croatian<br/> 'cs'  Czech<br/> 'da'  Danish<br/> 'nl' 
                    Dutch<br/> 'en'  English<br/> 'fi'  Finnish<br/> 'fr' 
                    French (France)<br/> 'de'  German<br/> 'el'  Greek<br/>
                    'hi'  Hindi<br/> 'is'  Icelandic<br/> 'id'  Indonesian<br/>
                    'it'  Italian<br/> 'ja'  Japanese<br/> 'ko'  Korean<br/>
                    'pl'  Polish<br/> 'pt'  Portuguese (Portugal)<br/> 'ro' 
                    Romanian<br/> 'ru'  Russian<br/> 'es'  Spanish (Spain)<br/>
                    'sv'  Swedish<br/> 'tr'  Turkish<br/> 'uk'  Ukrainian<br/>
                    'vi'  Vietnamese<br/>
                  example: en
                thankyou_page:
                  $ref: '#/components/schemas/ThankyouPage'
        description: new template to create
  '/contactlists/{secret}':
    get:
      tags:
        - Contact Lists
      summary: >-
        Retrieve all contact lists for your organization matching search
        criteria
      operationId: getContactLists
      description: >-
        Retrieves all contact lists and their details including id, name,
        context, status and creation date.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: query
          name: searchString
          description: pass an optional search string for looking up contact lists names.
          required: false
          schema:
            type: string
      responses:
        '200':
          description: search results matching criteria
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ContactList'
        '400':
          description: Bad input parameter
        '404':
          description: Client not found (wrong secret?)
    post:
      tags:
        - Contact Lists
      summary: Create a new contact list to be used in email NPS surveys
      operationId: createContactlist
      description: >-
        Create a new contact list for your organization. This method just
        creates an empty contact list whose contacts should be added later.
        <strong>This list is not assigned to any campaign after its
        creation</strong>.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The new contact list created as a result of this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ContactList'
        '400':
          description: 'Invalid input, object invalid, missing params or body is not json'
        '404':
          description: Client not found (wrong secret?)
        '409':
          description: An existing contact list with that name already exists
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                  description: name for the new contact list.
        description: name for the new contact list
  '/contactlists/remove/{secret}/{contactlist}/{contact}':
    delete:
      tags:
        - Contact Lists
      summary: >-
        This removes a contact from a single contact list provided the contact
        id and the list id.
      operationId: removeContactFromContactlist
      description: >-
        This removes a contact from a single contact list with no other
        implications. The parameters required for this action are the list id
        and contact id.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: path
          name: contactlist
          description: the id of the contact list that the contact will be removed from.
          required: true
          schema:
            type: string
        - in: path
          name: contact
          description: the id of the contact you would like removed from the list.
          required: true
          schema:
            type: string
      responses:
        '204':
          description: The contact has been removed from the list.
        '404':
          description: Client not found (wrong secret?)
  '/contactlists/remove/{secret}/{contactlist}':
    post:
      tags:
        - Contact Lists
      summary: Remove a contact by its email from a list.
      operationId: removeContactFromListByEmail
      description: >-
        Remove a contact by its email. This action removes a contact from a
        contact list.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: path
          name: contactlist
          description: The id of the contact list that the contact will be removed from.
          required: true
          schema:
            type: string
      responses:
        '204':
          description: The contact has been removed from the list.
        '404':
          description: Client not found (wrong secret?)
      requestBody:
        $ref: '#/components/requestBodies/removeContactFromListByEmailContact'
  '/contactlists/remove/{secret}':
    post:
      tags:
        - Contact Lists
      summary: Remove a contact by its email from all the lists.
      operationId: removeContactByEmail
      description: >-
        Remove a contact by its email. This action removes a contact from all
        contact lists. The contact’s data will still exist in the organization,
        but their email will simply be removed from the lists it was attached
        to.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
      responses:
        '204':
          description: The contact has been removed from the list.
        '404':
          description: Client not found (wrong secret?)
      requestBody:
        $ref: '#/components/requestBodies/removeContactFromListByEmailContact'
  '/contactlists/delete/{secret}/{contactlist}':
    delete:
      tags:
        - Contact Lists
      summary: This removes a contact list provided the list id.
      operationId: removeContactlist
      description: >-
        This removes a contact list from the organization. The only parameter
        required for this action is the list id.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: path
          name: contactlist
          description: the id of the contact list that the will be removed.
          required: true
          schema:
            type: string
      responses:
        '204':
          description: The list has been removed.
        '400':
          description: 'bad input parameter, the list cannot be removed (it''s being used?)'
        '404':
          description: Client not found (wrong secret?)
  '/contacts/{secret}':
    get:
      tags:
        - Contacts
      summary: Retrieve all contacts in your organization matching search criteria.
      operationId: getContacts
      description: >-
        Retrieves all contacts in your organization. You can also query by
        contact email to find particular contacts, or query by a contact list id
        to grab all contacts within a specific list. This endpoint returns
        paginated results, it will return 30 results at a time and will require
        paginating through the results.<br />To paginate, you would add a
        <i>page</i> parameter to the url. Example
        <pre>/contacts/{secret}?page[size]=30&page[number]=2</pre>
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: query
          name: email
          description: pass an optional email if you want to narrow down the search.
          required: false
          schema:
            type: string
            format: email
        - in: query
          name: contact_list
          description: >-
            pass an optional contact list id if you want to search within the
            contacts of a specific list.
          required: false
          schema:
            type: integer
        - in: query
          name: 'page[size]'
          description: 'query string parameter for page size, or number of results per page.'
          required: false
          schema:
            type: integer
            default: 30
        - in: query
          name: 'page[number]'
          description: query string parameter for page number.
          required: false
          schema:
            type: integer
      responses:
        '200':
          description: Search results matching criteria
          content:
            application/json:
              schema:
                type: object
                properties:
                  current_page:
                    type: integer
                    description: current block of data from the paginated results.
                    example: 3
                  from:
                    type: integer
                    description: starting record number in the current block of results.
                    example: 21
                  to:
                    type: integer
                    description: final record number in the current block of results.
                    example: 30
                  last_page:
                    type: integer
                    description: number of the page containing the last block of results.
                    example: 23
                  per_page:
                    type: string
                    description: number of records per page.
                  total:
                    type: integer
                    description: total number of results.
                    example: 226
                  first_page_url:
                    type: string
                    description: URL to get the first page of results.
                    example: >-
                      http://referion.com/nps/public/api/contacts/<SECRET>?page[size]=10&page[number]=1
                  prev_page_url:
                    type: string
                    description: URL to get the next page of results.
                    example: >-
                      http://referion.com/nps/public/api/contacts/<SECRET>?page[size]=10&page[number]=2
                  next_page_url:
                    type: string
                    description: URL to get the next page of results.
                    example: >-
                      http://referion.com/nps/public/api/contacts/<SECRET>?page[size]=10&page[number]=4
                  last_page_url:
                    type: string
                    description: URL to get the last page of results.
                    example: >-
                      http://referion.com/nps/public/api/contacts/<SECRET>?page[size]=10&page[number]=23
                  data:
                    type: array
                    description: >-
                      the actual array of contacts retrieved by the call to this
                      endpoint.
                    items:
                      $ref: '#/components/schemas/Contact'
        '400':
          description: Bad input parameter
        '404':
          description: Client not found (wrong secret?)
  '/contacts/{secret}/{contact}':
    get:
      tags:
        - Contacts
      summary: Retrieves a specific contact by providing the contact id.
      operationId: getContactById
      description: >-
        Retrieves a specific contact in your organization by providing the
        contact id. This contact may belong to any number of contact lists
        within the system.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: path
          name: contact
          description: the id of the contact you would like to get.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: object containing the contact info.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Contact'
        '400':
          description: Bad input parameter
        '404':
          description: 'Client not found (wrong secret?), or contact not found.'
  '/contacts/remove/{secret}':
    post:
      tags:
        - Contacts
      summary: This endpoint removes a contact for an organization.
      operationId: removeContact
      description: >-
        This endpoint removes a contact for an organization. This is a delete
        action and all of the contact’s data and history will be removed from
        the organization. This method is useful when a final user requests to be
        forgotten by an organization as its is allowed in the new GDPR.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
      responses:
        '204':
          description: The contact has been completely removed.
        '404':
          description: Client not found (wrong secret?)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
        description: Email of the contact you'd like to remove from the organization.
        required: true
  '/contacts/unsubscribe/{secret}':
    post:
      tags:
        - Contacts
      summary: >-
        This endpoint unsubscribes a contact for your organization, provided the
        contact email.
      operationId: unsubscribeContact
      description: >-
        With this method, you can unsubscribe a contact and this will prevent
        the ability to survey them in the future. The unsubscribe action will
        also cancel all future pending surveys that were scheduled for that
        contact, and it will affect that contact in all the lists that contact
        belongs to.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
      responses:
        '204':
          description: The contact has been marked as unsubscribed.
        '404':
          description: Client not found (wrong secret?)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
        description: Email of the contact you'd like to unsubscribe from the organization.
        required: true
  '/contacts/survey/{secret}/{overwrite}':
    post:
      tags:
        - Contacts
      summary: >-
        This endpoint adds a contact to a campaign's contact list and send a
        survey to the contact.
      operationId: surveyContact
      description: >-
        This endpoint can be used to perform two actions with one command, first
        add a contact to a list (a campaign list) and then send them a survey.
        There's no need to specify a contact list as the contact is added to the
        list associated to the campaign. You can pass in as many attributes as
        you'd like along with your contact. These can be useful when filtering
        your NPS on the campaign dashboard. The minimum requirements for
        surveying a contact are the contact's email and the campaign id you're
        surveying them from. To set other settings such as distribution,
        forwarding, or Delivery Delay, these will need to be set within your
        campaign settings from the control panel. Depending on your throttle
        setting, your contact may not be surveyed if they have been recently
        surveyed (Survey Throttle setting can be found in your account
        settings). Note that if you're looking to survey contacts you've added
        to a list, please reference the "send-surveys" endpoint in the Campaigns
        section of this API.<br><strong>If you want to provide financial data in the attributes for this contact it's important that you name these fields as follows</strong>: <ul><li>Total purchases => <code>total_purchases</code></li><li>Total amount (from those purchases) => <code>total_purchases_amount</code></li><li>Last purchase amount => <code>last_purchase_amount</code></li><li>Last purchase date => <code>last_purchase_date</code></li></ul>
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: path
          name: overwrite
          description: flag to indicate that the contact must be updated (overwritten) if it already. If this is set to 0 and the contact already exists this call will throw an error with a 404 code.
          required: true
          schema:
            type: integer
            enum: [0, 1]
      responses:
        '204':
          description: >-
            The contact has been added to the campaign's contact list and has
            the survey has been sent or is ready to be sent.
        '400':
          description: >-
            Bad request, the error can be one of "contact has unsubscribed",
            "invalid email address", "campaign does not have a contact list
            associated", "campaign does not have a template 
            associated", "this email already exists in the list associated to
            this campaign".
        '404':
          description: >-
            Client not found (wrong secret?), campaign not found in your
            organization
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - campaign_id
                - email
              properties:
                campaign_id:
                  description: ID of the campaign you want to send the survey from.
                  type: integer
                email:
                  description: Email of the contact you'd like to survey.
                  type: string
                  format: email
                  example: johndoe@acme.com
                first_name:
                  type: string
                  example: John
                last_name:
                  type: string
                  example: Doe
                attributes:
                  type: object
                  description: >-
                    custom attributes asigned to this contact can be any number
                    of arbitrary property/value pairs.
                  additionalProperties: {}
                  example:
                    Gender: female
                    Age: 32
                    Plan: gold
        description: >-
          object containing all the data required to fulfill the request, at
          least the campaign ID and the contact email.
        required: true
  '/feedback/{secret}':
    get:
      tags:
        - Feedback
      summary: Retrieve all feedback in your organization matching search criteria.
      operationId: getFeedback
      description: >-
        As you may have lots of feedback in different campaigns, it is
        recommended to filter feedback search by campaign_id, and use any of all
        the other enabled filters for this endpoint such as show only
        uncompleted feedback, filter by score type, along with a few more
        options as query parameters.<br />When  this call is made, it will
        return 100 results at a time and will require paginating through the
        results. To paginate, you would add a <i>page</i> parameter to the  url.
        Example <pre>/feedback/{secret}?page[size]=30&page[number]=2</pre><br
        />Besides, you can search feedback within a specific time period by date
        queries in the URL. Date format accepted is yyyy-mm-dd.
        Examples<ul><li>All feedback before a specific date
        <pre>/api/feedback{secret}?before_date=2018-01-23</pre></li><li>All
        feedback after a specific date
        <pre>/api/feedback{secret}?after_date=2018-01-23</pre></li><li>Feedback
        for a specific time period
        <pre>/api/feedback{secret}?before_date=2018-02-23&after_date=2018-01-23</pre></li></ul>
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: query
          name: email
          description: >-
            Search for all feedback from a specific contact by using their email
            address.
          required: false
          schema:
            type: string
            format: email
        - in: query
          name: campaign
          description: The id of the campaign you'd like all feedback from.
          required: false
          schema:
            type: integer
        - in: query
          name: score
          description: >-
            Choose to get feedback with specific scores. Allowed values from 0
            to 10.
          required: false
          schema:
            type: integer
        - in: query
          name: type
          description: >-
            Get feedback based on type. Options are "promoter", "passive" or
            "detractor".
          required: false
          schema:
            type: string
        - in: query
          name: status
          description: >-
            Add this parameter if you'd like to only view feedback that is
            either "open" or "closed".
          required: false
          schema:
            type: string
        - in: query
          name: followup
          description: >-
            Get feedback based on the actions already taken on them. Options are
            "replied", "forwarded" or "both".
          required: false
          schema:
            type: string
        - in: query
          name: before_date
          description: >-
            Use this parameter to get all feedback before a specific date.
            Example "2018-03-23".
          required: false
          schema:
            type: string
            format: date
        - in: query
          name: after_date
          description: >-
            Use this parameter to get all feedback after a specific date.
            Example "2018-01-23".
          required: false
          schema:
            type: string
            format: date
        - in: query
          name: 'page[size]'
          description: 'query string parameter for page size, or number of results per page.'
          required: false
          schema:
            type: integer
            default: 30
        - in: query
          name: 'page[number]'
          description: query string parameter for page number.
          required: false
          schema:
            type: integer
      responses:
        '200':
          description: Search results matching criteria
          content:
            application/json:
              schema:
                type: object
                properties:
                  current_page:
                    type: integer
                    description: current block of data from the paginated results.
                    example: 3
                  from:
                    type: integer
                    description: starting record number in the current block of results.
                    example: 21
                  to:
                    type: integer
                    description: final record number in the current block of results.
                    example: 30
                  last_page:
                    type: integer
                    description: number of the page containing the last block of results.
                    example: 23
                  per_page:
                    type: string
                    description: number of records per page.
                  total:
                    type: integer
                    description: total number of results.
                    example: 226
                  first_page_url:
                    type: string
                    description: URL to get the first page of results.
                    example: >-
                      http://referion.com/nps/public/api/contacts/<SECRET>?page[size]=10&page[number]=1
                  prev_page_url:
                    type: string
                    description: URL to get the next page of results.
                    example: >-
                      http://referion.com/nps/public/api/contacts/<SECRET>?page[size]=10&page[number]=2
                  next_page_url:
                    type: string
                    description: URL to get the next page of results.
                    example: >-
                      http://referion.com/nps/public/api/contacts/<SECRET>?page[size]=10&page[number]=4
                  last_page_url:
                    type: string
                    description: URL to get the last page of results.
                    example: >-
                      http://referion.com/nps/public/api/contacts/<SECRET>?page[size]=10&page[number]=23
                  data:
                    type: array
                    description: >-
                      the actual array of feedback records retrieved by the call
                      to this endpoint.
                    items:
                      $ref: '#/components/schemas/Feedback'
        '400':
          description: Bad input parameter
        '404':
          description: Client not found (wrong secret?)
  '/feedback/{secret}/{feedback_id}':
    get:
      tags:
        - Feedback
      summary: >-
        Retrieves a specific feedback received in your organization by providing
        the feedback id.
      operationId: getFeedbackById
      description: >-
        Retrieves a specific feedback received in your organization by providing
        the feedback id.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: path
          name: feedback_id
          description: The id of the feedback you'd like to retrieve.
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: feedback object requested by its ID.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Feedback'
        '400':
          description: Bad input parameter
        '404':
          description: Client not found (wrong secret?)
  '/feedback/remove/{secret}/{feedback_id}':
    delete:
      tags:
        - Feedback
      summary: >-
        This action will permanently delete a piece of feedback by providing the
        feedback id.
      operationId: deleteFeedback
      description: >-
        This action will permanently delete a piece of feedback by providing the
        feedback id, including its tags and internal notes, and the history of scores and reviews from that survey contact. 
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: path
          name: feedback_id
          description: The id of the feedback you'd like to remove.
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Feedback has been removed from the system.
        '400':
          description: Bad input parameter
        '404':
          description: Client not found (wrong secret?)
  '/feedback/status/{secret}/{feedback_id}':
    put:
      tags:
        - Feedback
      summary: 'Use this endpoint to update the status of a feedback, given its ID.'
      operationId: closeFeedback
      description: >-
        Using this API call will allow you to close an open feedback, or to
        reopen a closed one.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: path
          name: feedback_id
          description: The id of the feedback you'd like to remove.
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: >-
            feedback status has been updated. Response includes the new status
            for this feedback. When opening a closed feedback
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: new feedback status after the execution of the call.
                    example: reviewed
        '400':
          description: Bad input parameter
        '404':
          description: Client not found (wrong secret?)
        '409':
          description: Conflict. Feedback should have status replied, reviewed or scored in order to be opened.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - status
              properties:
                status:
                  description: 'new status for the feedback, options are ''open'' or ''close''.'
                  type: string
                  enum:
                    - open
                    - close
        description: >-
          new feedback status. Send 'open' to reopen a closed feedback, or
          'close' to close an open feedback. Keep in mind that when you open a
          closed feedback it will return to its internal status previous to
          being closed, for instance 'reviewd' or 'forwarded', among others.
        required: true
  '/feedback/reply/{secret}/{feedback_id}':
    post:
      tags:
        - Feedback
      summary: 'Use this endpoint to send a reply to a specific feedback, given its ID.'
      operationId: replyFeedback
      description: >-
        By using this endpoint you will be able to <strong>follow-up with your
        users</strong> and reply to their feedback. Required fields are the
        feedback_id to which you're replying to, the email address the reply is
        coming from, and the message you want to send. The <i>from</i> email
        must be an email that belongs to a member of the organization. You also
        have to option to cc or bcc other addresses in your reply. There's no
        limit to how many emails that can be included, but they'll need to be in
        a list. <strong>You cannot reply to a feedback that has already been
        replied or to feedback which is not in 'scored' or 'reviewed'
        state</strong>.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: path
          name: feedback_id
          description: The id of the feedback you'd like to reply to.
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Reply has been succesfully sent.
        '400':
          description: >-
            Bad request, reason could be "invalid email address", "reply already
            exists for this feedback", "this survey has never received score nor
            review"
        '404':
          description: Client not found (wrong secret?)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - from
                - message
              properties:
                from:
                  description: Email of the user sending the reply.
                  type: string
                  format: email
                message:
                  description: The message you want to send as your reply.
                  type: string
                cc:
                  description: >-
                    A list of emails you want to be cc'd on the reply. Comma
                    separated.
                  type: array
                  items:
                    type: string
                    format: email
                bcc:
                  description: >-
                    A list of emails you want to be bcc'd on the reply. Comma
                    separated.
                  type: array
                  items:
                    type: string
                    format: email
        description: >-
          The request body must contain at least the email address from which
          the reply will be sent, and the message. Optionally you can add a list
          of CC emails and/or a list of BCC emails.
        required: true
  '/feedback/forward/{secret}/{feedback_id}':
    post:
      tags:
        - Feedback
      summary: 'Use this endpoint to forward a specific feedback, given its ID.'
      operationId: forwardFeedback
      description: >-
        By using this endpoint you will be able to <strong>forward a feedback
        internally</strong>, which is very useful in cases that could need
        further support from another department. Required fields are the id of
        the feedback you're forwarding, and the email address of the recipient.
        Optionally you can send an additional message together with the
        forwarded feedback. <strong>Feedback can only be forwarded to one
        recipient at a time</strong>. Also have in mind that a feedback can only
        be forwarded if <ol><li>Feedback has not been replied
        yet.</li><li>Feedback is not closed.</li></ol><p>There is also a flag
        (<i>forward_and_close</i>) you can send as <i>true</i> if you want the
        feedback co be closed after being forwarded.</p><p>This forward email
        will be sent from the generic email address nps@referion.com.</p>
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: path
          name: feedback_id
          description: The id of the feedback you'd like to forward.
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Feedback has been succesfully forwarded.
        '400':
          description: >-
            Bad request, reason could be "invalid to email address", "this
            feedback has already been replied", "this feedback has been marked
            as closed"
        '404':
          description: Client not found (wrong secret?)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - to
              properties:
                to:
                  description: Email of the recipient.
                  type: string
                  format: email
                message:
                  description: The message you want to send as your reply.
                  type: string
                  example: Please solve the problem reported by this customer ASAP.
                forward_and_close:
                  description: >-
                    flag to force the feedback to be closed after being
                    forwarded.
                  type: boolean
                  default: false
        description: >-
          The request body must contain two fields, the email address from which
          the feedback will be forwarded and the email address of the recipient.
          Optionally you can add a message to the forwarded feedback.
        required: true
  '/feedback/tag/{secret}/{feedback_id}':
    post:
      tags:
        - Feedback
      summary: 'Use this endpoint to add a tag for a specific feedback, given its ID.'
      operationId: tagFeedback
      description: >-
        This endpoint will allow you to add a tag to your feedback and associate
        a sentiment to that tag, which can be 'positive' (green), 'neutral'
        (grey) or 'negative' (red). Required fields are the name of the new
        <i>tag</i>, and its <i>sentiment</i>. But remember that <strong>multiple
        tags with the same name cannot exist on the same feedback</strong>, even
        if their sentiment are different. For instance, 'price - positive' and
        'price - neutral' cannot exist for one feedback at the same time, it's
        one or the other. Besides, this API call will fail if you try to add a
        tag to a closed feedback.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: path
          name: feedback_id
          description: The id of the feedback you'd like to tag.
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Feedback has been succesfully tagged.
        '400':
          description: >-
            Bad request, reason could be "that tag already exists for this
            feedback", "this feedback has already been closed"
        '404':
          description: Client not found (wrong secret?)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - tag
                - sentiment
              properties:
                tag:
                  description: Name of the new tag.
                  type: string
                  example: Customer Service
                sentiment:
                  description: >-
                    The category/sentiment to apply to your tag. It can be
                    'positive', 'neutral' or 'negative'.
                  type: string
                  enum:
                    - positive
                    - neutral
                    - negative
        description: >-
          The request body must contain two fields, the name of the <i>tag</i>,
          and its <i>sentiment</i>.
        required: true
  '/campaigns/metrics/{secret}/{campaign}':
    get:
      tags:
        - Metrics
      summary: >-
        This endpoint will retrieve current campaign metrics for a specific
        campaign within a organization, given its ID.
      operationId: getCampaignsMetrics
      description: >-
        This endpoint will retrieve current campaign metrics for a specific
        campaign within a organization, given its ID. Optionally is possible to
        grab metrics for a specific time period by date queries in the URL. Date
        format accepted is yyyy-mm-dd. Examples<ul><li>All metrics before a
        specific date
        <pre>/api/campaign/metrics/{secret}/123?before_date=02/11/2018</pre></li><li>All
        metrics after a specific date
        <pre>/api/campaign/metrics/{secret}/123?after_date=25/12/2018</pre></li><li>Campaign
        metrics for a specific time period
        <pre>/api/campaign/metrics/{secret}/123?before_date=02/11/2018&after_date=25/12/2018</pre></li></ul><br
        />Score analysis values</br><ul><li>From -100 to -1 => 'BAD
        NPS'</li><li>From 0 to 49 => 'GOOD NPS'</li><li>From 50 to 74 =>
        'EXCELLENT NPS'</li><li>From 75 to 100 => 'WORLD CLASS'</li>
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: path
          name: campaign
          description: Id of the campaign you want to retrieve metrics of.
          required: true
          schema:
            type: integer
        - in: query
          name: before_date
          description: >-
            Use this parameter to get all feedback before a specific date.
            Example "2018-03-23".
          required: false
          schema:
            type: string
            format: date
        - in: query
          name: after_date
          description: >-
            Use this parameter to get all feedback after a specific date.
            Example "2018-01-23".
          required: false
          schema:
            type: string
            format: date
      responses:
        '200':
          description: Search results matching criteria
          content:
            application/json:
              schema:
                type: object
                properties:
                  campaign:
                    type: string
                    description: Name of the campaign.
                    example: My Campaign Name
                  campaign_type:
                    type: string
                    description: 'Type of NPS campaign, ''email'' or ''web''.'
                  nps_score:
                    type: integer
                    description: >-
                      NPS obtained for this campaign in the indicated time
                      period.
                    example: 45
                  nps_analysis:
                    type: string
                    description: How good or bad is this NPS
                    example: GOOD NPS
                    enum:
                      - BAD NPS
                      - GOOD NPS
                      - EXCELLENT NPS
                      - WORLD CLASS
                  last_survey_contactlist:
                    type: string
                    description: >-
                      Name of the last contact list used to send surveys from
                      this campaign. Only for email campaigns.
                  first_survey_start_date:
                    type: string
                    format: date-time
                    description: First survey starting date. Only for email campaigns.
                  total_sent:
                    type: integer
                    description: >-
                      Number of surveys sent within this campaign. Only for
                      email campaigns.
                    example: 100
                  total_feedback:
                    type: integer
                    description: >-
                      Count received feedback from all surveys launched in this
                      campaign.
                    example: 100
                  total_delivered:
                    type: integer
                    description: >-
                      Number of surveys delivered to recipients. Only for email
                      campaigns.
                    example: 98
                  total_dropped:
                    type: integer
                    description: >-
                      Number of surveys that were dropped and never got to their recipient.
                    example: 0
                  total_bounced:
                    type: integer
                    description: >-
                      Number of surveys that were bounced and never got to their recipient.
                  total_complained:
                    type: integer
                    description: >-
                      Number of surveys that were marked as complained (spam).
                  total_unsubscribed:
                    type: integer
                    description: >-
                      Number of users who unsubscribed from received surveys.
                      Only for email campaigns.
                    example: 0
                  total_opened:
                    type: integer
                    description: Number of surveys opened. Only for email campaigns.
                    example: 75
                  total_clicked:
                    type: integer
                    description: Number of surveys clicked. Only for email campaigns.
                    example: 60
                  response_rate:
                    type: integer
                    description: \% of answered surveys. Only for email campaigns.
                    example: 50
                  web_impressions:
                    type: integer
                    description: >-
                      Number of NPS survey impressions in the website. Only for
                      web campaigns.
                    example: 1524
                  web_closures:
                    type: integer
                    description: >-
                      Number of times a user closes the NPS survey in the
                      website. Only for web campaigns.
                    example: 1524
                  total_scored:
                    type: integer
                    description: Number of surveys answered with a score.
                    example: 56
                  total_reviewed:
                    type: integer
                    description: Number of surveys answered with a score and a review.
                    example: 54
                  total_promoters:
                    type: integer
                    description: >-
                      Number of surveys answered with outstanding scores (9 or 10).
                    example: 14
                  total_passives:
                    type: integer
                    description: >-
                      Number of surveys answered with neutral scores (7 or 8).
                    example: 10
                  total_detractors:
                    type: integer
                    description: >-
                      Number of surveys answered with bad scores (from 0 to 6).
                    example: 10
                  total_followedup:
                    type: integer
                    description: >-
                      Number of pieces feedback which have been followed up
                      internally.
                    example: 23
                  replied_rate:
                    type: integer
                    description: >-
                      \% of pieces of feedback that have been followed up
                      (replied to from the dashboard).
                    example: 10
                  feedback_last_day:
                    type: integer
                    description: Number of surveys answered last day.
                    example: 2
                  feedback_last_week:
                    type: integer
                    description: Number of surveys answered last week.
                    example: 12
                  promoter_percentage:
                    type: integer
                    description: \% of promoters.
                    example: 30
                  passive_percentage:
                    type: integer
                    description: \% of passives.
                    example: 35
                  detractor_percentage:
                    type: integer
                    description: \% of detractors.
                    example: 35
        '400':
          description: Bad input parameter
        '422':
          description: Unprocessable Entity, most probable cause is that provided dates for filtering don't follow the specified format
        '404':
          description: 'Client not found (wrong secret?), data not found.'
  '/client/metrics/financial/{secret}':
    get:
      tags:
        - Metrics
      summary: >-
        This endpoint will retrieve the financial metrics for the whole
        organization.
      operationId: getFinancialMetrics
      description: >-
        This endpoint will retrieve the financial metrics for the whole
        organization. Optionally is possible to filter results by campaign
        type:<ul><li>"All", get the metrics for all campaigns, both web and
        email.</li><li>"Email", get the metrics only from email
        campaigns.</li><li>"Web", get the metrics only from the web
        campaign.</li><br />If there are no campaigns or there are not data
        collected for the existing campaigns, this method will return an empty
        result.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: query
          name: filter
          description: >-
            Get the metrics based on the type of the campaigns. Options are
            "all" (default), "email" or "web".
          required: false
          schema:
            type: string
            enum:
              - all
              - email
              - web
      responses:
        '200':
          description: Search results matching criteria
          content:
            application/json:
              schema:
                type: object
                properties:
                  nps_score:
                    type: integer
                    description: >-
                      global NPS obtained for the organization, filtered by
                      campaigns type if the filter is provided as an input
                      parameter.
                    example: 45
                  nps_industry:
                    type: string
                    description: >-
                      Industry sector. This setting can be modified from your
                      account settings in the control panel.
                    example: eCommerce
                  nps_industry_average:
                    type: integer
                    description: >-
                      Average NPS registered in the system for your Industry
                      sector.
                    example: 30
                  nps_analysis:
                    type: string
                    description: How good or bad is this NPS
                    example: GOOD NPS
                    enum:
                      - BAD NPS
                      - GOOD NPS
                      - EXCELLENT NPS
                      - WORLD CLASS
                  nps_analysis_industry:
                    type: string
                    description: >-
                      How good or bad is this NPS by comparising to the Industry
                      average.
                    example: >-
                      El NPS se sitúa por debajo de la media del sector,
                      peligro.
                  nps_weighted_score:
                    type: integer
                    description: >-
                      Weighted NPS resulting by computing the NPS Score taking
                      into account the spend/revenue on a customer level.
                    example: 38.8
                  weighted_promoter_percentage:
                    type: integer
                    description: \% of promoters.
                    example: 31.9
                  weighted_passive_percentage:
                    type: integer
                    description: \% of passives.
                    example: 14.6
                  weighted_detractor_percentage:
                    type: integer
                    description: \% of detractors.
                    example: 53.4
                  incomes_in_danger:
                    type: integer
                    description: >-
                      Income from detractors and therefore with high probability
                      of abandonment. In euros.
                    example: 1500
                  optimization_opportunity:
                    type: integer
                    description: >-
                      If the order or average ticket of the promoter users is
                      greater than that of the liabilities, converting the
                      liabilities into promoters would generate this increase in
                      total revenues. In euros.
                    example: 600
                  growth_opportunity:
                    type: integer
                    description: >-
                      According to official studies, an average increase of 10%
                      in the global NPS corresponds to an approximate growth of
                      2% in total revenues. In euros.
                    example: 450
                  average_score_by_trends:
                    type: array
                    description: >-
                      Score for the main trends. Trends are filtered by campaign
                      type if this filter is provided as an input parameter.
                    items:
                      type: object
                      description: each pair trend / score in the returned results
                      properties:
                        trend:
                          type: string
                          example: Website
                        score:
                          type: number
                          example: 7.2
                  score_target:
                    type: integer
                    description: >-
                      Target or desired score, as a global aim within the
                      organization.
                    example: 8
                  average_nps_by_trends:
                    type: array
                    description: >-
                      NPS for the main trends. Trends are filtered by campaign
                      type if this filter is provided as an input parameter.
                    items:
                      type: object
                      description: each pair trend / NPS in the returned results
                      properties:
                        trend:
                          type: string
                          example: Website
                        nps:
                          type: number
                          format: double
                          example: 42.9
                  nps_target:
                    type: number
                    format: double
                    description: >-
                      Target or desired NPS, as a global aim within the
                      organization
                    example: 50
        '400':
          description: Bad input parameter
        '404':
          description: 'Client not found (wrong secret?), data not found.'
  '/replies/{secret}/{common_reply_id}':
    delete:
      tags:
        - Common Replies
      summary: This action will permanently delete a common reply by providing its id.
      operationId: deleteCommonReply
      description: >-
        This action will permanently delete a common reply within your
        organization.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: path
          name: common_reply_id
          description: The id of the common reply you'd like to remove.
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: The common reply has been removed from the system.
        '400':
          description: >-
            Bad request, probable reason is "that common reply does not belong
            to your organization"
        '404':
          description: Client not found (wrong secret?)
  '/feedback/web/conversion/{secret}/{webcampaign_id}':
    post:
      tags:
        - Metrics
      summary: >-
        Use this endpoint to track and record a conversion pixel, as if it was
        sent from the thankyou page of the purchase process.
      operationId: conversionPixel
      description: >-
        By calling to this endpoint you can send to the NPS platform the same
        info that we collect in the NPS web campaign when the pixel script is
        placed in the thankyou page of the purchase process. This way you will
        be able to update financial information for a contact in the system,
        after a new purchase. <strong>For this endpoint to work is necessary
        that you have your Web NPS campaign activated in the NPS control
        panel</strong>.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: path
          name: webcampaign_id
          description: >-
            This is the ID of the web campaign associated with the info received
            in the pixel. You can find this field in the setup wizard for your
            web NPS campaign in the control panel. In the fifth step called
            "snippet" you have to search into the snippet itself for a substring
            like
            <pre>(window,document,["survey","reset","config","init","set","get","event","identify","track","page","screen","group","alias"],"2xqowMLdQanm1rv3/KrjY4GaOWaMRl6mg","referion");</pre><br
            />where the second field (in this case
            <i><strong>KrjY4GaOWaMRl6mg</strong></i>) is the
            <strong>webcampaign_id</strong> that you have to use to fill this
            parameter.
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Conversion has been received and contact created or updated.
        '400':
          description: >-
            Bad request, reason could be "Invalid input, object invalid, missing
            params or body is not json" or "invalid email address".
        '404':
          description: Client not found (wrong secret?).
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - amount
              properties:
                email:
                  description: Email of the user that made the purchase.
                  type: string
                  format: email
                  example: john.doe@acme.com
                amount:
                  type: number
                  format: double
                  example: 43.99
                  description: >-
                    Amount of the purchase, in euros. Just the number, no
                    points, commas or currency.
                name:
                  type: string
                  description: >-
                    Name of the user that made the purchase. This field is
                    optional, but it is highly recommended that you send it
                    because it helps to build the contact profile in the system.
                  example: John Doe
        description: >-
          The request body can contain three fields, two of them mandatory (the
          <strong>email</strong> and the <strong>amount</strong>) and an
          optional one (the <strong>name</strong>).
        required: true
  '/replies/{secret}':
    get:
      tags:
        - Common Replies
      summary: Retrieve all common replies in your organization.
      operationId: getCommonReplies
      description: >-
        Retrieve all common replies in your organization. Results are paginated,
        although is not usual to have a large number of common replies. To
        paginate, you would add a <i>page</i> parameter to the url.
        Example<pre>/replies/{secret}?page[size]=30&page[number]=2</pre>.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: query
          name: 'page[size]'
          description: 'query string parameter for page size, or number of results per page.'
          required: false
          schema:
            type: integer
            default: 30
        - in: query
          name: 'page[number]'
          description: query string parameter for page number.
          required: false
          schema:
            type: integer
      responses:
        '200':
          description: Search results matching criteria
          content:
            application/json:
              schema:
                type: object
                properties:
                  current_page:
                    type: integer
                    description: current block of data from the paginated results.
                    example: 3
                  from:
                    type: integer
                    description: starting record number in the current block of results.
                    example: 21
                  to:
                    type: integer
                    description: final record number in the current block of results.
                    example: 30
                  last_page:
                    type: integer
                    description: number of the page containing the last block of results.
                    example: 23
                  per_page:
                    type: string
                    description: number of records per page.
                  total:
                    type: integer
                    description: total number of results.
                    example: 226
                  first_page_url:
                    type: string
                    description: URL to get the first page of results.
                    example: >-
                      http://referion.com/nps/public/api/contacts/<SECRET>?page[size]=10&page[number]=1
                  prev_page_url:
                    type: string
                    description: URL to get the next page of results.
                    example: >-
                      http://referion.com/nps/public/api/contacts/<SECRET>?page[size]=10&page[number]=2
                  next_page_url:
                    type: string
                    description: URL to get the next page of results.
                    example: >-
                      http://referion.com/nps/public/api/contacts/<SECRET>?page[size]=10&page[number]=4
                  last_page_url:
                    type: string
                    description: URL to get the last page of results.
                    example: >-
                      http://referion.com/nps/public/api/contacts/<SECRET>?page[size]=10&page[number]=23
                  data:
                    type: array
                    description: >-
                      the actual array of common replies entries retrieved by
                      the call to this endpoint.
                    items:
                      $ref: '#/components/schemas/CommonReply'
        '400':
          description: Bad input parameter
        '404':
          description: Client not found (wrong secret?)
  '/replies/create/{secret}':
    post:
      tags:
        - Common Replies
      summary: This action will Create a common reply within your organization.
      operationId: createCommonReply
      description: >-
        Create a common reply within your organization. Required fields are the
        <i>name</i> for the reply, the <i>message</i> which is the reply itself,
        and the <i>category</i> the reply will be saved under. <strong>If you
        choose a category name that does not exist within your organization, a
        new category will be created and store the common reply within
        it</strong>.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The new common reply that has been created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommonReply'
        '400':
          description: >-
            Bad request, probable reason is "that common reply does not belong
            to your organization"
        '404':
          description: Client not found (wrong secret?)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - message
                - category
              properties:
                name:
                  type: string
                  description: Name or title for this new common reply
                  example: Reply to detractors with review
                message:
                  type: string
                  description: This is the main body of your common reply message.
                  example: >-
                    Thank you for your response! We really appreciate your time
                    and know you're busy. We're striving to improve our product
                    and learn more from our customers. What is your number one
                    issue or complain? We only want happy customers.
                category:
                  type: string
                  description: >-
                    The name of the common reply category in which you would
                    like the reply to be associated with.
                  example: Detractors
        description: new common reply to create
  '/feedback/subscribe/{secret}':
    description: >-
      Subscribe to the feedback.new_or_modified webhook
    post:
      tags:
        - Webhooks
      operationId: feedbackSubscribe
      summary: Subscribe to the feedback.new_or_modified webhook
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                callbackUrl: # Callback URL
                  type: string
                  format: uri
                  example: https://myserver.com/send/callback/here
              required:
                - callbackUrl
      callbacks: # Callback definition
        feedback.new_or_modified: # Event name
          '{$request.body#/callbackUrl}': # The callback URL, Refers to the passed URL
            post:
              requestBody: # Contents of the callback message
                $ref: '#/components/requestBodies/FeedbackWebhookPayload'
              responses: # Expected responses to the callback message
                '200':
                  description: Your server should return this code if it accepts the callback
      responses:
        '201':
          description: 'You are now subscribed to feedback webhook. Check your callback URL for notifications.'
          content:
            application/json:
              schema:
                type: object
                properties:
                  subscriberId: 
                    type: integer
                    example: 1542
          links: # Link the returned id with the unsubscribe operation
            feedbackUnsubscribeOp:
              operationId: feedbackUnsubscribe
              parameters: 
                Id: $response.body #/subscriberId
        '404':
          description: Client not found (wrong secret?)
        '400': 
          description: Invalid input, object invalid, callbackUrl is missing, callbackUrl is not valid or body is not json.
  '/feedback/unsubscribe/{secret}/{subscriberId}':
    description: Unsubscribe from the feedback.new_or_modified webhook.
    get:
      tags:
        - Webhooks
      operationId: feedbackUnsubscribe
      summary: Unsubscribe from the feedback.new_or_modified webhook. When creating a request to this endpoint you need to provide your subscriber ID as a path parameter. This ID is the one returned in the subscription request.
      parameters:
        - in: header
          name: Authorization
          description: >-
            This is where you'll provide your API key, after inserting the word
            'Bearer' and a space.
          required: true
          schema:
            type: string
        - in: header
          name: Content-Type
          description: Must be "application/json".
          required: true
          schema:
            type: string
        - in: path
          name: secret
          description: Client secret provided when setting up OAuth2 authentication.
          required: true
          schema:
            type: string
        - in: path
          name: subscriberId
          description: subscriber Id provided in the response to the subscription request.
          required: true
          schema:
            type: integer          
      responses:
        '204':
          description: You have unsubscribed from the feedback webhook.
        '400':
          description: Invalid input, object invalid, body is not json or subscriberId is not the correct Id for this subscription.
        '404':
          description: Client not found (wrong secret?)
servers:
  - url: 'https://nps.customeer.com/api'
components:
  requestBodies:
    removeContactFromListByEmailContact:
      content:
        application/json:
          schema:
            type: object
            required:
              - email
            properties:
              email:
                type: string
                format: email
      description: Email of the contact you'd like to remove from the list.
      required: true
    FeedbackWebhookPayload:
      description: >-
        This object represents the data contained in the payload of a feedback webhook callback.
      content:
        application/json:
          schema:
            type: object
            required:
              - webhook
              - message
              - info
            properties:
              webhook:
                type: object
                description: webhook header
                properties:
                  id:
                    type: integer
                    example: 1
                  event:
                    type: string
                    description: >-
                      Name of the event, it can be "feedback.new_feedback" or "feedback.modified_feedback".
                    enum:
                      - feedback.new_feedback
                      - feedback.modified_feedback
                    example: feedback.modified_feedback
                  endpoint:
                    type: string
                    format: uri
                    example: "https://webhook.site/94df2a46-453a-471f-b487-ddd4e56e8dd9"
              message: 
                type: string
                description: Message from the system describing the event that is being reported.
                example: Feedback has been received or updated from email campaign.
              info:
                type: object
                description: this object contains all the info related to the new or modified feedback as reported by the system in real time.
                properties:
                  status:
                    type: string
                    example: scored
                    enum:
                      - scored
                      - reviewed
                      - replied
                      - forwarded
                      - closed
                  sent_at:
                    type: string
                    format: date-time
                    example: '2018-01-23 15:00:06'
                    description: launch date for this NPS campaign. Only for email campaigns.
                  delivered_at:
                    type: string
                    format: date-time
                    example: '2018-01-23 15:05:15'
                    description: when the survey email was delivered by our mailing platform.
                  score:
                    type: integer
                    example: 8
                    description: score given by the user who is answering this survey.
                  previous_score:
                    type: integer
                    example: 9
                    description: if this event is a modification of a previous score, this number is the previous score given by the user. 
                  score_type: 
                    type: string
                    description: >-
                      Type of contact based on the given score. Can be "detractor", "passive" or "promoter".
                    enum:
                      - detractor
                      - passive
                      - promoter
                    example: promoter
                  opened_at:
                    type: string
                    format: date-time
                    example: '2018-01-23 15:05:15'
                    description: when the survey email was delivered by our mailing platform. Only for email campaigns.
                  clicked_at:
                    type: string
                    format: date-time
                    example: '2018-01-25 10:02:10'
                    description: when the survey email was clicked by the recipient. Only for email campaigns.
                  scored_at:
                    type: string
                    format: date-time
                    example: '2018-01-26 12:25:05'
                    description: when the score from the surveyed contact was received in the NPS platform.
                  review:
                    type: string
                    description: Review, comment or opinion sent by the surveyed contact after giving a score. 
                    example: I love my new tablet! Delivery was fast.
                  reviewed_at:
                    type: string
                    format: date-time
                    example: '2018-11-14 16:24:47'
                    description: when the review from the surveyed contact was received in the NPS platform.
                  previous_review:
                    type: string
                    description: If the event is fired by the modification of a score/review, this is the previous review given by this surveyed contact. 
                    example: >-
                      I've ordered a new tablet, let's see how it goes.
                  reply:
                    type: string
                    description: Reply sent from the NPS platform in response to this feedback. 
                    example: >-
                      We are glad to hear you are happy and satisfied with our services, would you please tell us what more could we do to improve them even more? Thank you so much. Regards.
                  replied_at:
                    type: string
                    format: date-time
                    example: '2018-11-15 14:00:30'
                    description: when the reply to the surveyed contact was sent from the user of the NPS platform.
                  forwarded_to:
                    type: string
                    format: email
                    description: Email to which this feedback has been forwarded to from within the NPS platform.
                    example: customercare@acme.com
                  forwarded_at:
                    type: string
                    format: date-time
                    example: '2018-11-15 13:38:20'
                    description: when this feedback has been forwarded from within the NPS platform.
                  closed_at:
                    type: string
                    format: date-time
                    example: '2018-11-15 14:00:30'
                    description: when the reply to the surveyed contact was sent from the user of the NPS platform.
                  updated_at:
                    type: string
                    format: date-time
                    example: '2018-11-15 14:00:30'
                    description: when the reply to the surveyed contact was sent from the user of the NPS platform.
                  tags:
                    type: object
                    description: >-
                      tags or trends assigned to this feedback in the system.
                    additionalProperties: {}
                    example:
                      Atencion Cliente: positive
                      Precios: neutral
                      Producto: negative
                  contact: 
                    type: object
                    description: >-
                      Information about the contact who is providing this feedback.
                    properties:
                      id:
                        type: integer
                        description: internal id of this contact.
                        example: 145
                      email:
                        type: string
                        format: email
                        description: email associated to this contact.
                        example: john.doe@domain.com
                      first_name: 
                        type: string
                        description: First name of the contact
                        example: John
                      last_name:
                        type: string
                        description: Last name of the contact
                        example: Doe
                      attributes:
                        type: object
                        description: >-
                          custom attributes asigned to this contact can be any number of arbitrary property/value pairs.
                        additionalProperties: {}
                        example:
                          Gender: female
                          Age: 32
                          Plan: gold
                          total_purchases_amount: 45
                          total_purchases: 2
                  campaign: 
                    type: object
                    description: >-
                      Information about the NPS campaign this feedback belongs to. 
                    properties:
                      id:
                        type: integer
                        description: internal id of the NPS campaign.
                        example: 145
                      type:
                        type: string
                        description: Type of NPS campaign, web or email
                        enum:
                          - web
                          - email
                        example: email
                      name: 
                        type: string
                        description: Name of the NPS campaign
                        example: Active customers 
                      status:
                        type: string
                        description: Current status of the campaign. 
                        example: active
                      launch_date: 
                        type: string
                        format: date-time
                        example: '2018-11-15 14:00:30'
                        description: Launch date of the NPS campaign this feedback belongs to. Valid for email campaigns. 
                      created_at: 
                        type: string
                        format: date-time
                        example: '2018-11-15 14:00:30'
                        description: Creation date of the NPS campaign this feedback belongs to.
                      contact_list:
                        type: string
                        description: Name of the contact list this NPS campaign was sent to. Valid for email campaigns.
                        example: Active customers contact list
      required: true
  schemas:
    Campaign:
      type: object
      description: This object represents an email NPS campaign in the system.
      required:
        - id
        - name
      properties:
        id:
          type: integer
          example: 1234
        name:
          type: string
          example: Spring season NPS campaign
        type:
          type: string
          example: email
          enum:
            - email
            - web
          description: email or web
        status:
          type: string
          example: active
          enum:
            - setup
            - ready
            - active
            - complete
          description: >-
            Current status of this campaign, could be one of "setup", "ready",
            "active", "complete".
        send_time:
          type: string
          format: date-time
          example: '2018-01-23 15:00:06'
          description: launch date for this email NPS campaign.
        business_days:
          type: boolean
          example: true
          description: >-
            only for email NPS campaigns. If true the surveys will only be sent
            during business days.
          default: true
        drip_days:
          type: integer
          example: 30
          enum:
            - 0
            - 7
            - 15
            - 30
            - 60
            - 90
            - 120
          description: >-
            dripping days for this campaign. 0 to disable, or one of this
            options 7, 15, 30, 60, 90, 120.
          default: 0
        feedback_fwd:
          type: string
          example: 'customers@acme.com,support@acme.com'
          description: >-
            email account to forward all the feedback received for this
            campaign.
        recurring_schedule:
          type: boolean
          example: true
          description: enable / disable recurring surveys for this campaign.
          default: false
        timezone_id:
          type: integer
          example: 123
          description: >-
            internal field that links to the Timezone object associated with
            this campaign.
        template_id:
          type: integer
          example: 123
          description: >-
            internal field that links to the Template object associated with
            this campaign.
        contact_list_id:
          type: integer
          example: 123
          description: >-
            internal field that links to the ContactList object associated with
            this campaign.
        timezone:
          $ref: '#/components/schemas/Timezone'
        template:
          $ref: '#/components/schemas/Template'
        contact_list:
          $ref: '#/components/schemas/ContactList'
    SurveyCampaign:
      type: object
      description: >-
        This object represents an email NPS campaign in the system. The
        difference from the previous one (Campaign) is that SurveyCampaign does
        not include related objects such as Timezone, Template and ContactList,
        although it still includes the IDs to those related objects.
      required:
        - id
        - name
      properties:
        id:
          type: integer
          example: 1234
        name:
          type: string
          example: Spring season NPS campaign
        type:
          type: string
          example: email
          enum:
            - email
            - web
          description: email or web
        status:
          type: string
          example: active
          enum:
            - setup
            - ready
            - active
            - complete
          description: >-
            Current status of this campaign, could be one of "setup", "ready",
            "active", "complete".
        send_time:
          type: string
          format: date-time
          example: '2018-01-23 15:00:06'
          description: launch date for this email NPS campaign.
        business_days:
          type: boolean
          example: true
          description: >-
            only for email NPS campaigns. If true the surveys will only be sent
            during business days.
          default: true
        drip_days:
          type: integer
          example: 30
          enum:
            - 0
            - 7
            - 15
            - 30
            - 60
            - 90
            - 120
          description: >-
            dripping days for this campaign. 0 to disable, or one of this
            options 7, 15, 30, 60, 90, 120.
          default: 0
        feedback_fwd:
          type: string
          example: 'customers@acme.com,support@acme.com'
          description: >-
            email account to forward all the feedback received for this
            campaign.
        recurring_schedule:
          type: boolean
          example: true
          description: enable / disable recurring surveys for this campaign.
          default: false
        timezone_id:
          type: integer
          example: 123
          description: >-
            internal field that links to the Timezone object associated with
            this campaign.
        template_id:
          type: integer
          example: 123
          description: >-
            internal field that links to the Template object associated with
            this campaign.
        contact_list_id:
          type: integer
          example: 123
          description: >-
            internal field that links to the ContactList object associated with
            this campaign.
    Timezone:
      type: object
      required:
        - id
        - name
        - value
      properties:
        id:
          type: integer
          example: 123
        name:
          type: string
          example: Madrid
        value:
          type: string
          example: Europe/Madrid
    Template:
      type: object
      description: >-
        This object represents a template for an email NPS campaign in the
        system.
      required:
        - id
        - name
      properties:
        id:
          type: integer
          example: 123
        name:
          type: string
          example: Spring campaign template A
        context:
          type: string
          example: email
          enum:
            - email
            - web
          description: email or web.
          default: email
        type:
          type: string
          example: customers
          enum:
            - customers
            - employees
          description: customers or employees.
          default: customers
        used:
          type: boolean
          example: true
          description: indicates if this template is currently used in any ongoing survey.
        reply_to:
          type: string
          example: johndoe@acme.com
          format: email
          description: >-
            email account for the reply_to field in NPS email surveys using this
            template.
        from:
          type: string
          example: johndoe@acme.com
          format: email
          description: >-
            email account for the from field in email NPS surveys using this
            template.
        subject:
          type: string
          example: We only need you for one minute
          description: Email subject in email NPS surveys using this template.
        logo:
          type: string
          format: byte
          example: >-
            data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOsAAAB9CAYAAABDNZSLAAAFvUlEQVR4Xu3aTU8UTRiF4SYiAokLEqNuCVtYm/j3Xbkh7ohr45adMYavNzVJTXraZpyoaTzvc7ESppk6dZ+6p7pL9q6vrx8GXwgg8M8T2CPrP9+RgAisCJDVQkAghABZQ4oSEwGyWgMIhBAga0hRYiJAVmsAgRACZA0pSkwEyGoNIBBCgKwhRYmJAFmtAQRCCJA1pCgxESCrNYBACAGyhhQlJgJktQYQCCFA1pCixESArNYAAiEEyBpSlJgIkNUaQCCEAFlDihITAbJaAwiEECBrSFFiIkBWawCBEAJkDSlKTATIag0gEEKArCFFiYkAWa0BBEIIkDWkKDERIKs1gEAIAbKGFCUmAmS1BhAIIUDWkKLERICs1gACIQTIGlKUmAiQ1RpAIIQAWUOKEhMBsloDCIQQIGtIUWIiQFZrAIEQAmQNKUpMBMhqDSAQQoCsIUWJiQBZrQEEQgiQNaQoMREgqzWAQAgBsoYUJSYCZLUGEAghQNaQosREgKzWAAIhBMgaUpSYCJDVGkAghABZQ4oSEwGyWgMIhBAga0hRYiJAVmsAgRACZA0pSkwEyGoNIBBCgKwLF3V5eTlcX1+vRz0/Px/evn27+v7+/n74+PHj8O3bt9X3L1++HN69e7e+9vb2dvjw4cNwd3e3/tne3t7w/v374ejoaOeZ9Pc5Pj7eeP/2Btvy/a3xdw7qwg0CZF1wQUxFaEN32V68eLEhao81FvbLly/D58+fNwv8DVl7jumHwbZ87cPgb42/IPL/1VBkXajO8a7UdtPXr1+v5Tw9PR1OTk6GT58+DQ8PD6ud8vv37xvfN1murq6Gr1+//rTj7jqFbTv3r/KdnZ398fi75nTdPAGyLrQy2q1vk/Hg4GB16/n8+fP1LWeTtckw/uq72OHh4U/Xj6/rt9HT6589e7bxYdDG6LfYbRf/8ePHhvS75Jvbece38QuhLDsMWZ+o+ulO1p9bW5y+g7Z/dxmmu2KPPX5m7TI1MduHQrtl7re6/ffbazc3NxuvzSHYttOOr/+dZ+YnQh4/LFmfoMKxeNPnxukhz5s3b4aLi4vVodT4Nnn8jNt35i7Y/v7+6lm47Z5zh099F54bu40/l2+X8Z8AZakhybpw3WMRtu1K23beHrnvwF3o6a48d3vdrtkm6675xmONx18YZ6nhyLpw3f1WdSrq3OHRttvax2QZP1c+tnNuk/WxfHO/M/dhsTDOUsORdcG6555F+/D9NrPtbO059dWrV+v/Ux2fFj/2ejugGgvVDrDae247vJrK/Cf5pgdkC2ItMxRZF6p67g8K+tBdqLnT1l+dBvfXx6e/TfZ2wDR+xh3/0cTcLvk38i2EsuwwZF2o+rk/KJjKOj3xHYvarx0LPX592230dAedk3WXfNPDr7l8C+EsOQxZS9Zu0okEyJrYmswlCZC1ZO0mnUiArImtyVySAFlL1m7SiQTImtiazCUJkLVk7SadSICsia3JXJIAWUvWbtKJBMia2JrMJQmQtWTtJp1IgKyJrclckgBZS9Zu0okEyJrYmswlCZC1ZO0mnUiArImtyVySAFlL1m7SiQTImtiazCUJkLVk7SadSICsia3JXJIAWUvWbtKJBMia2JrMJQmQtWTtJp1IgKyJrclckgBZS9Zu0okEyJrYmswlCZC1ZO0mnUiArImtyVySAFlL1m7SiQTImtiazCUJkLVk7SadSICsia3JXJIAWUvWbtKJBMia2JrMJQmQtWTtJp1IgKyJrclckgBZS9Zu0okEyJrYmswlCZC1ZO0mnUiArImtyVySAFlL1m7SiQTImtiazCUJkLVk7SadSICsia3JXJIAWUvWbtKJBMia2JrMJQmQtWTtJp1IgKyJrclckgBZS9Zu0okEyJrYmswlCZC1ZO0mnUiArImtyVySAFlL1m7SiQTImtiazCUJkLVk7SadSICsia3JXJIAWUvWbtKJBP4DZ8FG35Dk0xAAAAAASUVORK5CYII=
          description: >-
            Base64 encoded image data (only) representing the logo for your
            survey. It is also the logo they see when they respond to the survey
            with a score, located at the top of the survey.
        message:
          type: string
          example: >-
            Please send us your review so that we can keep on working to be a
            little better everyday. Thanks!
          description: header message in email NPS surveys using this template.
        nps_question_X:
          type: string
          example: Based on your experience with  
          description: >-
            Intro for the NPS question, for instance "Based on your experience with "
        nps_question_Y:
          type: string
          example: ACME Inc.
          description: >-
            main subject of this NPS survey, for instance "ACME Inc."
        nps_question_Z:
          type: string
          example: to a friend or relative
          description: >-
            object the NPS question, for instance "to other friends"
        optional_disclaimer:
          type: string
          example: By sending this survey you accept...
          description: >-
            legal disclaimer at the footer of the email in email NPS surveys
            using this template.
        brand_color:
          type: string
          example: 'rgba(241,196,15,1)'
          description: 'only for Web NPS surveys, main color for the NPS survey layout.'
        button_shape:
          type: string
          example: rounded
          enum:
            - rounded
            - circle
            - square
          description: >-
            only for Web NPS surveys, shape of the buttons can be "rounded",
            "circle" or "square". Default circle.
        button_style:
          type: string
          example: inverse
          enum:
            - normal
            - inverse
          description: 'only for Web NPS surveys, this can be "normal" or "inverse".'
          default: normal
        font_family:
          type: string
          example: Lato
          description: 'only for Web NPS surveys, font-family for thw NPS survey layout.'
        web_layout_style:
          type: string
          example: spacious
          enum:
            - spacious
            - compact
          description: 'only for Web NPS surveys, this can be "spacious" or "compact".'
          default: compact
        language_id:
          type: integer
          example: 123
        language:
          $ref: '#/components/schemas/Language'
        thankyou_page:
          $ref: '#/components/schemas/ThankyouPage'
    ThankyouPage:
      type: object
      description: >-
        This is the final page that is shown to the users after they send their
        score and review. In this NPS API this object is an optional parameter
        for the request body in the template creation method. If you do not
        provide this object when creating a template, a default blank thankyou
        page is created and associated to the new Template. When creating a
        thankyou page from the Template creation method of this API is not
        possible to specify the buttons or links to social networks. This
        feature of our thankyou pages has to be configured from your NPS web
        control panel.
      properties:
        specific:
          type: boolean
          description: >-
            true if you want to have different thankyou pages for promoters,
            passives and detractors, or false if you want the same thankyou page
            for all types of feedback. If you set this parameter to false you
            only have to fill the *_generic parameters for the thankyou page and
            ignore the rest. And if you set this flag to true it means that you
            have to provide contents for all the *_promoter, *_passive and
            *_detractor parameters.
          default: false
        title:
          type: string
          description: >-
            Main title for the thanyou page which is shown to the users right
            after sending their feedback.
          example: Thanks for your feedback!
        header_generic:
          type: string
          description: Header text for the generic thankyou page.
          example: Thank you for so much
        message_generic:
          type: string
          description: Main central text for the generic thankyou page.
          example: >-
            We want to thank you for sharing with us your about our service and
            products...
        cta_text_generic:
          type: string
          description: Link text for the CTA button/link in the promoter thankyou page.
          example: Refer a friend
        cta_link_generic:
          type: string
          description: Link URL for the CTA button/link in the promoter thankyou page.
          example: 'https://referralprogram.acme.com'
        header_promoter:
          type: string
          description: Header text for the promoter thankyou page.
          example: Thank you for being a promoter!
        message_promoter:
          type: string
          description: Main central text for the promoter thankyou page.
          example: >-
            We want to thank you for being a promoter of our product and
            services...
        cta_text_promoter:
          type: string
          description: Link text for the CTA button/link in the promoter thankyou page.
          example: Refer a friend
        cta_link_promoter:
          type: string
          description: Link URL for the CTA button/link in the promoter thankyou page.
          example: 'https://referralprogram.acme.com'
        header_passive:
          type: string
          description: Header text for the passive thankyou page.
          example: Thank you for your review!
        message_passive:
          type: string
          description: Main central text for the passive thankyou page.
          example: We want to thank you for your review...
        cta_text_passive:
          type: string
          description: Link text for the CTA button/link in the passive thankyou page.
          example: Refer a friend
        cta_link_passive:
          type: string
          description: Link URL for the CTA button/link in the promoter thankyou page.
          example: 'https://referralprogram.acme.com'
        header_detractor:
          type: string
          description: Header text for the detractor thankyou page.
          example: Help us to be better!
        message_detractor:
          type: string
          description: Main central text for the detractor thankyou page.
          example: Please tell us what can we do to be better...
        cta_text_detractor:
          type: string
          description: Link text for the CTA button/link in the detractor thankyou page.
          example: Get your discount!
        cta_link_detractor:
          type: string
          description: Link URL for the CTA button/link in the detractor thankyou page.
          example: 'https://referralprogram.acme.com'
    ContactList:
      type: object
      description: >-
        this object represents a contact list for an email NPS campaign in the
        system.
      required:
        - id
        - name
      properties:
        id:
          type: integer
          example: 123
        name:
          type: string
          example: Customers that bought in the last year.
        context:
          type: string
          example: email
          enum:
            - email
            - web
          description: email or web.
          default: email
        status:
          type: string
          example: ready
          enum:
            - setup
            - importing
            - ready
            - used
          description: >-
            current status of this contact list, could be one of "setup",
            "importing", "ready" or "used".
        created_at:
          type: string
          format: date-time
          example: '2018-01-23 15:00:06'
        contacts_count:
          type: integer
          description: number of contacts in this contact list.
    Contact:
      type: object
      description: >-
        this object represents a contact in the system, represented by its
        internal ID and by its email address. The same email account can be used
        in different contact lists, but they will be different contacts in the
        system.
      required:
        - id
        - email
      properties:
        id:
          type: integer
          example: 123
        first_name:
          type: string
          example: John
        last_name:
          type: string
          example: Doe
        email:
          type: string
          format: email
          example: johndoe@acme.com
        status:
          type: string
          example: ready
          enum:
            - active
            - unsubscribed
            - disabled
          description: >-
            current status of this contact list, could be one of "active",
            "unsubscribed", "disabled".
          default: active
        created_at:
          type: string
          format: date-time
          example: '2018-01-23 15:00:06'
        attributes:
          type: object
          description: >-
            custom attributes asigned to this contact can be any number of
            arbitrary property/value pairs.
          additionalProperties: {}
          example:
            Gender: female
            Age: 32
            Plan: gold
        lists:
          type: object
          description: contact lists this contact belongs to.
          additionalProperties: {}
          example:
            '25': buyers
    FeedbackRecord:
      type: object
      description: >-
        This object represents a specific feedback entry or record from a contact within a specific campaign.
      required:
        - id
        - survey_contact_id
      properties:
        id:
          type: integer
          example: 123
        survey_contact_id:
          type: integer
          example: 123
        score:
          type: integer
          description: score sent by the recipient of the survey.
          example: 8
        scored_at:
          type: string
          format: date-time
          description: >-
            date and time the recipient of the survey sent a score, if that were
            the case.
          example: '2018-01-23 15:00:06'
        review:
          type: string
          description: review or comment sent by the recipient of the survey.
          example: 'Not happy with Customer Care'
        reviewed_at:
          type: string
          format: date-time
          description: >-
            date and time the recipient of the survey sent a review, if that
            were the case.
          example: '2018-01-23 15:00:06'
        reply:
          type: string
          description: review or comment sent by the recipient of the survey.
          example: 'Not happy with Customer Care'
        replied_at:
          type: string
          format: date-time
          description: >-
            date and time a reply was sent to the recipient of the survey, if
            that were the case.
          example: '2018-01-23 15:00:06'
        forwarded_to:
          type: string
          format: email
          example: >-
            if this feedback was forwarded, this is the email it was forwarded to.
        forwarded_at:
          type: string
          format: date-time
          description: >-
            date and time this feedback was forwarded from the NPS control panel or from this API, if that were the case.
          example: '2018-01-23 15:00:06'
        closed_at:
          type: string
          format: date-time
          description: >-
            date and time this feedback was closed from the NPS control panel or from this API, if that were the case.
          example: '2018-01-23 15:00:06'
    Feedback:
      type: object
      description: >-
        This object represents a specific feedback from a contact within a
        specific campaign.
      required:
        - id
        - campaign
        - contact
      properties:
        id:
          type: integer
          example: 123
        status:
          type: string
          example: scored
          enum:
            - ready
            - sent
            - delayed
            - delivered
            - dropped
            - bounced
            - opened
            - clicked
            - complained
            - unsubscribed
            - scored
            - reviewed
            - replied
            - closed
          description: current status of this survey
        sent_at:
          type: string
          format: date-time
          description: date and time this survey was sent.
          example: '2018-01-23 15:00:06'
        delivered_at:
          type: string
          format: date-time
          description: date and time this survey was delivered.
          example: '2018-01-23 15:00:06'
        dropped_at:
          type: string
          format: date-time
          description: 'date and time this survey was dropped, if that were the case.'
          example: '2018-01-23 15:00:06'
        bounced_at:
          type: string
          format: date-time
          description: 'date and time this survey was bounced, if that were the case.'
          example: '2018-01-23 15:00:06'
        clicked_at:
          type: string
          format: date-time
          description: >-
            date and time this survey was clicked by the recipient, if that were
            the case.
          example: '2018-01-23 15:00:06'
        complained_at:
          type: string
          format: date-time
          description: >-
            date and time this survey was marked as spam by the recipient, if
            that were the case.
          example: '2018-01-23 15:00:06'
        unsubscribed_at:
          type: string
          format: date-time
          description: >-
            date and time the recipient clicked unsubscribe from the survey, if
            that were the case.
          example: '2018-01-23 15:00:06'
        campaign:
          $ref: '#/components/schemas/SurveyCampaign'
        contact:
          $ref: '#/components/schemas/Contact'
        tags:
          type: object
          description: >-
            tags or trends assigned to the feedback in the system.
          additionalProperties: {}
          example:
            Atencion Cliente: positive
            Precios: neutral
            Producto: negative
        feedback_records: 
          $ref: '#/components/schemas/FeedbackRecord'
    CommonReply:
      type: object
      required:
        - id
        - name
        - reply
      properties:
        id:
          type: integer
          example: 123
        name:
          type: string
          description: Name or title for this common reply.
          example: Reply to detractors with review
        reply:
          type: string
          description: The message within the common reply.
          example: >-
            Thank you for your response! We really appreciate your time and know
            you're busy. We're striving to improve our product and learn more
            from our customers. What is your number one issue or complain? We
            only want happy customers.
        created_at:
          type: string
          format: date-time
          description: the date and time this reply was created.
          example: '2016-11-17 10:39:38'
        reply_category:
          type: object
          description: The category that this common reply belongs to.
          properties:
            id:
              type: integer
              example: 123
            name:
              type: string
              description: Name or title for this category.
              example: Category detractors
            created_at:
              type: string
              format: date-time
              description: the date and time this reply category was created.
              example: '2016-11-17 10:39:38'
    Language:
      type: object
      required:
        - id
        - code
        - name
      properties:
        id:
          type: integer
        code:
          type: string
          example: es
        name:
          type: string
          example: Spanish (Spain)