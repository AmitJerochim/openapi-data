openapi: 3.0.0
info:
  version: "1.0-oas3"
  title: RxOne API
  description: Services to send scripts to RxOne sites or obtain script details
  contact:
    name: RxOne Support
    email: support@rxone.co.nz

  
      
paths:
  /ping:
    get:
      summary: returns true if server is online. No Security
      description: ''
      operationId: Ping
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: boolean
                example: true
  /SiteStatus/UnitsOnlineByHFI:
    get:
      summary: Returns all the sites online identified by their hfi as entered into RxOne options 
      description:  Returns all the sites online identified by their hfi this is
        sourced live from the backend connection system. Requires RxOne Approval but not site approval
      operationId: GetUnitsByHFI
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  {
                     $ref: '#/components/schemas/SiteStatus'}
  /SiteStatus/UnitsOnlineForHFI:
    get:
      summary: Returns the number of units online for a HFI 
      description:  Returns the number of units online for a HFI . Requires RxOne Approval but not site approval
      operationId: GetUnitsOnlineForHFI
      parameters:  
        - name: HFI
          in: query
          description: The HFI of the site you want to check.
          schema:
             $ref: '#/components/schemas/SiteCode'
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: integer
                example: 5
  /SiteStatus/RxMessagingConnectionDetailsForSiteHFI:
    get:
      summary: Returns the details of the online connections for a HFI 
      description:  Returns the details of the online connections for a HFI. Requires RxOne Approval but not site approval
      operationId: GetConnectionDetailsForHFI
      parameters:  
        - name: HFI
          in: query
          description: The HFI of the site you want to check.
          schema:
            $ref: '#/components/schemas/SiteCode'
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  {
                     $ref: '#/components/schemas/ConnectionInfo'}
  /ePrescriptions/SendNewScriptRequestToSite:
    post:
      summary: Sends a request to a site to dispense an ePrescription
      description: Sends a request to a site to dispense an ePrescription. Requires RxOne Approval but not site approval, Can be blocked by the site.
      operationId: SendNewScriptRequestToSite
      parameters:  
        - name: StoreIDToSendTo
          in: query
          description: The HFI of the site you want to send the script to.
          schema:
            $ref: '#/components/schemas/SiteCode'
          required: true
        - name: StoreNameToSendTo
          in: query
          description: The name of the pharmacy you want to send the script to. This is to help with error tracking if the ID to send to is incorrect
          schema:
            type: string
          required: true
        - name: StoreIDBeingSentFrom
          in: query
          description: The ID Provided to you by RxOne.
          schema:
            $ref: '#/components/schemas/RxOneSiteCode'
          required: true
        - name: StoreNameBeingSentFrom
          in: query
          description: The Name to display in the receieving pharmacy system.
          schema:
            type: string
          required: true
        - name: StaffMemberSendingMessage
          in: query
          description: The name of the staff member sending. If from an app or automated sytem send the appname or system name to help trace bad messages
          schema:
            type: string
          required: true
        - name: MessageID
          in: query
          description: A guid that traces the message. Must be seperate for each message. In any standard format
          schema:
            type: string
          required: true
      requestBody:
        description: Details of the script to be dispensed
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewScriptRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
               $ref: '#/components/schemas/ResponseStatus'
        502:
          description: This means the backend connection to the site is not working and the script must be sent via back up email method. Check the site has is using RxOne and ask them to contact RxOne support to check that RxOne messaging is configured correctly
        500:
          description: This means that the site client has returned an error during the transmission of the script and the script must be sent via backup email method. Ask the site to contact RxOne support to analyse the error further
          
  /ePrescriptions/GetStatusOfePrescription:
    get:
      summary: Sends a request to a site to get the status of an ePrescription sent by SendNewScriptRequestToSite
      description: Sends a request to a site to get the status of an ePrescription sent by SendNewScriptRequestToSite. Requires RxOne Approval but not site approval, Can be blocked by the site.
      operationId: GetStatusOfePrescription
      parameters:  
        - name: StoreIDToSendTo
          in: query
          description: The HFI of the Pharmacy you sent the original script to.
          schema:
            $ref: '#/components/schemas/SiteCode'
          required: true
        - name: StoreNameToSendTo
          in: query
          description: The name of the pharmacy you sent the original script to.This is to help with error tracking if the ID to send to is incorrect
          schema:
            type: string
          required: true
        - name: StoreIDBeingSentFrom
          in: query
          description: The ID Provided to you by RxOne.
          schema:
            $ref: '#/components/schemas/RxOneSiteCode'
          required: true
        - name: StoreNameBeingSentFrom
          in: query
          description: The Name to display in the receieving pharmacy system.
          schema:
            type: string
          required: true
        - name: StaffMemberSendingMessage
          in: query
          description: The name of the staff member sending. If from an app or automated sytem send the appname or system name to help trace bad messages
          schema:
            type: string
          required: true
        - name: MessageID
          in: query
          description: A guid that traces the message. Must be seperate for each message. In any standard format
          schema:
            type: string
          required: true
        - name: Scid
          in: query
          description: The eprescription scid that you want the status for
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                 $ref: '#/components/schemas/eScriptStatusResponse'
        400:
          description: This means the scid you are requesting the status for was never receieved at the site. It is suggested you resend the scid.
        502:
          description: This means the backend connection to the site is not working. Check the site has is using RxOne and ask them to contact RxOne support to check that RxOne messaging is configured correctly.
        500:
          description: This means that the site client has returned an error transmitting the request to the site. Ask the site to contact RxOne support to analyse the error further
  /Repeats/NewPatientConnectionRequest:
    post:
      summary: Sends a request to a site to allow a login to access a patient record. 
      description: Sends a request to a site to allow a login to access a patient record. Requires RxOne Approval,site approval and patient approval, Can be blocked by the site.
      operationId: NewPatientConnectionRequest
      parameters:  
        - name: StoreIDToSendTo
          in: query
          description: The HFI of the Pharmacy the patient's record is on.
          schema:
            $ref: '#/components/schemas/SiteCode'
          required: true
        - name: StoreNameToSendTo
          in: query
          description: The name of the pharmacy the patient's record is on. This is to help with error tracking if the ID to send to is incorrect
          schema:
            type: string
          required: true
        - name: StoreIDBeingSentFrom
          in: query
          description: The ID Provided to you by RxOne.
          schema:
            $ref: '#/components/schemas/RxOneSiteCode'
          required: true
        - name: StoreNameBeingSentFrom
          in: query
          description: The Name to display in the receieving pharmacy system.
          schema:
            type: string
          required: true
        - name: StaffMemberSendingMessage
          in: query
          description: The name of the staff member sending. If from an app or automated sytem send the appname or system name to help trace bad messages
          schema:
            type: string
          required: true
        - name: MessageID
          in: query
          description: A guid that traces the message. Must be seperate for each message. In any standard format
          schema:
            type: string
          required: true
      requestBody:
        description: Details of the patient and login that you want to access.
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewPatientConnectionRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseStatus'
        502:
          description: This means the backend connection to the site is not working. Check the site has is using RxOne and ask them to contact RxOne support to check that RxOne messaging is configured correctly
        500:
          description: This means that the site client has returned an error. Ask the site to contact RxOne support to analyse the error further     
    
  /Repeats/SetPatientStatusOnSite:
    post:
      summary: Sends a request to a site to change a patient record access status. 
      description: Sends a request to a site to change a patient record access status. If status us set to blocked can only be unblocked by the pharmacy. Requires RxOne Approval,site approval and patient approval, Can be blocked by the site.
      operationId: SetPatientStatusOnSite
      parameters:  
        - name: StoreIDToSendTo
          in: query
          description: The HFI of the pharmacy the patient record is on.
          schema:
            $ref: '#/components/schemas/SiteCode'
          required: true
        - name: StoreNameToSendTo
          in: query
          description: The name of the pharmacy the patient record is on. This is to help with error tracking if the ID to send to is incorrect
          schema:
            type: string
          required: true
        - name: StoreIDBeingSentFrom
          in: query
          description: The ID Provided to you by RxOne
          schema:
            type: string
          required: true
        - name: StaffMemberSendingMessage
          in: query
          description: The name of the staff member sending. If from an app or automated sytem send the appname or system name to help trace bad messages
          schema:
            type: string
          required: true
        - name: MessageID
          in: query
          description: A guid that traces the message. Must be seperate for each message. In any standard format
          schema:
            type: string
          required: true
      requestBody:
        description: Details of the patient and login details that you want to change the status off.
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SetLoginStatusRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SetLoginStatusResponse'
        502:
          description: This means the backend connection to the site is not working. Check the site has is using RxOne and ask them to contact RxOne support to check that RxOne messaging is configured correctly
        500:
          description: This means that the site client has returned an error during the transmission of the change of status request. Ask the site to contact RxOne support to analyse the error further         
  /Repeats/RequestRepeatsList:
    post:
      summary: Sends a request to a site to get the repeats that are stil waiting to be dispensed. 
      description: ends a request to a site to get the repeats that are stil waiting to be dispensed. Requires RxOne Approval,site approval and patient approval, Can be blocked by the site.
      operationId: RequestRepeatsList
      parameters:  
        - name: StoreIDToSendTo
          in: query
          description: The HFI of the Pharmacy the patient record is on.
          schema:
            $ref: '#/components/schemas/SiteCode'
          required: true
        - name: StoreNameToSendTo
          in: query
          description: The name of the pharmacy the patient record is on. This is to help with error tracking if the ID to send to is incorrect
          schema:
            type: string
          required: true
        - name: StoreIDBeingSentFrom
          in: query
          description: The ID Provided to you by RxOne.
          schema:
            $ref: '#/components/schemas/RxOneSiteCode'
          required: true
        - name: StoreNameBeingSentFrom
          in: query
          description: The Name to display in the receieving pharmacy system.
          schema:
            type: string
          required: true
        - name: StaffMemberSendingMessage
          in: query
          description: The name of the staff member sending. If from an app or automated sytem send the appname or system name to help trace bad messages
          schema:
            type: string
          required: true
        - name: MessageID
          in: query
          description: A guid that traces the message. Must be seperate for each message. In any standard format
          schema:
            type: string
          required: true
      requestBody:
        description: Details of the Patient and login whos record you want to access.
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RepeatListingRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RepeatListingResponse'
        502:
          description: This means the backend connection to the site is not working. Check the site has is using RxOne and ask them to contact RxOne support to check that RxOne messaging is configured correctly
        500:
          description: This means that the site client has returned an error. Ask the site to contact RxOne support to analyse the error further   
  /Repeats/RequestRepeatToBeDispensed:
    post:
      summary: Sends a request to a site to dispense one or more repeats. 
      description: Sends a request to a site to dispense one or more repeats. Requires RxOne Approval,site approval and patient approval, Can be blocked by the site.
      operationId: RequestRepeatToBeDispensed
      parameters:  
        - name: StoreIDToSendTo
          in: query
          description: The HFI of the site the script belongs to.
          schema:
            $ref: '#/components/schemas/SiteCode'
          required: true
        - name: StoreNameToSendTo
          in: query
          description: The name of the pharmacy the script belongs to. This is to help with error tracking if the ID to send to is incorrect
          schema:
            type: string
          required: true
        - name: StoreIDBeingSentFrom
          in: query
          description: The ID Provided to you by RxOne.
          schema:
            $ref: '#/components/schemas/RxOneSiteCode'
          required: true
        - name: StoreNameBeingSentFrom
          in: query
          description: The Name to display in the receieving pharmacy system.
          schema:
            type: string
          required: true
        - name: StaffMemberSendingMessage
          in: query
          description: The name of the staff member sending. If from an app or automated sytem send the appname or system name to help trace bad messages
          schema:
            type: string
          required: true
        - name: MessageID
          in: query
          description: A guid that traces the message. Must be seperate for each message. In any standard format
          schema:
            type: string
          required: true
      requestBody:
        description: Details of the repeat to be dispensed
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DispenseRepeatRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
               $ref: '#/components/schemas/DispenseRepeatResponse'
        502:
          description: This means the backend connection to the site is not working. Check the site has is using RxOne and ask them to contact RxOne support to check that RxOne messaging is configured correctly
        500:
          description: This means that the site client has returned an error during the transmission of the script. Ask the site to contact RxOne support to analyse the error further
  /Repeats/RequestScriptStatusList:
    post:
      summary: Sends a request to a site get the status of repeats previously sent to the site. 
      description: Sends a request to a site get the status of repeats previously sent to the site. Requires RxOne Approval,site approval and patient approval, Can be blocked by the site.
      operationId: RequestScriptStatusList
      parameters:  
        - name: StoreIDToSendTo
          in: query
          description: The HFI of the site the script belongs to.
          schema:
            $ref: '#/components/schemas/SiteCode'
          required: true
        - name: StoreNameToSendTo
          in: query
          description: The name of the pharmacy the script belongs to. This is to help with error tracking if the ID to send to is incorrect
          schema:
            type: string
          required: true
        - name: StoreIDBeingSentFrom
          in: query
          description: The ID Provided to you by HealthSoft.
          schema:
            $ref: '#/components/schemas/RxOneSiteCode'
          required: true
        - name: StoreNameBeingSentFrom
          in: query
          description: The Name to display in the receieving pharmacy system.
          schema:
            type: string
          required: true
        - name: StaffMemberSendingMessage
          in: query
          description: The name of the staff member sending. If from an app or automated sytem send the appname or system name to help trace bad messages
          schema:
            type: string
          required: true
        - name: MessageID
          in: query
          description: A guid that traces the message. Must be seperate for each message. In any standard format
          schema:
            type: string
          required: true
      requestBody:
        description: The details of the script you want the status for. Can send more than one patient and script at the same time.
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DispenseRepeatRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
               $ref: '#/components/schemas/RxOneScriptStatusResponse'
        502:
          description: This means the backend connection to the site is not working. Check the site has is using RxOne and ask them to contact RxOne support to check that RxOne messaging is configured correctly
        500:
          description: This means that the site client has returned an error while requesting script information. Ask the site to contact RxOne support to analyse the error further
  /PersonAudit/SavePersonAuditEntry:
    post:
      summary: Sends a request to a site to allow a login to access a patient record. 
      description: Sends a request to a site to dispense an ePrescription. Requires RxOne Approval,site approval and patient approval, Can be blocked by the site.
      operationId: SavePersonAuditEntry
      parameters:  
        - name: StoreIDToSendTo
          in: query
          description: The HFI of the site you want to send the script to.
          schema:
            $ref: '#/components/schemas/SiteCode'
          required: true
        - name: StoreNameToSendTo
          in: query
          description: The name of the pharmacy you want to send the script to. This is to help with error tracking if the ID to send to is incorrect
          schema:
            type: string
          required: true
        - name: StoreIDBeingSentFrom
          in: query
          description: The ID Provided to you by HealthSoft.
          schema:
            $ref: '#/components/schemas/SiteCode'
          required: true
        - name: StoreNameBeingSentFrom
          in: query
          description: The Name to display in the receieving pharmacy system.
          schema:
            type: string
          required: true
        - name: StaffMemberSendingMessage
          in: query
          description: The name of the staff member sending. If from an app or automated sytem send the appname or system name to help trace bad messages
          schema:
            type: string
          required: true
        - name: MessageID
          in: query
          description: A guid that traces the message. Must be seperate for each message. In any standard format
          schema:
            type: string
          required: true
      requestBody:
        description: Details of the script to be dispensed
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SavePersonAuditRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
               $ref: '#/components/schemas/ResponseStatus'
        502:
          description: This means the backend connection to the site is not working and the script must be sent via back up email method. Check the site has is using RxOne and ask them to contact RxOne support to check that RxOne messaging is configured correctly
        500:
          description: This means that the site client has returned an error during the transmission of the script and the script must be sent via backup email method. Ask the site to contact RxOne support to analyse the error further
servers:
  - url: 'https://office.healthsoft.co.nz:10443/NZAPI/'
    description: Production Server
components:
  schemas:
    SiteStatus:
      type: object
      properties:
        SiteCode:
          type: string
          description: Code that identifies the site, Usually the snomed HFI
          example: F25006-C
        SiteName:
          type: string
          description: Name of the pharmacy as defined in RxOne Options
          example: RxOne Pharmacy
        SiteEmail:
          type: string
          description: email of the pharmacy as defined in RxOne Options
          example: support@rxone.co.nz
        UnitCount:
          type: integer
          description: No of units connected to the comms system. For reference only
          example: 5
        TestingSite:
          type: boolean
          description: This is a testing machine you can freely send messages to
          example: false
    ConnectionInfo:
      type: object
      properties:
        TestingSite:
          type: boolean
          description: This is a testing machine you can freely send messages to
          example: false
        ConnectionID:
          type: string
          description: Detailed connectionid
          example: 71b5092f-c055-4ddf-baf3-a881426ab10d
        ClientVersion:
          type: string
          description: Version of client software on site. My limit some functionality.
          example: 3020.3.27.3
        UnitName:
          type: string
          description: Name of the computer in the pharmacy this connection is for.
          example: Unit:RxOnePC
        UnitGuid:
          type: string
          description: Guid of the computer in the pharmacy this connection is for.
          example: deaf51a9561e46e3806eb003c719a2dc
        SiteName:
          type: string
          description: Name of the pharmacy as defined in RxOne Options
          example: RxOne Pharmacy
        SiteEmail:
          type: string
          description: email of the pharmacy as defined in RxOne Options
          example: support@rxone.co.nz
        FullID:
          type: string
          description: Full ConnectionID
          example: 71b5092f-c055-4ddf-baf3-a881426ab10d.deaf51a9561e46e3806eb003c719a2dc
    Doctor:
      type: object
      description: The contact details of the doctor who prescribed the script. So that if download fails can contact the doctor
      properties:
        PracticeName:
          type: string
          description: The Name of the practice
          example: The Practice
        PrescriberNumber:
          type: string
          description: The presciber number. Like the doctors NZMC number.
          example: H1234
        FirstName:
          type: string
          description: First name of the prescriber
          example: Micky
        LastName:
          type: string
          description: Last name of the prescriber
          example: Mouse
        Email:
          type: string
          description: Email to use to send queries to about the script
          example: support@rxone.co.nz
        Phone:
          type: string
          description: Phone number to call if there is a problem with the script
          example: 093007007
          
    Patient:
      type: object
      description: The contact details of the persob who the script is for. So that if download fails can contact the person
      properties:
        NHINumber:
          type: string
          description: The patients NHI number to match against pharmacy records
          example: ABC1234
        FirstName:
          type: string
          description: First name of the patient
          example: Micky
        LastName:
          type: string
          description: Last name of the patient
          example: Mouse
        Email:
          type: string
          description: Email to use to send queries to about the script
          example: support@rxone.co.nz
        Phone:
          type: string
          description: Phone number to call if there is a problem with the script
          example: 093007007
        MobileNumber:
          type: string
          description: Mobile number to call if there is a problem with the script
          example: 0213007007
    NewScriptRequest:
      type: object
      properties:
        eScriptIdentifier:
          type: string
          description: escriptidentier from ePes repository. non NZePes Script if not an ePes Script
          example: 1P6Q90K4MFW1N7K1G8
        StatusURL:
          type: string
          description: Url To send the status of the script as it is dispensed. This can be blank if status isn't required. Status is only possible for NZePes scripts
          example: https://office.healthsoft.co.nz/StatusReply?MessageID=C1DD3C93B03442B880BDBC90E0CE8BEB
        PDFDownloadLink:
          type: string
          description: A URL to download a copy of PDF from required by the MOH.
          example: https://office.healthsoft.co.nz/LOTSStatus/GXH_DM8_NEW_UPDATES.PDF
        PatientComment:
          type: string
          description: Delivery details or notes for the pharmacy
          example: Please delivery to my home address
        BasketIdentifier:
           type: string
           description: This is a guid to identify that scripts are to be processed together. So if a script has more than one Scid and patient expects to pick them up together set the basket identifier to the same guid.
           example: {49D78459-5FFC-4E7D-9DF8-02CF57CC9995}
        TheDoctor:
          $ref: '#/components/schemas/Doctor'
        ThePatient:
          $ref: '#/components/schemas/Patient'
    PatientIdentifier:
      type: object
      properties:
        IdentifierType:
          type: string
          enum: [RxOneGuid,NHI Number,MedicareNo,IHI,LivingRewardsCard]
          description: The type of patient identifier, Allowed values RXONEGUID,NHINUMBER,MEDICARENO,IHI,LIVINGREWARDSCARD
          example: NHINumber
        Identifier:
          type: string
          description: The patient identifier
          example: ABC1234
    ResponseStatus:
      type: object
      properties:
        Success:
          type: boolean
          description: did the operation complete success fully
          example: true
        ErrorMessage:
          type: string
          description: a message containing information about the result. 
          example: Waiting to be dispensed
        StatusCode:
          type: number
          description: HTTP Status code to help explain the problem
          example: 200
    ScriptStatusDetails:
      type: object
      properties:
        Result:
          $ref: '#/components/schemas/ResponseStatus'
        RxOneScriptGuid:
          type: string
          description: The script guid that uniqely identerfies the script is RxOne
          example: D113158FE1E548109EEBE73E55B06F0C
        ScriptNumber:
          type: string
          description: Full Script Number. If for New Zealand includes the suffix
          example: 851473/1
        DrugName:
          type: string
          description: The name of the drug as printed on the script label
          example: TRAMADOL HCL 100MG SR Tabs (CS)
        IsHeldScript:
          type: boolean
          description: Indicates if the script is Held or deffered in Australia and not being given to the patient yet
          example: false
        ScriptStatus:
          type: string
          description: Script status in human readable text. 
          enum: [Script request sent to pharmacy.,Script dispensing request not receieved please contact pharmacy.,Waiting for pharmacy to dispense script.,Script downloaded by pharmacy.,There has been a problem getting the script. Please contact the pharmacy.,Script has been dispensed and but some drugs were not avaliable. Please contact the pharmacy.,Script has been dispensed and ready for pickup.,Script has been dispensed and sent to courier.,Script has been dispensed and delivered.,The script has been picked up.,Script is marked as deleted please contact the pharmacy.]
          example: The script has been picked up.
        ScriptStatusID:
          type: number
          enum: [0,1,2,3,4,5,6,7,8,9,10]
          example: 9
        DeliveryTrackingNumber:
          type: string
          description: Tracking number from the courier company if being delivered
          example: 00494000221003718298
        DeliveryProvider:
          type: string
          description: Name of the delivery provider, could be a courier company name , or inhouse evening
          example: Inhouse Evening Delivery
        DeliveryStatus:
          type: string
          description: Status of the delivery provided by the site for inhouse or by the courier company, free text so can be anything
          example: To Be Delivered
        PatientPriceIncludingTax:
          type: number
          description: The price the patient needs to pay including Sundries and tax
          example: 5.00
        PrivateInsurancePays:
          type: number
          description: The amount the private insurance provider is paying. Remove from patient price to get the amount to charge the patient.
          example: 4.00
        PrivateInsuranceProvider:
          type: string
          description: The name of the insurance provider if more than one supported
          example: Southern Cross
        PrivateInsuranceMessage:
          type: string
          description: Message from the insurance provider that must be displayed to the user. Can be the same for more than one script.
          example: Your Southern Cross Health Society e-claim number is exxxxxxxx. Your claim has been paid directly to the pharmacy in accordance with the terms of your Southern Cross Member card and policy.
    eScriptStatusResponse:
      type: object
      properties:
        Result:
          $ref: '#/components/schemas/ResponseStatus'
        eScriptIdentifier:
          type: string
          description: The escript identifier passed in the orginal call
          example: D113158FE1E548109EEBE73E55B06F0C
        ScriptDetails:
          type: array
          description: If no items are returned then this means the script hasn't being dispensed yet. Check the error message of the result for extra information.
          minItems: 0
          items: {$ref: '#/components/schemas/ScriptStatusDetails'}
    LoginDetails:
      type: object
      properties:
        LoginGuid: 
          type: string
          description: A unique identifier from the login system. So if logging in using facebook login will be the id provided by the facebook API
          example: EAACEdE...
        LoginDescription:
          type: string
          description: This is the name of the identifier displied in RxOne next to the login to enable the Patient to request the pharmacist to block the connection
    NewPatientConnectionRequest:
      type: object
      properties:
        PatientIdentifier:
          $ref: '#/components/schemas/PatientIdentifier'
        RequestToken:
          type: string
          description: this is the request token generated by RxOne. If its blank then the login will be set to pending and text message or email will be sent to the user with a access token. Once the user enters the token resend the request with the token filled in and the request will be approved
          example: F6559BF3-B060-4450-8F35-B1049BC75A5E
        SignupURL:
          type: string
          description: If this link exists it will be sent to the patient in the comms with the code attached appended to the end of the url.
          example: https://Office.healthsoft.co.nz:10443/NZAPI/RequestID=C25A894B-213C-4310-B866-17CCD1315B24&Code=
        LoginDescription:
          $ref: '#/components/schemas/LoginDetails'
    SetLoginStatusRequest:
      type: object
      properties:
        LoginDescription:
          $ref: '#/components/schemas/LoginDetails'
        PatientIdentifiers:
          type: array
          minItems: 1
          items: {$ref: '#/components/schemas/PatientIdentifier'}
        NewLoginStatus:
          type: string
          enum: [Approved,Suspended,Blocked,Pending]
          description: The status you want to set this login too. If set to blocked the only way to unblock is to call the pharmacy and have a pharmacist unblock the login.
    SetLoginStatusPatientResponse:
      type: object
      description: We return an array of responses because same people could succed and others fail.
      properties:
        Result:
          $ref: '#/components/schemas/ResponseStatus'
        PatientIdentifier: 
          $ref: '#/components/schemas/PatientIdentifier'
    SetLoginStatusResponse:
      type: object
      properties:
        Result:
          $ref: '#/components/schemas/ResponseStatus'
        PatientDetails:
          type: array
          items: {$ref: '#/components/schemas/SetLoginStatusPatientResponse'}
    RepeatListingRequest:
      type: object
      properties:
        LoginDescription:
          $ref: '#/components/schemas/LoginDetails'
        PatientIdentifiers:
          type: array
          minItems: 1
          items: {$ref: '#/components/schemas/PatientIdentifier'}
    RepeatListingScriptResponse:
      type: object
      properties:
        Result:
          $ref: '#/components/schemas/ResponseStatus'
        RxOneScriptGuid:
          type: string
          description: The script guid that uniqely identerfies the script is RxOne
          example: D113158FE1E548109EEBE73E55B06F0C
        ScriptNumber:
          type: string
          description: Full Script Number. If for New Zealand includes the suffix
          example: 851473/1
        DrugName:
          type: string
          description: The name of the drug as printed on the script label
          example: TRAMADOL HCL 100MG SR Tabs (CS)
        ExpiryDate:
          type: string
          description: The date all repeats must be collected by. If this is due to expire within the next two days the patient must go in and collect the script or it must be delieverd before the end of the date it expires on.  Format is dd mmm yyyy
          example: 29 May 1975
        DescriptionOfRepeatsLeft:
          type: string
          description: Indicates the number of repeats left before the patient needs to go back to the doctor for a new script
          example: 2 Rpts Left
        IsHeldScript:
          type: boolean
          description: Indicates if the script is Held or deffered in Australia and not being given to the patient yet
          example: false
        Doctorname:
          type: string
          description: The full name of the doctor who prescribed the script
          example: Dr Micky Mouse
        ExpandedInstruction:
          type: string
          description: The full instruction printed on the script label
          example: take one twice daily
    RepeatListingPatientResponse:
      type: object
      properties:
        Result:
          $ref: '#/components/schemas/ResponseStatus'
        PatientIdentifier: 
          $ref: '#/components/schemas/PatientIdentifier'
        PatientFullName:
          type: string
          description: The patient full name for display
          example: Micky Mouse
        ScriptDetails:
          type: array
          minItems: 1
          items: {$ref: '#/components/schemas/RepeatListingScriptResponse'}
    RepeatListingResponse:
      type: object
      properties:
        Result:
          $ref: '#/components/schemas/ResponseStatus'
        PatientDetails:
          type: array
          minItems: 1
          items: {$ref: '#/components/schemas/RepeatListingPatientResponse'}
    DispenseRepeatScriptRequest:
      type: object
      properties:
        RxOneScriptGuid:
          type: string
          description: The script guid that uniqely identerfies the script is RxOne
          example: D113158FE1E548109EEBE73E55B06F0C
        IsHeldScript:
          type: boolean
          description: Indicates if the script is Held or deffered in Australia and not being given to the patient yet
          example: false
    DispenseRepeatPatientRequest:
      type: object
      properties:
        PatientIdentifier: 
          $ref: '#/components/schemas/PatientIdentifier'
        ScriptIdentifiers:
          type: array
          minItems: 1
          items: {$ref: '#/components/schemas/DispenseRepeatScriptRequest'}
    DispenseRepeatRequest:
      type: object
      properties:
        LoginDescription:
          $ref: '#/components/schemas/LoginDetails'
        PatientDetails:
          type: array
          minItems: 1
          items: {$ref: '#/components/schemas/DispenseRepeatPatientRequest'}
    DispenseRepeatScriptResponse:
      type: object
      properties:
        Result:
          $ref: '#/components/schemas/ResponseStatus'
        RxOneScriptGuid:
          type: string
          description: The script guid that uniqely identerfies the script is RxOne
          example: D113158FE1E548109EEBE73E55B06F0C
    DispenseRepeatPatientResponse:
      type: object
      properties:
        Result:
          $ref: '#/components/schemas/ResponseStatus'
        PatientIdentifier: 
          $ref: '#/components/schemas/PatientIdentifier' 
        PatientFullName:
          type: string
          description: The patient full name for display
          example: Micky Mouse
        ScriptDetails:
          $ref: '#/components/schemas/DispenseRepeatScriptResponse'
    DispenseRepeatResponse:
      type: object
      properties:
        Result:
          $ref: '#/components/schemas/ResponseStatus'
        PatientDetails:
          type: array
          minItems: 1
          items: {$ref: '#/components/schemas/DispenseRepeatPatientResponse'}
    RxOnePatientScriptStatusResponse:
      type: object
      properties:
        Result:
          $ref: '#/components/schemas/ResponseStatus'
        PatientIdentifier: 
          $ref: '#/components/schemas/PatientIdentifier' 
        PatientFullName:
          type: string
          description: The patient full name for display
          example: Micky Mouse
        ScriptDetails:
          $ref: '#/components/schemas/ScriptStatusDetails'
    RxOneScriptStatusResponse:
      type: object
      properties:
        Result:
          $ref: '#/components/schemas/ResponseStatus'
        PatientDetails:
          type: array
          minItems: 1
          items: {$ref: '#/components/schemas/RxOnePatientScriptStatusResponse'}
    SavePersonAuditRequest:
      type: object
      properties:
        PatientIdentifier: 
          $ref: '#/components/schemas/PatientIdentifier' 
        PersonAuditEntry:
          type: string
          description: The Text to save to the person audit for the patient. Usually a short 40 character description
          example: Website Message From Patient
        PersonAuditComment:
          type: string
          description: Details of the event. This is the detailed event information. Like text from patient
          example: Please contact me on xxxxxxxx to discuss 
        AuditStatus:
          type: string
          description: The status of the event if it requires no action or must be read
          enum: [Completed,To Be Completed,Cancelled,Not Applicable,Please Read]
    NZHFI-O:
      type: string
      pattern: '^F[a-zA-Z\d]{5}-[a-zA-Z]$'
      description: This code is provided by the MOH.
      example: F23067-B
    TestNZHFI-O:
      type: string
      pattern: '^IHF[a-zA-Z\d]{5}-[a-zA-Z]$'
      description: This code is for test computers and is provided by the MOH with IH added in the from to indicate Inhouse Test System.
      example: IHF23067-B
    OZHFI-O:
      type: string
      pattern: '^800362\d{10}$'
      description: This code is provided by the adha system.
      example: 8003622500027538
    TestOZHFI-O:
      type: string
      pattern: '^IH800362\d{10}$'
      description: This code is for test computers and is provided by the adha system with IH added in the from to indicate Inhouse Test System.
      example: IH8003622500027538
    RxOneSiteCode:
      type: string
      description: This code is supplied by RxOne
      pattern: '^[a-zA-Z\d]{32}$'
    SiteCode:
      oneOf: 
        - $ref: '#/components/schemas/NZHFI-O'
        - $ref: '#/components/schemas/OZHFI-O'
        - $ref: '#/components/schemas/TestNZHFI-O'
        - $ref: '#/components/schemas/TestOZHFI-O'
        - $ref: '#/components/schemas/RxOneSiteCode'