enapi: 3.0.0
info:
  version: '1.0.0'
  title: Physical Therapy Referral Status for Luna
  description: Sent to DocSpera from Luna whenever a patient's enrollment status changes.
security:
  - UserSecurity: []
paths:
  /pt/luna/status:
    post:
      description: Sent to DocSpera from Luna whenever a patient's enrollment status changes.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LunaReferralStatusReq"
      responses:
        "200":
          description: DocSpera successfully received and accepted referral status update.
          content:
            "*/*":
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: Success
        "400":
          $ref: "#/components/responses/400Error"
          
servers:
# Added by API Auto Mocking Plugin
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/DocSpera/Luna_PT_Referral_Status/1.0.0
    
components:
  responses:
    400Error:
      description: Invalid request
      content:
        "*/*":
          schema:
            type: object
            example: {
              "status": "Error",
              "errors":["Bad appointment_id","No luna_id","No status"]
            }
  securitySchemes:
    UserSecurity:
      type: http
      scheme: basic
  schemas:
    LunaReferralStatusReq:
      type: object
      properties:
        appointment_id:
          type: string
          example: '26B21A'
          description: The appointment ID.
        luna_id:
          type: string
          example: 'L12345'
          description: The Luna ID.
        status:
          type: string
          example: 'booked'
          description: >
            The referral status. Legal values:
            
            - pending: The referral is pending.
            
            - booked: The referral has been booked for physical therapy.
            
            - unable_to_book: Luna was unable to book the referral.
            
            - in_progress: Luna physical therapy care plan is in progress.
            
            - completed: Luna physical therapy care plan is completed.