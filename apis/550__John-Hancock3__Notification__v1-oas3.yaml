penapi: 3.0.0
info:
  version: "v1-oas3"
  title: JH Notification
  description: An API to send emails, text messages (SMS) and make automated voice calls.
servers:
  - url: https://notificationsms-test.azurewebsites.net/
    description: TEST
  - url: https://notificationsms-prod-v1.azurewebsites.net/
    description: Production
paths:
  /api/Mail:
    post:
      tags:
        - Mail
      operationId: Mail_MailPost
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            application/xml:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            text/xml:
              schema:
                $ref: '#/components/schemas/CustomResponse'
      deprecated: false
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MailSchema'
          text/json:
            schema:
              $ref: '#/components/schemas/MailSchema'
          application/xml:
            schema:
              $ref: '#/components/schemas/MailSchema'
          text/xml:
            schema:
              $ref: '#/components/schemas/MailSchema'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MailSchema'
        required: true
  /IncomingSmsWebhook:
    get:
      tags:
        - Sms
      operationId: Sms_IncomingSmsWebhook
      responses:
        '204':
          description: No Content
      deprecated: false
  /api/AddPhoneNumber:
    post:
      tags:
        - Sms
      operationId: Sms_Save
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            application/xml:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            text/xml:
              schema:
                $ref: '#/components/schemas/CustomResponse'
      deprecated: false
      requestBody:
        $ref: '#/components/requestBodies/Sms'
  /api/DeletePhoneNumber:
    delete:
      tags:
        - Sms
      operationId: Sms_Delete
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            application/xml:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            text/xml:
              schema:
                $ref: '#/components/schemas/CustomResponse'
      deprecated: false
      requestBody:
        $ref: '#/components/requestBodies/Sms'
  /api/GetPhoneNumber:
    get:
      tags:
        - Sms
      operationId: Sms_GetPhoneNumber
      parameters:
        - name: AccountSid
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            application/xml:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            text/xml:
              schema:
                $ref: '#/components/schemas/CustomResponse'
      deprecated: false
  /api/UpdatePhoneNumber:
    put:
      tags:
        - Sms
      operationId: Sms_Update
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            application/xml:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            text/xml:
              schema:
                $ref: '#/components/schemas/CustomResponse'
      deprecated: false
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateSms'
          text/json:
            schema:
              $ref: '#/components/schemas/UpdateSms'
          application/xml:
            schema:
              $ref: '#/components/schemas/UpdateSms'
          text/xml:
            schema:
              $ref: '#/components/schemas/UpdateSms'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UpdateSms'
        required: true
  /api/Sms:
    get:
      tags:
        - Sms
      operationId: Sms_Get
      parameters:
        - name: TxnId
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeliveryReport'
            text/json:
              schema:
                $ref: '#/components/schemas/DeliveryReport'
            application/xml:
              schema:
                $ref: '#/components/schemas/DeliveryReport'
            text/xml:
              schema:
                $ref: '#/components/schemas/DeliveryReport'
      deprecated: false
    post:
      tags:
        - Sms
      operationId: Sms_Post
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            application/xml:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            text/xml:
              schema:
                $ref: '#/components/schemas/CustomResponse'
      deprecated: false
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Message'
          text/json:
            schema:
              $ref: '#/components/schemas/Message'
          application/xml:
            schema:
              $ref: '#/components/schemas/Message'
          text/xml:
            schema:
              $ref: '#/components/schemas/Message'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Message'
        required: true
  /api/Voice:
    post:
      tags:
        - Voice
      operationId: Voice_Post
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            text/json:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            application/xml:
              schema:
                $ref: '#/components/schemas/CustomResponse'
            text/xml:
              schema:
                $ref: '#/components/schemas/CustomResponse'
      deprecated: false
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Voice'
          text/json:
            schema:
              $ref: '#/components/schemas/Voice'
          application/xml:
            schema:
              $ref: '#/components/schemas/Voice'
          text/xml:
            schema:
              $ref: '#/components/schemas/Voice'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Voice'
        required: true
  /api/voice:
    get:
      tags:
        - Voice
      operationId: Voice_Get
      parameters:
        - name: voiceCallId
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VoiceDeliveryReport'
            text/json:
              schema:
                $ref: '#/components/schemas/VoiceDeliveryReport'
            application/xml:
              schema:
                $ref: '#/components/schemas/VoiceDeliveryReport'
            text/xml:
              schema:
                $ref: '#/components/schemas/VoiceDeliveryReport'
      deprecated: false
components:
  requestBodies:
    Sms:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Sms'
        text/json:
          schema:
            $ref: '#/components/schemas/Sms'
        application/xml:
          schema:
            $ref: '#/components/schemas/Sms'
        text/xml:
          schema:
            $ref: '#/components/schemas/Sms'
        application/x-www-form-urlencoded:
          schema:
            $ref: '#/components/schemas/Sms'
      required: true
  schemas:
    MailSchema:
      type: object
      properties:
        AppId:
          type: string
        TemplateId:
          type: string
        From:
          $ref: '#/components/schemas/EmailAddress'
        To:
          type: array
          items:
            $ref: '#/components/schemas/EmailAddress'
        Cc:
          type: array
          items:
            $ref: '#/components/schemas/EmailAddress'
        Bcc:
          type: array
          items:
            $ref: '#/components/schemas/EmailAddress'
        Subject:
          type: string
        Msg:
          type: string
        Substitutions:
          type: array
          items:
            $ref: '#/components/schemas/Substitution'
    EmailAddress:
      type: object
      properties:
        name:
          type: string
        email:
          type: string
    Substitution:
      type: object
      properties:
        Name:
          type: string
        Value:
          type: string
    CustomResponse:
      type: object
      properties:
        Code:
          type: string
        Message:
          type: string
        Details:
          $ref: '#/components/schemas/Object'
    Object:
      type: object
      properties: {}
    Sms:
      type: object
      properties:
        AccountSid:
          type: string
        phoneNumber:
          type: string
    UpdateSms:
      type: object
      properties:
        AccountSid:
          type: string
        OldPhoneNumber:
          type: string
        NewPhoneNumber:
          type: string
    Message:
      type: object
      properties:
        AppId:
          type: string
        To:
          type: string
        Msg:
          type: string
        CallbackUrl:
          type: string
    DeliveryReport:
      type: object
      properties:
        Code:
          type: string
        Sid:
          type: string
        Status:
          type: string
        To:
          type: string
        From:
          type: string
        NumSegments:
          format: int32
          type: integer
        Body:
          type: string
        DateSent:
          format: date-time
          type: string
        Direction:
          type: string
        Price:
          format: double
          type: number
        ErrorCode:
          $ref: '#/components/schemas/Object'
        ErrorMessage:
          $ref: '#/components/schemas/Object'
    Voice:
      type: object
      properties:
        AppId:
          type: string
        To:
          type: string
        Url:
          type: string
        CallbackUrl:
          type: string
    VoiceDeliveryReport:
      type: object
      properties:
        Sid:
          type: string
        Status:
          type: string
        To:
          type: string
        From:
          type: string
        Direction:
          type: string
        StartTime:
          format: date-time
          type: string
        EndTime:
          format: date-time
          type: string
        DateCreated:
          format: date-time
          type: string
        DateUpdate:
          format: date-time
          type: string
        Duration:
          type: string