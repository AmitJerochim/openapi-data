penapi: 3.0.1
info:
  version: "1.0"
  title: SupplyStream CSV API
  description: >-
    This is the API for downloading in CSV format Indigenous Suppliers registered with
    Supply Nation. This is an API for premium Supply Nation Members only and
    requires an account issued by Supply Nation.  

paths:

  /csv/services:
    get:
      summary: Download csv of supplier and services
      description: Retrieve the list of Supply Nation suppliers and their services for your states.  Your states will be set up for you by Supply Nation.
      parameters:
        - in: header
          name: username
          schema:
            type: string
          required: true
        - in: header
          name: password
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            text/csv:
              schema:
                $ref: '#/schemas/ServicesCsv'
                
  /csv/services/url:
    get:
      summary: Get secure link to csv of supplier and services
      description: Retrieve the list of Supply Nation suppliers and Services for your states.  Your states will be set up for you by Supply Nation.
      parameters:
        - in: header
          name: username
          schema:
            type: string
          required: true
        - in: header
          name: password
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            text/plain: 
              schema:
                type: string
                example: https://XXXXX.com/XXXXXX-2020-04-01-services.csv?XXXXXXXXX
  

  /csv/locations:
    get:
      summary: Download csv of supplier additional addresses
      description: Retrieve the list of additional addresses of Supply Nation suppliers for your states.  Your states will be set up for you by Supply Nation.
      parameters:
        - in: header
          name: username
          schema:
            type: string
          required: true
        - in: header
          name: password
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            text/csv:
              schema:
                $ref: '#/schemas/LocationCsv'
                
  /csv/locations/url:
    get:
      summary: Get secure link to csv of supplier additional addresses
      description: Retrieve the list of additional addresses of Supply Nation suppliers for your states.  Your states will be set up for you by Supply Nation.
      parameters:
        - in: header
          name: username
          schema:
            type: string
          required: true
        - in: header
          name: password
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            text/plain: 
              schema:
                type: string
                example: https://XXXXX.com/XXXXXX-2020-04-01-locations.csv?XXXXXXXXX
    
  /csv/zip:
    get:
      summary: Get secure link to a zip containing csv of supplier and services, csv supplier additional addresses
      description: Retrieve the list of Supply Nation suppliers and Services for your states.  Your states will be set up for you by Supply Nation.
      parameters:
        - in: header
          name: username
          schema:
            type: string
          required: true
        - in: header
          name: password
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            application/zip: 
              schema: 
                format: binary


servers:
  - url: https://supplystreamapi.supplynation.org.au/api
    description: Production server
  - url: https://api.supplynation.digitalpurpose.com.au/api
    description: Sandbox server (uses test data)


      
schemas:

    LocationCsv:
      example: abn,accountName,supplierId,street,city,postalCode,state,country,reportedDate
      properties:
        abn:
          type: string
          description: The ABN of the Supplier.
        accountName:
          type: string
          description: The name of the Supplier.
        suplierId:
          type: string
          description: Unique ID for the supplier.
        street:
          type: string
        city:
          type: string
        state:
          type: string
        postalCode:
          type: string
        country:
          type: string   

    ServicesCsv:
      example: abn,accountName,annualRevenue,applicationProcessingDate,auditDueDate,billing-city,billing-country,billing-postalCode,billing-state,billing-street,businessSummary,businessType,certified,geographicReach,iServiceAllAustralia,ibdProfileLink,internationallyRecognisedCertification,latitude,locationCoverage,longitude,mainIndustry,numOfEmployees,numOfFteIndigenousEmployees,phone,primary-email,primary-name,registrationApprovedDate,remoteRural,removalDate,reportedDate,service-businessActivityId,service-industry,service-isTop5Service,service-sectorId,service-sectorName,service-serviceId,service-serviceName,service-unspsCode,statesBusinessServices,submittedDate,supplierId,tradingName,valid,website
      properties:
        abn:
          type: string
          description: The ABN of the Supplier.
        accountName:
          type: string
          description: The name of the Supplier.
        annualRevenue:
          type: string
          description: A descriptive reference of the annual revenue for this Supplier (as reported to Supply Nation). This can be a range.
        applicationProcessingDate:
          type: string
          description: The date the supplier's application was processed by Supply Nation.   
        auditDueDate:
          type: string
          description: The date the supplier's current status will be reviewed by Supply Nation.
        billing-street:
          type: string
          description: The billing address as reported to Supply Nation. 
        billing-city:
          type: string
        billing-state:
          type: string
        billing-postalCode:
          type: string
        billing-country:
          type: string
        businessSummary:
          type: string
          description: The business summary and value proposition if the business.
        businessType:
          type: string
          description: The structure of the business (as reported to Supply Nation).
        certified:
          type: boolean
          description: Returns true if the Supplier is certified by Supply Nation (vs just being a registered Supplier).
        geographicReach:  
          type: string
          description: Denotes the geographical reaach the business can service if local area is chosen. 
        ibdProfileLink:
          type: string
          description: A URL hyperlink direct to this Supplier's profile on IBD (Supply Nation\'s Indigenous Business Directory).
        internationallyRecognisedCertification:
          type: string
          description: The internationally recognisied certifications held by this Supplier i.e. ISO certifications.  
        iServiceAllAustralia:  
          type: boolean
          description: Denotes business can service all of Australia.   
        latitude:
          type: number
          description: Latitude of the business address.
        locationCoverage:
          type: string
          description: Denoted the location coverage of the business (Serices all Australia, states or local area).
        longitude:  
          type: number
          description: Longitude of the business address.
        mainIndustry:
          type: string
          description: The main industry that the Supplier provides services in based on where they are most active (as reported to Supply Nation).
        numOfEmployees:
          type: integer
          description: The number of employees this Supplier has (as reported to Supply Nation).
        numOfFteIndigenousEmployees:
          type: number
          description: The number of full-time employees who are Indigenous that this Supplier has (as reported to Supply Nation).
        phone:
          type: string
          description: Main phone number of the business.
        primaryContact:
          type: object
          description: Primary contact of the business.
          properties:
            name:
              type: string
            email:
              type: string
        registrationApprovedDate:
          type: string
          description: The date the supplier was approved by Supply Nation.
        remoteRural:  
           type: string
           description: Denotes if the business is located in a Remote or Rural area.
        removalDate:
          type: string
          description: The date the supplier was removed from the Indigenous Supplier list. 
        service-businessActivityId:
          type: string
          description: The ID of the Business Activity.
        service-industry:
          type: string
          description: The industry for the business activity.
        service-sectorName:
          type: string
          description: The name of the sector the business activity relates to.
        service-sectorId:
          type: string
          description: The database ID of the sector the business activity relates to.
        service-serviceName:
          type: string
          description: The name of the service for the business activity.
        service-serviceId:
          type: string
          description: The database ID of the service for the business activity.
        service-unspsCode:
          type: string
          description: The UNSPS Code for the business activity.
        service-isTop5Service:
          type: boolean
          description: Returns true if this Business Activity is one of the top 5 services for the Supplier that provided it.
        statesBusinessSevices:
           type: string
           description: Denotes the states the business can service.
        submittedDate:
          type: string
          description: The date the supplier submitted their application
        supplierId:
          type: string
          description: The supplier ID.
        tradingName:
          type: string
          description: The trading name of the Supplier.
        valid:
          type: boolean
          description: A flag to determine whether they are currently an 'approved' supplier.  Suppliers with an invalid flag are currently not an approved SN indigenous supplier
        website:
          type: string
          description: Website link for the business.