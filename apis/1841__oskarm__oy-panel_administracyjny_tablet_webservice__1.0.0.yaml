openapi: 3.0.0
info:
  title: OY Panel Administracyjny Tablet Webservice
  version: 1.0.0
servers:
  - url: 'http://localhost:10002/api/v1.0.0'
    description: Development server LOCALHOST
  - url: 'http://mars.vemco.pl:10002/api/v1.0.0'
    description: Development server Vemco 


paths:
  /login:
    post:
      summary: login
      operationId: login
      tags:
        - userSession

      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'

      responses:
        '200':
          description: Expected response to a valid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoginResponse'
        '401':
          description: Unathorized
          content:
            text/plain:
              schema:
                type: string
                example: Unauthorized
        '403':
          description: Forbidden - no rights to this application
          content:
            text/plain:
              schema:
                type: string
                example: Forbidden

  /employees:
    get:
      security:
        - BearerAuth: []
      summary: >-
        List of employees
      operationId: getEmployees
      tags:
        - employees
      parameters:
        - in: query
          name: searchPhrase
          description: "Search Phrase"
          required: false
          schema:
            type: string
            default: ""
        - in: query
          name: pageNumber
          description: "Page number"
          required: false
          schema:
            type: integer
            default: 0
        - in: query
          name: pageSize
          description: "Page size"
          required: false
          schema:
            type: integer  
            default: 10
        - in: query
          name: sortBy
          description: "Sort by - allowed one of: ['surname', 'erp', 'rcp', 'material', 'edk', 'monta', 'stock' ,'sped', login']"
          required: false
          schema:
            type: string
            default: surname
        - in: query
          name: orderBy
          description: "Order by - allowed one of: ['asc', 'desc]"
          required: false
          schema:
            type: string
            default: asc
        - in: query
          name: applicationRoleIds
          description: "Application Role Ids - comma separated (URL encoded) applicationRoleIds e.g. 1,2,3"
          required: false
          schema:
            type: string
            default: ""
        - in: query
          name: erpFunctionGroupIds
          description: "ERP function group Ids - comma separated  (URL encoded) erpFunctionGroupIds e.g. 1,2,3"
          required: false
          schema:
            type: string
            default: ""
        - in: query
          name: rcpRoleGroupIds
          description: "RCP role group Ids - comma separated  (URL encoded) erpRoleGroupIds e.g. 1,2,3"
          required: false
          schema:
            type: string
            default: ""
        - in: query
          name: loginAndPass
          description: "Login and pass - allowed one or more of: ['without', 'has', 'alert']"
          required: false
          schema:
            type: string
            default: ""
          
     
      responses:
        '200':
          description: Expected response to a valid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Employees'
              example: 
                meta:
                  title: employees
                  searchPhrase: Jan
                  totalRows: 25
                  totalPages: 5
                  pageNumber: 0
                  pageSize: 10
                  sortBy: surname
                  orderBy: asc
                  applicationRoleIds: ''
                  erpFunctionGroupIds: ''
                  rcpRoleGroupIds: ''
                  loginAndPass: ''
                data:
                  - id: 5
                    type: employees
                    attributes:
                      login:
                        login: Jank
                        passwordSet: false
                        loginAlert: true
                      photoPath: ''
                      name: Jan
                      surname: Kowalski
                      superuser: false
                      erp:
                        role:
                          symbol: PROY1
                          description: Pracownik OY1
                      rcp:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: PROY1
                          description: Pracownik Laminaty
                      material:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: BROY2
                          description: Pracownik
                      edk:
                        hasRole: true
                        loginWarning: false
                        subApps:
                          edk-lam:
                            hasRole: true
                            role:
                              id: 1
                              symbol: prlam
                              description: Pracownik
                          edk-kpz:
                            hasRole: false
                          edk-ke:
                            hasRole: false
                          edk-kf:
                            hasRole: false
                          edk-ko:
                            hasRole: false
                      monta:
                        hasRole: false
                        loginWarning: false
                        role: {}
                      stock:
                        hasRole: true
                        loginWarning: false
                        role: {}
                      sped:
                        hasRole: false
                        loginWarning: false
                        role:
                          id: 1
                          symbol: prlam
                          description: Pracownik Laminaty
                  - id: 6
                    type: employees
                    attributes:
                      login:
                        login: Jank
                        passwordSet: true
                        loginAlert: false
                      photoPath: ''
                      name: Hubert
                      surname: Bąk
                      superuser: false
                      erp:
                        role:
                          symbol: KROY1
                          description: Pracownik OY1
                      rcp:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: KROY1
                          description: Pracownik Laminaty
                      material:
                        hasRole: false
                        loginWarning: false
                        role: {}
                      edk:
                        hasRole: false
                        loginWarning: false
                        subApps:
                          edk-lam:
                            hasRole: false
                          edk-kpz:
                            hasRole: false
                          edk-ke:
                            hasRole: false
                          edk-kf:
                            hasRole: false
                          edk-ko:
                            hasRole: false
                      monta:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: prlam
                          description: Mistrz
                      stock:
                        hasRole: false
                        loginWarning: false
                        role: {}
                      sped:
                        hasRole: false
                        loginWarning: false
                        role: {}
                  - id: 7
                    type: employees
                    attributes:
                      login:
                        login: Jank
                        passwordSet: false
                        loginAlert: false
                      photoPath: ''
                      name: Norbert
                      surname: Nowak
                      superuser: false
                      erp:
                        role:
                          symbol: BROY2
                          description: Pracownik OY1
                      rcp:
                        hasRole: true
                        loginWarning: false
                        role:
                          symbol: BROY1
                          description: Pracownik OY1
                      material:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: prlam
                          description: Mistrz
                      edk:
                        hasRole: true
                        loginWarning: false
                        subApps:
                          edk-lam:
                            hasRole: true
                            role:
                              id: 1
                              symbol: prlam
                              description: Pracownik Laminaty
                          edk-kpz:
                            hasRole: false
                          edk-ke:
                            hasRole: false
                          edk-kf:
                            hasRole: false
                          edk-ko:
                            hasRole: false
                      monta:
                        hasRole: false
                        loginWarning: false
                        role: {}
                      stock:
                        hasRole: false
                        loginWarning: false
                        role: {}
                      sped:
                        hasRole: false
                        loginWarning: false
                        role: {}
                  - id: 8
                    type: employees
                    attributes:
                      login:
                        login: Jank
                        passwordSet: true
                        loginAlert: false
                      photoPath: ''
                      name: Andrzej
                      surname: Kowalczyk
                      superuser: false
                      erp:
                        role:
                          symbol: KRHM1
                          description: Pracownik OY1
                      rcp:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: KRHM1
                          description: Pracownik Laminaty
                      material:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: prlam
                          description: Mistrz
                      edk:
                        hasRole: false
                        loginWarning: false
                        subApps:
                          edk-lam:
                            hasRole: true
                            role: {}
                          edk-kpz:
                            hasRole: false
                          edk-ke:
                            hasRole: false
                          edk-kf:
                            hasRole: false
                          edk-ko:
                            hasRole: false
                      monta:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: prlam
                          description: Pracownik
                      stock:
                        hasRole: true
                        loginWarning: false
                        role: {}
                      sped:
                        hasRole: true
                        loginWarning: false
                        role: {}
                  - id: 9
                    type: employees
                    attributes:
                      login:
                        login: Jank
                        passwordSet: false
                        loginAlert: true
                      photoPath: ''
                      name: Michał
                      surname: Kluska
                      superuser: false
                      erp:
                        role:
                          symbol: KRKAJ
                          description: Pracownik OY1
                      rcp:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: KJ
                          description: Pracownik
                      material:
                        hasRole: false
                        loginWarning: false
                        role: {}
                      edk:
                        hasRole: false
                        loginWarning: false
                        subApps:
                          edk-lam:
                            hasRole: false
                          edk-kpz:
                            hasRole: false
                          edk-ke:
                            hasRole: false
                          edk-kf:
                            hasRole: false
                          edk-ko:
                            hasRole: false
                      monta:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: prlam
                          description: Mistrz
                      stock:
                        hasRole: true
                        loginWarning: false
                        role: {}
                      sped:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: prlam
                          description: Pracownik Laminaty
                  - id: 10
                    type: employees
                    attributes:
                      login:
                        login: Jank
                        passwordSet: true
                        loginAlert: false
                      photoPath: ''
                      name: Jan
                      surname: Kowalski
                      superuser: false
                      erp:
                        role:
                          symbol: PROY1
                          description: Pracownik OY1
                      rcp:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: KROY2
                          description: Pracownik
                      material:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: prlam
                          description: Mistrz
                      edk:
                        hasRole: true
                        loginWarning: false
                        subApps:
                          edk-lam:
                            hasRole: true
                            role:
                              id: 1
                              symbol: prlam
                              description: Pracownik Laminaty
                          edk-kpz:
                            hasRole: false
                          edk-ke:
                            hasRole: false
                          edk-kf:
                            hasRole: false
                          edk-ko:
                            hasRole: false
                      monta:
                        hasRole: false
                        loginWarning: false
                        role: {}
                      stock:
                        hasRole: false
                        loginWarning: false
                        role: {}
                      sped:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: prlam
                          description: Pracownik Laminaty
                  - id: 11
                    type: employees
                    attributes:
                      login:
                        login: Jank
                        passwordSet: false
                        loginAlert: false
                      photoPath: ''
                      name: Janek
                      surname: Nierobek
                      superuser: false
                      erp:
                        role:
                          symbol: PRHM1
                          description: Pracownik OY1
                      rcp:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: PRHM1
                          description: Pracownik Laminaty
                      material:
                        hasRole: false
                        loginWarning: false
                        role: {}
                      edk:
                        hasRole: false
                        loginWarning: false
                        subApps:
                          edk-lam:
                            hasRole: false
                          edk-kpz:
                            hasRole: false
                          edk-ke:
                            hasRole: false
                          edk-kf:
                            hasRole: false
                          edk-ko:
                            hasRole: false
                      monta:
                        hasRole: false
                        loginWarning: false
                        role: {}
                      stock:
                        hasRole: false
                        loginWarning: false
                        role: {}
                      sped:
                        hasRole: false
                        loginWarning: false
                        role: {}
                  - id: 12
                    type: employees
                    attributes:
                      login:
                        login: Jank
                        passwordSet: true
                        loginAlert: false
                      photoPath: ''
                      name: Bożydar
                      surname: Wszędobylski
                      superuser: false
                      erp:
                        role:
                          symbol: KROY2
                          description: Pracownik OY1
                      rcp:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: KROY2
                          description: Pracownik Laminaty
                      material:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: KROY2
                          description: Mistrz
                      edk:
                        hasRole: true
                        loginWarning: false
                        subApps:
                          edk-lam:
                            hasRole: true
                            role:
                              id: 1
                              symbol: prlam
                              description: Pracownik Laminaty
                          edk-kpz:
                            hasRole: false
                          edk-ke:
                            hasRole: false
                          edk-kf:
                            hasRole: false
                          edk-ko:
                            hasRole: false
                      monta:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: prlam
                          description: Mistrz
                      stock:
                        hasRole: true
                        loginWarning: false
                        role: {}
                      sped:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: prlam
                          description: Pracownik Laminaty
                  - id: 13
                    type: employees
                    attributes:
                      login:
                        login: Jank
                        passwordSet: false
                        loginAlert: false
                      photoPath: ''
                      name: Elżbieta
                      surname: Nos
                      superuser: false
                      erp:
                        role:
                          symbol: BROY2
                          description: Pracownik OY1
                      rcp:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: KROY1
                          description: Pracownik Laminaty
                      material:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: KROY2
                          description: Mistrz
                      edk:
                        hasRole: true
                        loginWarning: false
                        subApps:
                          edk-lam:
                            hasRole: true
                            role:
                              id: 1
                              symbol: prlam
                              description: Pracownik Laminaty
                          edk-kpz:
                            hasRole: false
                          edk-ke:
                            hasRole: false
                          edk-kf:
                            hasRole: false
                          edk-ko:
                            hasRole: false
                      monta:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: prlam
                          description: Mistrz
                      stock:
                        hasRole: true
                        loginWarning: false
                        role: {}
                      sped:
                        hasRole: false
                        loginWarning: false
                        role: {}
                  - id: 14
                    type: employees
                    attributes:
                      login:
                        login: Jank
                        passwordSet: true
                        loginAlert: false
                      photoPath: ''
                      name: Lech
                      surname: Informatyk
                      superuser: false
                      erp:
                        role:
                          symbol: KROY2
                          description: Pracownik OY1
                      rcp:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: KROY2
                          description: Pracownik Laminaty
                      material:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: KROY2
                          description: Mistrz
                      edk:
                        hasRole: true
                        loginWarning: false
                        subApps:
                          edk-lam:
                            hasRole: true
                            role:
                              id: 1
                              symbol: prlam
                              description: Pracownik Laminaty
                          edk-kpz:
                            hasRole: false
                          edk-ke:
                            hasRole: false
                          edk-kf:
                            hasRole: false
                          edk-ko:
                            hasRole: false
                      monta:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: prlam
                          description: Mistrz
                      stock:
                        hasRole: true
                        loginWarning: false
                        role: {}
                      sped:
                        hasRole: true
                        loginWarning: false
                        role:
                          id: 1
                          symbol: prlam
                          description: Pracownik Laminaty
                links:
                  self: /employees?pageNumber=0&pageSize=10&sortBy=surname&orderBy=asc
                  first: /employees?pageNumber=0&pageSize=10&sortBy=surname&orderBy=asc
                  prev: /employees?pageNumber=0&pageSize=10&sortBy=surname&orderBy=asc
                  next: /employees?pageNumber=1&pageSize=10&sortBy=surname&orderBy=asc
                  last: /employees?pageNumber=4&pageSize=10&sortBy=surname&orderBy=asc
                
        '401':
          description: Unathorized
          content:
            text/plain:
              schema:
                type: string
                example: Unauthorized
        '403':
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Forbidden
                

  /employee:
    get:
      security:
        - BearerAuth: []
      summary: >-
        Employee
      operationId: getEmployee
      tags:
        - employees
      parameters:
        - in: query
          name: id
          description: "Id"
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Expected response to a valid request
          content:
            application/json: 
              schema:
                $ref: '#/components/schemas/EmployeeResponse'
                 
        '401':
          description: Unathorized
          content:
            text/plain:
              schema:
                type: string
                example: Unauthorized
        '403':
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Forbidden
                
  /employee/{employeeId}/app-role/{appRoleId}:
    put:
      security:
        - BearerAuth: []
      summary: >-
        Set employee application role
      operationId: setEmployeeRoleId
      tags:
        - employees
      parameters:
        - in: path
          name: employeeId
          description: "Employee id"
          required: true
          schema:
            type: integer
        - in: path
          name: appRoleId
          description: "Application role id"
          required: true
          schema:
            type: integer
        - in: query
          name: set
          description: "If true turn on role in application, if false turn off"
          required: true
          schema: 
            type: boolean
      responses:
        '200':
          description: Expected response to a valid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmployeeResponse'
        '401':
          description: Unathorized
          content:
            text/plain:
              schema:
                type: string
                example: Unauthorized
        '403':
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Forbidden
                
  /employee/{employeeId}/superuser:
    put:
      security:
        - BearerAuth: []
      summary: >-
        Set employee superuser role
      operationId: updateEmployeeSuperuser
      tags:
        - employees
      parameters:
        - in: path
          name: employeeId
          description: "Employee id"
          required: true
          schema:
            type: integer
        - in: query
          name: set
          description: "If true turn on superuserole in application, if false turn off"
          required: true
          schema: 
            type: boolean
      responses:
        '200':
          description: Expected response to a valid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmployeeResponse'
        '401':
          description: Unathorized
          content:
            text/plain:
              schema:
                type: string
                example: Unauthorized
        '403':
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Forbidden
                
  /employee/{employeeId}/credentials:
    put:
      security:
        - BearerAuth: []
      summary: >-
        Set employee credentials
      operationId: updateEmployeeCredentials
      tags:
        - employees
      parameters:
        - in: path
          name: employeeId
          description: "Employee id"
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Credentials'
      responses:
        '200':
          description: Expected response to a valid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Credentials'
        '400':
          description: "Bad body"
        '401':
          description: Unathorized
          content:
            text/plain:
              schema:
                type: string
                example: Unauthorized
        '403':
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Forbidden
                
  /employee/{employeeId}/password:
    put:
      security:
        - BearerAuth: []
      summary: >-
        Update employee password
      operationId: updateEmployeePassword
      tags:
        - employees
      parameters:
        - in: path
          name: employeeId
          description: "Employee id"
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                password:
                  type: string
      responses:
        '200':
          description: Expected response to a valid request
          content:
            application/json:
              schema:
                type: object
                properties:
                  password:
                    type: string
        '400':
          description: "Bad body"
        '401':
          description: Unathorized
          content:
            text/plain:
              schema:
                type: string
                example: Unauthorized
        '403':
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Forbidden
                
  /employee/{employeeId}/login:
    put:
      security:
        - BearerAuth: []
      summary: >-
        Update employee login
      operationId: updateEmployeeLogin
      tags:
        - employees
      parameters:
        - in: path
          name: employeeId
          description: "Employee id"
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                login:
                  type: string
      responses:
        '200':
          description: Expected response to a valid request
          content:
            application/json:
              schema:
                type: object
                properties:
                  login:
                    type: string
        '400':
          description: "Bad body"
        '401':
          description: Unathorized
          content:
            text/plain:
              schema:
                type: string
                example: Unauthorized
        '403':
          description: Forbidden
          content:
            text/plain:
              schema:
                type: string
                example: Forbidden

  /dictionaries/erp-functions-groups:
    get:
      summary: ERP functions groups
      operationId: getErpFunctionGroups
      tags:
        - dictionaries
      responses:
        '200':
          description: Expected response to a valid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErpFunctionGroups'
              example:
                meta:
                  title: erpFunctionGroups
                data:
                  - id: 31
                    type: functionGroup
                    attributes:
                      symbol: PR
                      description: Pracownik
                      functions: []
                  - id: 35
                    type: functionGroup
                    attributes:
                      symbol: BR
                      description: Brygadzista
                      functions: []
                  - id: 40
                    type: functionGroup
                    attributes:
                      symbol: KR
                      description: Kierownik
                      functions: []
                  - id: 45
                    type: functionGroup
                    attributes:
                      symbol: KJ
                      description: Kontroler Jakości
                      functions: []
                
        '401':
          description: Unathorized
          content:
            text/plain:
              schema:
                type: string
                example: Unauthorized
        '403':
          description: Forbidden - no rights to this application
          content:
            text/plain:
              schema:
                type: string
                example: Forbidden
                
  /dictionaries/rcp-role-groups:
    get:
      summary: RCP functions groups
      operationId: getRcpFunctionGroups
      tags:
        - dictionaries
      responses:
        '200':
          description: Expected response to a valid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RcpRoleGroups'
              example:
                meta:
                  title: rcpRoleGroups
                data:
                  - id: 80
                    type: rcpGroup
                    attributes:
                      symbol: PR
                      description: Pracownik
                      functions: []
                  - id: 81
                    type: rcpGroup
                    attributes:
                      symbol: BR
                      description: Brygadzista
                      functions: []
                  - id: 82
                    type: rcpGroup
                    attributes:
                      symbol: KR
                      description: Kierownik
                      functions: []
                  - id: 83
                    type: rcpGroup
                    attributes:
                      symbol: KJ
                      description: Kontroler Jakości
                      functions: []
                
        '401':
          description: Unathorized
          content:
            text/plain:
              schema:
                type: string
                example: Unauthorized
        '403':
          description: Forbidden - no rights to this application
          content:
            text/plain:
              schema:
                type: string
                example: Forbidden
                
  /dictionaries/app-roles:
    get:
      summary: APP roles
      operationId: getAppRoles
      tags:
        - dictionaries
      responses:
        '200':
          description: Expected response to a valid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppRoles'
              example:
                meta:
                  title: AppRoles
                data:
                  rcp:
                    loginRequired: false
                    groups:
                      - id: 1
                        type: rcpGroup
                        name: Pracownik
                        roles:
                          - id: 43
                            type: appRoles
                            attributes:
                              symbol: KRLAM
                              descritpion: Kierwonik laminaty
                  material:
                    loginRequired: false
                    roles:
                      - id: 43
                        type: appRoles
                        attributes:
                          symbol: KRLAM
                          description: Pracownik
                      - id: 44
                        type: appRoles
                        attributes:
                          symbol: KRLAM
                          description: Mistrz
                  edk:
                    loginRequired: true
                    subApps:
                      edk-lam:
                        - id: 20
                          type: appRoles
                          attributes:
                            symbol: KRLAM
                            description: Kierownik Jakości - Laminaty
                      edk-kpz:
                        - id: 21
                          type: appRoles
                          attributes:
                            symbol: KRLAM
                            description: Koordynator Jakości - Przed Zapokładowaniem
                      edk-ke:
                        - id: 22
                          type: appRoles
                          attributes:
                            symbol: KRLAM
                            description: Kierownik Jakości - Kontrola Estetyczna
                      edk-kf:
                        - id: 23
                          type: appRoles
                          attributes:
                            symbol: KRLAM
                            description: Kierownik Jakości - Kontrola Funkcjonalna
                      edk-ko:
                        - id: 24
                          type: appRoles
                          attributes:
                            symbol: KRLAM
                            description: Kierownik Jakości - Kontrola Ostateczna
                  monta:
                    loginRequired: false
                    roles:
                      - id: 10
                        type: appRoles
                        attributes:
                          symbol: KRLAM
                          description: Pracownik
                      - id: 11
                        type: appRoles
                        attributes:
                          symbol: KRLAM
                          description: Mistrz
                  stock:
                    loginRequired: true
                    roles:
                      - id: 12
                        type: appRoles
                        attributes:
                          symbol: KRLAM
                          description: Pracownik
                  sped:
                    loginRequired: false
                    roles:
                      - id: 13
                        type: appRoles
                        attributes:
                          symbol: KRLAM
                          description: Pracownik
                
        '401':
          description: Unathorized
          content:
            text/plain:
              schema:
                type: string
                example: Unauthorized
        '403':
          description: Forbidden - no rights to this application
          content:
            text/plain:
              schema:
                type: string
                example: Forbidden
components:
  schemas:
    LoginRequest:
      type: object
      properties:
        login:
          type: string
          example: "test"
        password:
          type: string
          example: "testtest"
        language:
          type: string
          example: pl
    
    Credentials:
      type: object
      properties:
        login:
          type: string
          example: "test"
        password:
          type: string
          example: "testtest"
        
    LoginResponse:
      type: object
      properties:
        data:
          type: object
          properties:
            jwt: 
              type: string
              example: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEyOCwidGVybWluYWxJZCI6MSwiaGFsbElkIjozLCJsYW5ndWFnZSI6bnVsbCwiZXhwIjoxNzUyNjQxMjY0LCJpYXQiOjE1NTI0MjUyNjN9.fyPnzGGQnOemjBXbhiNRYoJUYY-KyRJWtD63z1757Pc"
            userName:
              type: string
              example: "Jan Kowalski"
            photoPath:
              type: string
              example: "photos/janusz.jpg"
            role:
              type: string
              example: "Kontroler jakości"
            language:
              type: string
              example: pl
        meta:
          type: object
          properties:
            title: 
              type: string
     
    Employees:
      type: object
      properties:
        meta:
          type: object
          properties:
            title:
              type: string
              example: employees
            searchPhrase:
              type: string
              example: Jan
            totalRows: 
              type: integer
              example: 50
            totalPages: 
              type: integer      
              example: 5
            pageNumber: 
              type: integer
              example: 0
            pageSize:
              type: integer
              example: 10
            sortBy: 
              type: string
              example: surname
            orderBy: 
              type: string
              example: asc
            applicationRoleIds:
              type: string
              example: ""
            erpFunctionGroupIds:
              type: string
              example: ""
            rcpRoleGroupIds:
              type: string
              example: ""
            loginAndPass:
              type: string
              example: ""
              
        data:
          type: array
          items:
            $ref: '#/components/schemas/Employee'
        links:
          type: object
          properties:
            self: 
              type: string    
              example: "/employees?pageNumber=0&pageSize=10&sortBy=surname&orderBy=asc"
            first: 
              type: string    
              example: "/employees?pageNumber=0&pageSize=10&sortBy=surname&orderBy=asc"
            prev: 
              type: string    
              example: "/employees?pageNumber=0&pageSize=10&sortBy=surname&orderBy=asc"
            next: 
              type: string    
              example: "/employees?pageNumber=1&pageSize=10&sortBy=surname&orderBy=asc"
            last: 
              type: string    
              example: "/employees?pageNumber=4&pageSize=10&sortBy=surname&orderBy=asc"
    Employee:
      type: object
      properties:
        id: 
          type: integer
          example: 5
        type: 
          type: string
          example: employees
        attributes: 
          $ref: '#/components/schemas/EmployeeAttributes'
          
    EmployeeResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/Employee'
        meta:
          type: object
          properties:
            title:
              type: string
              example: employee

    EmployeeAttributes:
      type: object
      properties:
        login:
          type: object
          properties:
            login:
              type: string
              example: Jank
            passwordSet:
              type: boolean
              example: true
            loginAlert: 
              type: boolean
              example: false
        photoPath:
          type: string
          example: "/zdjecia/jank.jpg"
        name: 
          type: string
          example: Jan
        surname:
          type: string
          example: Kowalski
        superuser:
          type: boolean
          example: false
        erp:
          type: object
          properties:
            role:
              type: object
              properties:
                symbol: 
                  type: string
                  example: PROY1
                description:
                  type: string
                  example: Pracownik OY1
        rcp:
          type: object
          properties: 
            hasRole: 
              type: boolean
            loginWarning: 
              type: boolean
              example: false
            role:
              $ref: '#/components/schemas/EmployeeRole'
        material:
          type: object
          properties: 
            hasRole: 
              type: boolean
            loginWarning: 
              type: boolean
              example: false
            role:
              $ref: '#/components/schemas/EmployeeRole'
        edk:
          type: object
          properties: 
            hasRole: 
              type: boolean
            loginWarning: 
              type: boolean
              example: false
            subApps:
              type: object
              properties:
                edk-lam: 
                  type: object
                  properties:
                    hasRole:
                      type: boolean
                      example: true
                    role:
                      $ref: '#/components/schemas/EmployeeRole'
                edk-kpz: 
                  type: object
                  properties:
                    hasRole:
                      type: boolean
                      example: false
                edk-ke: 
                  type: object
                  properties:
                    hasRole:
                      type: boolean
                      example: false
                edk-kf: 
                  type: object
                  properties:
                    hasRole:
                      type: boolean
                      example: false    
                edk-ko: 
                  type: object
                  properties:
                    hasRole:
                      type: boolean
                      example: false
        monta:
          type: object
          properties: 
            hasRole: 
              type: boolean
              example: false
            loginWarning: 
              type: boolean
              example: false
            role:
              type: object
        stock:
          type: object
          properties: 
            hasRole: 
              type: boolean
              example: false
            loginWarning: 
              type: boolean
              example: false
            role:
              type: object
        sped:
          type: object
          properties: 
            hasRole: 
              type: boolean
              example: true
            loginWarning: 
              type: boolean
              example: false
            role:
              $ref: '#/components/schemas/EmployeeRole'               
              
    EmployeeRole:
      type: object
      properties:
        id: 
          type: integer
          example: 1
        symbol: 
          type: string
          example: prlam
        description: 
          type: string     
          example: Pracownik Laminaty
    
    ErpFunctionGroups:
      type: object
      properties:
        meta:
          type: object
          properties:
            title: 
              type: string
              example: erpFunctionGroups
        data:
          type: array
          items:
            $ref: '#/components/schemas/FunctionGroup'
            
    Function:
      type: object
      properties:
        id: 
          type: integer
          example: 31
        type: 
          type: string
          example: function
        attributes:
          type: object
          properties:
            symbol: 
              type: string
              example: PROY1
            descritpion: 
              type: string
              example: Pracownik OY1
              
    FunctionGroup:
      type: object
      properties:
        id: 
          type: integer
          example: 31
        type: 
          type: string
          example: functionGroup
        attributes:
          type: object
          properties:
            symbol: 
              type: string
              example: PR
            descritpion: 
              type: string
              example: Pracownik
            functions:
              type: array
              items:
                $ref: '#/components/schemas/Function'

    RcpRoleGroups:
      type: object
      properties:
        meta:
          type: object
          properties:
            title: 
              type: string
              example: rcpRoleGroups
        data:
          type: array
          items:
            $ref: '#/components/schemas/RcpGroup'

    RcpRole:
      type: object
      properties:
        id: 
          type: integer
          example: 31
        type: 
          type: string
          example: rcpRole
        attributes:
          type: object
          properties:
            symbol: 
              type: string
              example: PROY1
            descritpion: 
              type: string
              example: Pracownik OY1
                
    RcpGroup:
      type: object
      properties:
        id: 
          type: integer
          example: 31
        type: 
          type: string
          example: rcpGroup
        attributes:
          type: object
          properties:
            symbol: 
              type: string
              example: PR
            descritpion: 
              type: string
              example: Pracownik
            functions:
              type: array
              items:
                $ref: '#/components/schemas/RcpRole'
              
    AppRoles:
      type: object
      properties:
        meta:
          type: object
          properties:
            title: 
              type: string
              example: AppRoles
        data:
          type: array
          items:
            type: object
            properties:
              rcp:
                type: object
                properties:
                  loginRequired: 
                    type: boolean
                    example: false
                  groups:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 1
                        type:
                          type: string
                          example: "rcpGroup"
                        name:
                          type: string
                          example: Pracownik
                        roles:
                          type: array
                          items:
                            $ref: '#/components/schemas/ApplicationRoles'  
              material:
                type: object
                properties:
                  loginRequired: 
                    type: boolean
                    example: false
                  roles:
                    type: array
                    items:
                      $ref: '#/components/schemas/ApplicationRoles'  
              edk:
                type: object
                properties:
                  loginRequired: 
                    type: boolean
                    example: true
                  subApps:
                    type: object
                    properties:
                      edk-lam:
                        type: array
                        items:
                          $ref: '#/components/schemas/ApplicationRoles'  
                      edk-kpz:
                        type: array
                        items:
                          $ref: '#/components/schemas/ApplicationRoles'  
                      edk-ke:
                        type: array
                        items:
                          $ref: '#/components/schemas/ApplicationRoles'  
                      edk-kf:
                        type: array
                        items:
                          $ref: '#/components/schemas/ApplicationRoles'  
                      edk-ko:
                        type: array
                        items:
                          $ref: '#/components/schemas/ApplicationRoles'  
              monta:
                type: object
                properties:
                  loginRequired: 
                    type: boolean
                    example: false
                  roles:
                    type: array
                    items:
                      $ref: '#/components/schemas/ApplicationRoles'  
              stock: 
                type: object
                properties:
                  loginRequired: 
                    type: boolean
                    example: true
                  roles:
                    type: array
                    items:
                      $ref: '#/components/schemas/ApplicationRoles'  
              sped:
                type: object
                properties:
                  loginRequired: 
                    type: boolean
                    example: false
                  roles:
                    type: array
                    items:
                      $ref: '#/components/schemas/ApplicationRoles'  
            
    ApplicationRoles:
      type: object
      properties:
        id: 
          type: integer
          example: 43
        type: 
          type: string
          example: appRoles
        attributes:
          type: object
          properties:
            symbol: 
              type: string
              example: KRLAM
            descritpion: 
              type: string
              example: Kierwonik laminaty

  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT