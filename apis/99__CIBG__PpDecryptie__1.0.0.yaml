penapi: 3.0.0
servers:
  - description: Polymorfe Pseudoniemen Decryptie
    url: https://virtserver.swaggerhub.com/CIBG/PpDecryptie/1.0.0
  - description: Ontwikkelomgeving
    url: http://vws-csb-01.mso.mhsrijk.nl:8076/api
info:
  description: | 
    Als een burger bijvoorbeeld bij een dienstverlener inlogt via een inlogmiddel met BSNk PP, dan wordt er gebruik gemaakt van Polymorfe Pseudoniemen. Alleen BSN-gerechtigde dienstverleners zien wie er inlogt en welke BSN erbij hoort. Andere dienstverleners kunnen alleen zien wie er inlogt aan de hand van het teruggegeven pseudoniem. Deze decryptie methodiek kan gebruikt worden voor eIDAS 1.12+
  version: "1.0.0"
  title: PP Decryptie
  contact:
    email: dienstpostbusCIBG-ICTKoppelvlakken@minvws.nl
paths:
  /eidasdecrypt/pseudoId:
    post:
      summary: decrypt pseudoId
      description: |
        Decrypt het pseudoId op basis van de pemstore en de encrypte pseudoId
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: 
                - pemStore
                - encryptedPseudoId
              properties:
                pemStore:
                  type: string
                  format: base64
                  example: 'AAAAEHcav8Cz+9nRehpFTFP93Yxn+Di5WCtFb16BeowlrTnTPqOkBpVgVPEFcSQzSHoBG32I6m3GVKmK9LeoKoAL7VPid/MGPUW1qM4CelfPd4h8kOxMa7veUPKvGoDiDuUyW4PRQAfA2l1m+rZ/fPp239IiDF75RXYVdBy8qyKB1K2cct0kpHDtAWSm1vIT+eXpFlDcgXjGBe7gG+ukD0f0FWcdqHXvFuu9dJV+YPcY/xqEuJK9pqqgGTW6CXoiEMSurYG2jkph2DYUqw6o72wcOsPqG9MYTbO9/Wk0VJ9I2K4q+O+YijwmZtzPyEz0EjXAnMDwSG6rWO8iOwKsdeEWxvgPSLENDx2aIPA1Kee3CRESI+ELa4b5Ln1+Isy+jAxtCTHsAK/kOm1aYwYWuyKp5chGJO4D7RdOhx7rc1l2MaAfb07BIGUAeiSm7jelG4KZEUunVeOlWgGfxGVHFH/Nhe15aldZplyadn+jAmoyVVqwLK/nAnIxilsD5h30mMqfLov6UklC//pufMo8UakPhasFK2Ilxy7MPQsoi4THhBKjhJmA5/6riOAYMHLn5DOpOYEHuUX9IWBdixQH17GUesE20AEmtQRm6hLFxffT4gCCtdVxNBGOSUlRN+ICcEILQGjmjjwu/s9Z04Z3pUcgUKW9EVRGkWZUG3f1bJTGPCGtql3xUSikkBi/S2AdyYftAQlrO31CNmWXjA0KivXMtNNmkA46M2hLfbkW3QtkBLE1Sddljgla9FPNECB9YgjFvw8j7/CYvPjWzyB08x6UEayKnUhWZBYlfOiQrDzrqNnGp+VB3jV7oSw2OzqmfxeOUvTa7SuuRD6wlocELJemHkpb0zu4n+0EiRtlaxfNTqpBspqn+8L/VT2s2MGS0MKfIOQO2SbQkgsCPnUvqPcrrfE6UnR9PcxPY0hjWodBdo4bBh2RgMC8Qqs4en079kL9pjxI/JR+oW2L6muQSD6Ww9LhbhaAOBxr+Fd3mvwjmtFkPmK057KqO/Z4t2LPeYNPPyBQD+0VV4UFd83eIs/Uo+DrPuwQV+ZYHn60FGxgmuOcMHS0ARpvoZLJ5om6CWy4rz+W9mJzTvL7tKb3qu4w7amjwCOSoOisnSWH1QjJMRuJeOVHVlbSR7BlqjKBDXZaBOPBSKlVEsOYK1Z3pLcKselQPQFHYqGsn7Z6gG6h90acWeoQ7cYGOLw8Zcf7lr0b3fA83CFq8/aGVAUre5hbZN8rbu1kDhnJhpcYHuNNgh+tf6yNpAt6bmegT/5eb/QuvBdkD36B60gnetTNd4JWsQzzK8Ywe8vm+YDeFy5MXF2x4sem/b79C238MMujmRSAeBbQW2tYgCVNavKVfKwc7qm5msukJ40g4rnBvOnPrUKnpxVo3NXLEqrNTAZ3N9W5g20EkPvC30mw92eZSRzIE1a1YHtMuHNbcRjcq/9IkLbrmzBJnC2e+YU7qSNoim8YDZOj5rZuIh8US49XRxYR0bN3eZCLoKsfvy2Z2jIGKtUDdMfRLY0tcMl+2i8IRnUBql1/odxdxWSJ+JtktycSVAznXsMuG3/gl3xhFLc3BraYAzDyVImlD7gpVExEvRSvzFwHyRzzcSDafC1wdEtYrauzd3eGApb7sA5pW0O/UERu'
                encryptedPseudoId:
                  type: string
                  format: base64
                  example: 'MIIBywYKYIQQAYdrCgECBDCCAVYwggFABgpghBABh2sKAQICAgEBAgELFhQwMDAwMDAwMDAwMDAwMDAwMDAwMRYUMDAwMDAwMDAwMDAwMDAwMDAwMDQCASwCAUIwgfkEUQRNUm5aEJ0DaT9E7cq4z17ZTJFJliZVSkcohsbWt3YoM+DmZ+xQZKeodAB/FNSR9uzTmEWGImE/dlbLMBVNF839gZN3Q4myNDtK1h2ukt8v8ARRBJowBEPs2Qc9WPcX3e2mc0G9UAIwLHfmMzGw8c8hVr3+p6NFbjWrNI9Z5FsIOD+pSLmfwnEDBpvlefIH5v7suKCdfrKZdHxD+nacbbFH50dgBFEEtdS7ekza4EjkmYI4PeQSPvZ8ShSdryVN5TVke+Wq+3lSMlGtjPBMThrle975w/X0OsrMJ9guXHgujD5g+8f0NGuBXFZNyYLa6jn6Qmztf9cEEAAAAAAAAAAGWhgrdAdbzRUwYwYKBAB/AAcBAQQDAzBVAigpRL38PvkdFiWeXP0ceExtBaqGFEVIMwT2Eboaa03n5ZZlWUFoaZWLAikAn7CPCuMDvAfoOANpulHagoCPMMrKaxue5DSBoT4Rsvjp3xY00hrB5g=='
      responses:
        '200':
          description: succesvol decrypted
          content:
            application/json:
              schema:
                type: object
                properties:
                  pseudoId:
                    type: string
                    example: '0000004404CAC3926533F301A13500D2379D383AD8717D1585F4174473AC0A715FE4786BC0A41B1D872BABBBB8C917945E5006FBDF61BFFAEC478979C72163FAF56A645496C3038C6A1F13E0B623384DD031B16F30' 
        '400':
          description: Ongeldige parameter
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CibgFault'
              example:
                fault:
                  code: 'Bad Request'
                  reason: 'Value systeem1 does not match regular expression ^\w{3,5}$ for field signer'
        '401':
          description: Geen JWT in request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CibgFault'
              example:
                fault:
                  code: 'Not Authorized'
        '403':
          description: Geen toegang tot deze api
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CibgFault'
              example:
                fault:
                  code: 'Forbidden'
  /eidasdecrypt/bsn:
    post:
      summary: decrypt bsn
      description:  |
        Decrypt het bsn op basis van de pemstore en de encrypte bsn
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: 
                - pemStore
                - encryptedBsn
              properties:
                pemStore:
                  type: string
                  format: base64
                  example: 'AAAAEHcav8Cz+9nRehpFTFP93Yxn+Di5WCtFb16BeowlrTnTPqOkBpVgVPEFcSQzSHoBG32I6m3GVKmK9LeoKoAL7VPid/MGPUW1qM4CelfPd4h8kOxMa7veUPKvGoDiDuUyW4PRQAfA2l1m+rZ/fPp239IiDF75RXYVdBy8qyKB1K2cct0kpHDtAWSm1vIT+eXpFlDcgXjGBe7gG+ukD0f0FWcdqHXvFuu9dJV+YPcY/xqEuJK9pqqgGTW6CXoiEMSurYG2jkph2DYUqw6o72wcOsPqG9MYTbO9/Wk0VJ9I2K4q+O+YijwmZtzPyEz0EjXAnMDwSG6rWO8iOwKsdeEWxvgPSLENDx2aIPA1Kee3CRESI+ELa4b5Ln1+Isy+jAxtCTHsAK/kOm1aYwYWuyKp5chGJO4D7RdOhx7rc1l2MaAfb07BIGUAeiSm7jelG4KZEUunVeOlWgGfxGVHFH/Nhe15aldZplyadn+jAmoyVVqwLK/nAnIxilsD5h30mMqfLov6UklC//pufMo8UakPhasFK2Ilxy7MPQsoi4THhBKjhJmA5/6riOAYMHLn5DOpOYEHuUX9IWBdixQH17GUesE20AEmtQRm6hLFxffT4gCCtdVxNBGOSUlRN+ICcEILQGjmjjwu/s9Z04Z3pUcgUKW9EVRGkWZUG3f1bJTGPCGtql3xUSikkBi/S2AdyYftAQlrO31CNmWXjA0KivXMtNNmkA46M2hLfbkW3QtkBLE1Sddljgla9FPNECB9YgjFvw8j7/CYvPjWzyB08x6UEayKnUhWZBYlfOiQrDzrqNnGp+VB3jV7oSw2OzqmfxeOUvTa7SuuRD6wlocELJemHkpb0zu4n+0EiRtlaxfNTqpBspqn+8L/VT2s2MGS0MKfIOQO2SbQkgsCPnUvqPcrrfE6UnR9PcxPY0hjWodBdo4bBh2RgMC8Qqs4en079kL9pjxI/JR+oW2L6muQSD6Ww9LhbhaAOBxr+Fd3mvwjmtFkPmK057KqO/Z4t2LPeYNPPyBQD+0VV4UFd83eIs/Uo+DrPuwQV+ZYHn60FGxgmuOcMHS0ARpvoZLJ5om6CWy4rz+W9mJzTvL7tKb3qu4w7amjwCOSoOisnSWH1QjJMRuJeOVHVlbSR7BlqjKBDXZaBOPBSKlVEsOYK1Z3pLcKselQPQFHYqGsn7Z6gG6h90acWeoQ7cYGOLw8Zcf7lr0b3fA83CFq8/aGVAUre5hbZN8rbu1kDhnJhpcYHuNNgh+tf6yNpAt6bmegT/5eb/QuvBdkD36B60gnetTNd4JWsQzzK8Ywe8vm+YDeFy5MXF2x4sem/b79C238MMujmRSAeBbQW2tYgCVNavKVfKwc7qm5msukJ40g4rnBvOnPrUKnpxVo3NXLEqrNTAZ3N9W5g20EkPvC30mw92eZSRzIE1a1YHtMuHNbcRjcq/9IkLbrmzBJnC2e+YU7qSNoim8YDZOj5rZuIh8US49XRxYR0bN3eZCLoKsfvy2Z2jIGKtUDdMfRLY0tcMl+2i8IRnUBql1/odxdxWSJ+JtktycSVAznXsMuG3/gl3xhFLc3BraYAzDyVImlD7gpVExEvRSvzFwHyRzzcSDafC1wdEtYrauzd3eGApb7sA5pW0O/UERu'
                encryptedBsn:
                  type: string
                  format: base64
                  example: 'MIIByAYKYIQQAYdrCgECAzCCAVMwggE9BgpghBABh2sKAQIBAgEBAgELFhQwMDAwMDAwMDAwMDAwMDAwMDAwMRYUMDAwMDAwMDAwMDAwMDAwMDAwMDQCASwwgfkEUQTPrpGtPJXQPkAlUp3HW+EORYhpYA0DENDgs9cm35EJ/I3peqSAhdXlG82nWiek9Z14ceT1kWY0F55CE0NanANvM/1wNPDd5q0VO0O8DT4G9wRRBGdbdX7/QVxs4sQv9kkHpLydYBkoDPngzaE8/t/0RU2xiq+ANPsxhMfAWaQexwNyd6MEk0oX0FcnOeP5c95x7cQ/7pOdeB0sxwvIYavK8HcABFEEo9+WUoQCtiU9pBkXI/xgetp+EZ9bEF/x7C/GNoVZnop3seV6sZuQy0+wahOu9g4tGBvTmCu2++3fqrZNI4yPgKHtgPYfTPFWXj60YYZ/ueEEEAAAAAAAAAAFWhgrdAdbzRUwYwYKBAB/AAcBAQQDAzBVAikAsqtXpXJjmtW9OzKLewYoidX7/i6EsNDYqJwvqNzmE3B3Zs7mKWSpmgIoZjZq5rmXXAHb5Y/tPK+4ZwGbOHIWhibL7eELzdvRphxHH0YPiw+kIg=='
      responses:
        '200':
          description: Succesvol decrypted
          content:
            application/json:
              schema:
                type: object
                properties:
                  bsn:
                    type: string
                    example: '950053533' 
        '400':
          description: Ongeldige parameter
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CibgFault'
              example:
                fault:
                  code: 'Bad Request'
                  reason: 'Value systeem1 does not match regular expression ^\w{3,5}$ for field signer'
        '401':
          description: Geen JWT in request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CibgFault'
              example:
                fault:
                  code: 'Not Authorized'
        '403':
          description: Geen toegang tot deze api
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CibgFault'
              example:
                fault:
                  code: 'Forbidden'
components:
  schemas:

    CibgFault:
      type: object
      properties:
        fault:
          type: object
          properties:
            code:
              type: string
              example: 'ErrorCode'
            reason:
              type: string
              example: 'Reden van fout'
            detail:
              type: string
              example: 'Extra informatie over fout'