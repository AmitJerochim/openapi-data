penapi: 3.0.0
info:
  version: "1.1"
  title: 'EventosViaPublica'
  description: 'Consulta de Eventos en la vía pública buscando por fecha y otros parámetros'
  termsOfService: http:localhost/terms
  contact:
    name: SICE
    url: www.sice.com
    email: egomez@sice.com
  license: 
    name: "Apache 2.0"
    url: http://www.apache.com
    
#paths: {}
# Added by API Auto Mocking Plugin
servers:
# Added by API Auto Mocking Plugin
# Added by API Auto Mocking Plugin
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/egomezgon/EventosViaPublica/1.1


paths:
  /eventos:
    get:
      description: permite obtener lista de eventos según los parámetros
      parameters:
      - in: query
        name: id_tipo
        required: false
        description: tipo de evento
        schema:
          type: number
          example: 12
      - in: query
        name: influye_trafico
        required: false
        description: influye en el trafico
        schema:
          type: boolean
          example: true        
      - in: query
        name: fecha_desde
        required: true
        description: fecha inicio de la consulta (unix timestamp)
        schema:
          type: string
          example: 1511884800
      - in: query
        name: fecha_hasta
        required: true
        description: fecha hasta de la consulta (unix timestamp)
        schema:
          type: string
          example: 1511889800
          
      responses:
        200:
          description: Successful request
          content:
            application/json:
              schema:
                type: array
                items:          
                  $ref: "#/components/schemas/Evento"
        404:
            $ref: "#/components/responses/404Response"
          
components:
  schemas: 
    Evento:
      description: estructura de un evento
      type: object
      properties:
        longitud:
          type: number
          format: float               
          example: -1.6439482
        latitud:
          type: number
          format: float               
          example: 42.9999999
        descripcion:
          type: string
          example: "Acceso y Descarga"
        descripcion_EU:
          type: string
          example: "Alde Zaharrerako sarbidea eta deskarga"
        observaciones:
          type: string
          example: "DESCARGA DE MATERIAL DE OBRA"
        id_tipo:
          type: integer
          example: 8
        fecha_inicio:
          type: string
          format: date
          example: "2020-03-29"
        hora_inicio:
          type: string
          format: time
          example: "13:18:05"                  
        fecha_fin:
          type: string
          format: date
          example: "2020-03-31"
        hora_fin:
          type: string
          format: time
          example: "13:18:05"  
        localizacion:
          type: string
          example: "Consistorial S / N"
        influye_trafico:
          type: boolean
          example: true     
  responses:
    404Response:
      description: Mensaje de error