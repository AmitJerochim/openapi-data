openapi: 3.0.0
# Added by API Auto Mocking Plugin
servers:
# Added by API Auto Mocking Plugin
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/tedy/Tedy/1.0.0
  - description: SwaggerHub API Auto Mocking
    url: https://backend.tedyloyal.org/api
info:
  description: Tedy backend API
  version: "1.0.0"
  title: Tedy API
  contact:
    email: s.djordjevic1998@gmail.com
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
tags:
  - name: admins
    description: Secured Admin-only calls
  - name: head developers
    description: Operations available to head developers
  - name: frontend developers
    description: Operations available to frontend developers
paths:
  /company/create:
    post:
      tags:
        - frontend developers
      summary: registers a new company
      operationId: addCompany
      description: Adds a company to the system
      responses:
        '200':
          description: 1 is OK, -2 is RequestNotFilledProperly
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                OKResponse:
                  value:
                    Success: true
                    Status: 1
                RequestNotFilledProperly:
                  value:
                    Success: false
                    Status: -2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Company'
        description: Company to add
  /company/update:
    post:
      tags:
        - frontend developers
      summary: updates general company info
      operationId: updateCompany
      description: Updates basic company info
      responses:
        '200':
          description: 1 is OK, -2 is RequestNotFilledProperly, -1 is Exception
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                OKResponse:
                  value:
                    Success: true
                    Status: 1
                RequestNotFilledProperly:
                  value:
                    Success: false
                    Status: -2
                Exception:
                  value:
                    Success: false
                    Status: -1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyUpdateRequest'
        description: Company info
  /company/get:
    post:
      tags:
        - frontend developers
      summary: gets complete company info
      operationId: getCompany
      description: Gets complete company info
      responses:
        '200':
          description: 1 is OK, -2 is RequestNotFilledProperly, -1 is Exception
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CompanyGetResponse'
              examples:
                OKResponse:
                  value:
                    Success: true
                    Status: 1
                    Data:
                      company:
                        $ref: '#/components/schemas/Company'
                RequestNotFilledProperly:
                  value:
                    Success: false
                    Status: -2
                Exception:
                  value:
                    Success: false
                    Status: -1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyGetRequest'
        description: Company info
  /company/delete:
    post:
      tags:
        - frontend developers
      summary: deletes a company
      operationId: deleteCompany
      description: Deletes a company
      responses:
        '200':
          description: 1 is OK, -2 is RequestNotFilledProperly, -19 is Incorrect, -1 is Exception
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CompanyGetResponse'
              examples:
                OKResponse:
                  value:
                    Success: true
                    Status: 1
                RequestNotFilledProperly:
                  value:
                    Success: false
                    Status: -2
                Incorrect:
                  value:
                    Success: false
                    Status: -19
                Exception:
                  value:
                    Success: false
                    Status: -1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CompanyDeleteRequest'
        description: Delete a company
  /shop/create:
    post:
      tags:
        - frontend developers
      summary: creates a single shop's info
      operationId: createShop
      description: Creates a single shop's info
      responses:
        '200':
          description: 1 is OK, -2 is RequestNotFilledProperly, -1 is Exception
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                OKResponse:
                  value:
                    Success: true
                    Status: 1
                RequestNotFilledProperly:
                  value:
                    Success: false
                    Status: -2
                Exception:
                  value:
                    Success: false
                    Status: -1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ShopCreateRequest'
        description: Shop creation info
  /shop/update:
    post:
      tags:
        - frontend developers
      summary: updates single shop's info
      operationId: updateShop
      description: Updates single shop's info
      responses:
        '200':
          description: 1 is OK, -2 is RequestNotFilledProperly, -1 is Exception
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                OKResponse:
                  value:
                    Success: true
                    Status: 1
                RequestNotFilledProperly:
                  value:
                    Success: false
                    Status: -2
                Exception:
                  value:
                    Success: false
                    Status: -1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ShopUpdateRequest'
        description: Shop info
  /shop/delete:
    post:
      tags:
        - frontend developers
      summary: deletes a shop
      operationId: deleteShop
      description: Delete a single shop
      responses:
        '200':
          description: 1 is OK, -2 is RequestNotFilledProperly, -1 is Exception
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                OKResponse:
                  value:
                    Success: true
                    Status: 1
                RequestNotFilledProperly:
                  value:
                    Success: false
                    Status: -2
                Exception:
                  value:
                    Success: false
                    Status: -1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ShopDeleteRequest'
        description: Shop info
  /gallery/create:
    post:
      tags:
        - frontend developers
      summary: updates an existing photo (if id_companygallery null) or adds a single photo to the company's gallery
      operationId: createGallery
      description: Updates an existing photo (if id_companygallery null) or adds a single photo to the company's gallery
      responses:
        '200':
          description: 1 is OK, -2 is RequestNotFilledProperly, -1 is Exception
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                OKResponse:
                  value:
                    Success: true
                    Status: 1
                RequestNotFilledProperly:
                  value:
                    Success: false
                    Status: -2
                Exception:
                  value:
                    Success: false
                    Status: -1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Gallery'
        description: Gallery item
  /gallery/delete:
    post:
      tags:
        - frontend developers
      summary: deletes a photo from company's gallery
      operationId: deleteGallery
      description: Deletes a photo from company's gallery
      responses:
        '200':
          description: 1 is OK, -2 is RequestNotFilledProperly, -1 is Exception
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                OKResponse:
                  value:
                    Success: true
                    Status: 1
                RequestNotFilledProperly:
                  value:
                    Success: false
                    Status: -2
                Exception:
                  value:
                    Success: false
                    Status: -1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Gallery'
        description: Gallery item
  /admin/listpromotions:
    post:
      tags:
        - frontend developers
      summary: lists all active and future promotions
      operationId: adminListPromotions
      description: Lists all promotions
      responses:
        '200':
          description: 1 is OK, -2 is RequestNotFilledProperly
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                OKResponse:
                  value:
                    Success: true
                    Status: 1
                RequestNotFilledProperly:
                  value:
                    Success: false
                    Status: -2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AdminListPromotionsRequest'
        description: List of all active and future promotions
  /promotion/create:
    post:
      tags:
        - frontend developers
      summary: posts a new promotion (id_promotion not included here)
      operationId: addPromotion
      description: Adds a promotion for a company
      responses:
        '200':
          description: 1 is OK, -2 is RequestNotFilledProperly
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                OKResponse:
                  value:
                    Success: true
                    Status: 1
                RequestNotFilledProperly:
                  value:
                    Success: false
                    Status: -2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Promotion'
        description: Promotion to add
  /promotion/update:
    post:
      tags:
        - frontend developers
      summary: updates an existing promotion (id_promotion required)
      operationId: updatePromotion
      description: Updates a promotion
      responses:
        '200':
          description: 1 is OK, -2 is RequestNotFilledProperly
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                OKResponse:
                  value:
                    Success: true
                    Status: 1
                RequestNotFilledProperly:
                  value:
                    Success: false
                    Status: -2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Promotion'
        description: Promotion to update (id_promotion required)
  /promotion/get:
    post:
      tags:
        - frontend developers
      summary: gets a single promotion
      operationId: getPromotion
      description: Gets a promotion
      responses:
        '200':
          description: 1 is OK, -2 is RequestNotFilledProperly
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                OKResponse:
                  value:
                    Success: true
                    Status: 1
                RequestNotFilledProperly:
                  value:
                    Success: false
                    Status: -2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PromotionGetRequest'
        description: id_promotion
  /pin/create:
    post:
      tags:
        - frontend developers
      summary: inserts a new pin for promotion
      operationId: createPin
      description: Creates a new pin
      responses:
        '200':
          description: 1 is OK, -2 is RequestNotFilledProperly
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                OKResponse:
                  value:
                    Success: true
                    Status: 1
                RequestNotFilledProperly:
                  value:
                    Success: false
                    Status: -2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PinCreateRequest'
        description: Pin to insert
  /pin/update:
    post:
      tags:
        - frontend developers
      summary: update an existing pin for promotion
      operationId: updatePin
      description: Updates a pin
      responses:
        '200':
          description: 1 is OK, -2 is RequestNotFilledProperly
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                OKResponse:
                  value:
                    Success: true
                    Status: 1
                RequestNotFilledProperly:
                  value:
                    Success: false
                    Status: -2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PinUpdateRequest'
        description: Pin to update
  /pin/delete:
    post:
      tags:
        - frontend developers
      summary: deletes a pin
      operationId: deletePin
      description: Deletes a pin
      responses:
        '200':
          description: 1 is OK, -2 is RequestNotFilledProperly
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                OKResponse:
                  value:
                    Success: true
                    Status: 1
                RequestNotFilledProperly:
                  value:
                    Success: false
                    Status: -2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PinDeleteRequest'
        description: Pin to delete
  /pin/list:
    post:
      tags:
        - frontend developers
      summary: gets the list of pins
      operationId: listPin
      description: Lists pins
      responses:
        '200':
          description: 1 is OK, -2 is RequestNotFilledProperly
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BaseResponse'
              examples:
                OKResponse:
                  value:
                    Success: true
                    Status: 1
                RequestNotFilledProperly:
                  value:
                    Success: false
                    Status: -2
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PinListRequest'
        description: id_promotion
components:
  schemas:
    Company:
      type: object
      required:
        - tin
        - country
        - name
        - about
        - logo
        - profilepic
        - type
        - phone
        - locations
        - gallery
      properties:
        id:
          type: integer
          example: 108
        tin:
          type: string
          example: '21455113'
        country:
          type: string
          example: '381'
        name:
          type: string
          example: 'Beauty centar Pleasure'
        about:
          type: string
          example: 'У Beauty centar Pleasure можете уживати у миру и у врхунским третманима и најквалитетнијој козметици. Дочекаће вас пријатно и пре свега стручно особље, едуковано како код нас тако и у иностранству. У нашем центру налази се право мало царство за све оне којима је циљ лепши изглед и очување коже лица и тела.'
        addinfo:
          type: string
          example: '#freewifi'
        logo:
          type: string
          format: base64
          example: 'R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'
        profilepic:
          type: string
          format: base64
          example: 'R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'
        website:
          type: string
          format: uri
          example: 'http://beautycentarpleasure.com/'
        facebook:
          type: string
          format: uri
          example: 'https://www.facebook.com/BeautyCentarBeograd/?ref=br_rs'
        instagram:
          type: string
          format: uri
          example: 'https://www.instagram.com/beautycentarpleasure/?hl=sr'
        ordering:
          type: string
          format: uri
          example: 'https://proba.cloudwaitress.com/'
        phone:
          type: string
          example: '+381 60 6067976'
        type:
          type: string
          example: '#bistro #café #sitandeat'
        monday:
          type: string
          example: '09:00 - 20:00'
        tuesday:
          type: string
          example: '09:00 - 20:00'
        wednesday:
          type: string
          example: '09:00 - 20:00'
        thursday:
          type: string
          example: '09:00 - 20:00'
        friday:
          type: string
          example: '09:00 - 20:00'
        saturday:
          type: string
          example: '09:00 - 14:00'
        sunday:
          type: string
          example: '09:00 - 10:00'
        prefiscal:
          type: string
          example: 'Cybersharko doo\nSvetozara Gligorica 25a\nPera 066/1234-56-78'
        postfiscal:
          type: string
          example: 'POPUST KUPON\nNA POTROSENIH 500din i vise ovim kuponom ostvarujete podust od :'
        locations:
          type: array
          items:
            $ref: '#/components/schemas/Location'
          example:
            - address: Проте Матеје 20
              latitude: 44.803151
              longitude: 20.469385
              headquarters: 1
            - address: Карађорђева 2
              latitude: 44.820037
              longitude: 20.447941
              headquarters: 0
        gallery:
          type: array
          items:
            type: string
            format: base64
          example: [R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7, R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7, R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7]
        gallery_details:
          type: array
          items:
            $ref: '#/components/schemas/Gallery'
    CompanyUpdateRequest:
      type: object
      required:
        - tin
        - country
        - name
        - about
        - logo
        - profilepic
        - type
        - phone
        - locations
        - gallery
      properties:
        id:
          type: integer
          example: 108
        tin:
          type: string
          example: '21455113'
        country:
          type: string
          example: '381'
        name:
          type: string
          example: 'Beauty centar Pleasure'
        about:
          type: string
          example: 'У Beauty centar Pleasure можете уживати у миру и у врхунским третманима и најквалитетнијој козметици. Дочекаће вас пријатно и пре свега стручно особље, едуковано како код нас тако и у иностранству. У нашем центру налази се право мало царство за све оне којима је циљ лепши изглед и очување коже лица и тела.'
        addinfo:
          type: string
          example: '#freewifi'
        logo:
          type: string
          format: base64
          example: 'R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'
        profilepic:
          type: string
          format: base64
          example: 'R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'
        website:
          type: string
          format: uri
          example: 'http://beautycentarpleasure.com/'
        facebook:
          type: string
          format: uri
          example: 'https://www.facebook.com/BeautyCentarBeograd/?ref=br_rs'
        instagram:
          type: string
          format: uri
          example: 'https://www.instagram.com/beautycentarpleasure/?hl=sr'
        ordering:
          type: string
          format: uri
          example: 'https://proba.cloudwaitress.com/'
        phone:
          type: string
          example: '+381 60 6067976'
        type:
          type: string
          example: '#bistro #café #sitandeat'
        monday:
          type: string
          example: '09:00-20:00'
        tuesday:
          type: string
          example: '09:00-20:00'
        wednesday:
          type: string
          example: '09:00-20:00'
        thursday:
          type: string
          example: '09:00-20:00'
        friday:
          type: string
          example: '09:00-20:00'
        saturday:
          type: string
          example: '09:00-14:00'
        sunday:
          type: string
          example: '09:00-10:00'
        prefiscal:
          type: string
          example: 'Cybersharko doo\nSvetozara Gligorica 25a\nPera 066/1234-56-78'
        postfiscal:
          type: string
          example: 'POPUST KUPON\nNA POTROSENIH 500din i vise ovim kuponom ostvarujete podust od :'
    Location:
      type: object
      required:
        - address
        - latitude
        - longitude
        - headquarters
      properties:
        id:
          type: integer
          example: 1
        address:
          type: string
          example: Проте Матеје 20
        latitude:
          type: number
          format: float
          example: 44.803151
        longitude:
          type: number
          format: float
          example: 20.469385
        headquarters:
          type: integer
          example: 1
    ShopCreateRequest:
      type: object
      required:
        - id_company
        - address
        - latitude
        - longitude
        - headquarters
      properties:
        id_company:
          type: integer
          example: 108
        address:
          type: string
          example: Проте Матеје 20
        latitude:
          type: number
          format: float
          example: 44.803151
        longitude:
          type: number
          format: float
          example: 20.469385
        headquarters:
          type: integer
          example: 1
    ShopUpdateRequest:
      type: object
      required:
        - id_shop
        - address
        - latitude
        - longitude
        - headquarters
      properties:
        id_shop:
          type: integer
          example: 275
        address:
          type: string
          example: Проте Матеје 20
        latitude:
          type: number
          format: float
          example: 44.803151
        longitude:
          type: number
          format: float
          example: 20.469385
        headquarters:
          type: integer
          example: 1
    ShopDeleteRequest:
      type: object
      required:
        - id_shop
      properties:
        id_shop:
          type: integer
          example: 275
    Gallery:
      type: object
      required:
        - id_company
        - photo
      properties:
        id_companygallery:
          type: integer
          example: 1
        id_company:
          type: integer
          example: 108
        photo:
          type: string
          format: base64
          example: R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7
    Promotion:
      type: object
      required:
        - id_company
        - type
        - is_voucher
        - info
        - photo
        - starttime
        - endtime
      properties:
        id_promotion:
          type: integer
          example: 10
        id_company:
          type: integer
          example: 108
        type:
          type: string
          example: '#bistro #café #sitandeat'
        is_voucher:
          type: integer
          example: 1
        stock:
          type: integer
          example: 100
        info:
          type: string
          example: 'За Ваш добар дан'
        photo:
          type: string
          format: base64
          example: 'R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'
        starttime:
          type: string
          format: date-time
          example: '2019-10-31 17:00:00'
        endtime:
          type: string
          format: date-time
          example: '2020-05-19 17:00:00'
        pins:
          type: array
          items:
            $ref: '#/components/schemas/PromotionWorkerItem'
    PromotionWorkerItem:
      type: object
      required:
        - id_worker
        - password
      properties:
        id_worker:
          type: integer
          example: 2
        password:
          type: string
    BaseResponse:
      type: object
      required:
        - Success
        - Status
      properties:
        Success:
          type: boolean
          example: true
        Status:
          type: number
          example: 1
    CompanyGetResponse:
      type: object
      required:
        - Success
        - Status
        - Data
      properties:
        Success:
          type: boolean
          example: true
        Status:
          type: number
          example: 1
        Data:
          $ref: '#/components/schemas/Company'
    CompanyGetRequest:
      type: object
      required:
        - id_company
      properties:
        id_company:
          type: integer
          example: 108
    PinCreateRequest:
      type: object
      required:
        - id_promotion
        - id_worker
        - password
      properties:
        id_worker:
          type: integer
          example: 2
        password:
          type: string
        id_promotion:
          type: integer
          example: 28
    PinUpdateRequest:
      type: object
      required:
        - id_pin
        - id_worker
        - password
      properties:
        id_pin:
          type: integer
          example: 2
        id_worker:
          type: integer
          example: 2
        password:
          type: string
    PinDeleteRequest:
      type: object
      required:
        - id_pin
      properties:
        id_pin:
          type: integer
          example: 2
    PinListRequest:
      type: object
      required:
        - id_promotion
      properties:
        id_promotion:
          type: integer
          example: 28
    PromotionGetRequest:
      type: object
      required:
        - id_promotion
      properties:
        id_promotion:
          type: integer
          example: 20
    CompanyDeleteRequest:
      type: object
      required:
        - id_company
        - Credentials
      properties:
        id_company:
          type: integer
          example: 2
        Credentials:
          $ref: '#/components/schemas/Credentials'
    Credentials:
      type: object
      required:
        - Email
        - Password
      properties:
        Email:
          type: string
          example: 'tedy@loyalty.com'
        Password:
          type: string
          example: 'Proba123'
    AdminListPromotionsRequest:
      type: object
      required:
        - type
      properties:
        type:
          type: string
          example: '#all'